var Sm=Object.defineProperty;var Em=(c,r,n)=>r in c?Sm(c,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[r]=n;var Rn=(c,r,n)=>Em(c,typeof r!="symbol"?r+"":r,n);function xm(c,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in c)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(c,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();var Ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xl(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function Dh(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var r=c.default;if(typeof r=="function"){var n=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(c).forEach(function(s){var l=Object.getOwnPropertyDescriptor(c,s);Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:function(){return c[s]}})}),n}var Qa={exports:{}},Ai={},Ya={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function Om(){if(yd)return Be;yd=1;var c=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function O(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function x(A,z,pe){this.props=A,this.context=z,this.refs=_,this.updater=pe||g}x.prototype.isReactComponent={},x.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},x.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=x.prototype;function R(A,z,pe){this.props=A,this.context=z,this.refs=_,this.updater=pe||g}var j=R.prototype=new C;j.constructor=R,T(j,x.prototype),j.isPureReactComponent=!0;var F=Array.isArray,$=Object.prototype.hasOwnProperty,K={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function ne(A,z,pe){var le,ae={},Oe=null,je=null;if(z!=null)for(le in z.ref!==void 0&&(je=z.ref),z.key!==void 0&&(Oe=""+z.key),z)$.call(z,le)&&!G.hasOwnProperty(le)&&(ae[le]=z[le]);var be=arguments.length-2;if(be===1)ae.children=pe;else if(1<be){for(var Ee=Array(be),ze=0;ze<be;ze++)Ee[ze]=arguments[ze+2];ae.children=Ee}if(A&&A.defaultProps)for(le in be=A.defaultProps,be)ae[le]===void 0&&(ae[le]=be[le]);return{$$typeof:c,type:A,key:Oe,ref:je,props:ae,_owner:K.current}}function Q(A,z){return{$$typeof:c,type:A.type,key:z,ref:A.ref,props:A.props,_owner:A._owner}}function de(A){return typeof A=="object"&&A!==null&&A.$$typeof===c}function we(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(pe){return z[pe]})}var B=/\/+/g;function Z(A,z){return typeof A=="object"&&A!==null&&A.key!=null?we(""+A.key):z.toString(36)}function k(A,z,pe,le,ae){var Oe=typeof A;(Oe==="undefined"||Oe==="boolean")&&(A=null);var je=!1;if(A===null)je=!0;else switch(Oe){case"string":case"number":je=!0;break;case"object":switch(A.$$typeof){case c:case r:je=!0}}if(je)return je=A,ae=ae(je),A=le===""?"."+Z(je,0):le,F(ae)?(pe="",A!=null&&(pe=A.replace(B,"$&/")+"/"),k(ae,z,pe,"",function(ze){return ze})):ae!=null&&(de(ae)&&(ae=Q(ae,pe+(!ae.key||je&&je.key===ae.key?"":(""+ae.key).replace(B,"$&/")+"/")+A)),z.push(ae)),1;if(je=0,le=le===""?".":le+":",F(A))for(var be=0;be<A.length;be++){Oe=A[be];var Ee=le+Z(Oe,be);je+=k(Oe,z,pe,Ee,ae)}else if(Ee=O(A),typeof Ee=="function")for(A=Ee.call(A),be=0;!(Oe=A.next()).done;)Oe=Oe.value,Ee=le+Z(Oe,be++),je+=k(Oe,z,pe,Ee,ae);else if(Oe==="object")throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return je}function ee(A,z,pe){if(A==null)return A;var le=[],ae=0;return k(A,le,"","",function(Oe){return z.call(pe,Oe,ae++)}),le}function ke(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(pe){(A._status===0||A._status===-1)&&(A._status=1,A._result=pe)},function(pe){(A._status===0||A._status===-1)&&(A._status=2,A._result=pe)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var re={current:null},oe={transition:null},X={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:oe,ReactCurrentOwner:K};function se(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:ee,forEach:function(A,z,pe){ee(A,function(){z.apply(this,arguments)},pe)},count:function(A){var z=0;return ee(A,function(){z++}),z},toArray:function(A){return ee(A,function(z){return z})||[]},only:function(A){if(!de(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Be.Component=x,Be.Fragment=n,Be.Profiler=l,Be.PureComponent=R,Be.StrictMode=s,Be.Suspense=f,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Be.act=se,Be.cloneElement=function(A,z,pe){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var le=T({},A.props),ae=A.key,Oe=A.ref,je=A._owner;if(z!=null){if(z.ref!==void 0&&(Oe=z.ref,je=K.current),z.key!==void 0&&(ae=""+z.key),A.type&&A.type.defaultProps)var be=A.type.defaultProps;for(Ee in z)$.call(z,Ee)&&!G.hasOwnProperty(Ee)&&(le[Ee]=z[Ee]===void 0&&be!==void 0?be[Ee]:z[Ee])}var Ee=arguments.length-2;if(Ee===1)le.children=pe;else if(1<Ee){be=Array(Ee);for(var ze=0;ze<Ee;ze++)be[ze]=arguments[ze+2];le.children=be}return{$$typeof:c,type:A.type,key:ae,ref:Oe,props:le,_owner:je}},Be.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},Be.createElement=ne,Be.createFactory=function(A){var z=ne.bind(null,A);return z.type=A,z},Be.createRef=function(){return{current:null}},Be.forwardRef=function(A){return{$$typeof:d,render:A}},Be.isValidElement=de,Be.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:ke}},Be.memo=function(A,z){return{$$typeof:m,type:A,compare:z===void 0?null:z}},Be.startTransition=function(A){var z=oe.transition;oe.transition={};try{A()}finally{oe.transition=z}},Be.unstable_act=se,Be.useCallback=function(A,z){return re.current.useCallback(A,z)},Be.useContext=function(A){return re.current.useContext(A)},Be.useDebugValue=function(){},Be.useDeferredValue=function(A){return re.current.useDeferredValue(A)},Be.useEffect=function(A,z){return re.current.useEffect(A,z)},Be.useId=function(){return re.current.useId()},Be.useImperativeHandle=function(A,z,pe){return re.current.useImperativeHandle(A,z,pe)},Be.useInsertionEffect=function(A,z){return re.current.useInsertionEffect(A,z)},Be.useLayoutEffect=function(A,z){return re.current.useLayoutEffect(A,z)},Be.useMemo=function(A,z){return re.current.useMemo(A,z)},Be.useReducer=function(A,z,pe){return re.current.useReducer(A,z,pe)},Be.useRef=function(A){return re.current.useRef(A)},Be.useState=function(A){return re.current.useState(A)},Be.useSyncExternalStore=function(A,z,pe){return re.current.useSyncExternalStore(A,z,pe)},Be.useTransition=function(){return re.current.useTransition()},Be.version="18.3.1",Be}var wd;function Ol(){return wd||(wd=1,Ya.exports=Om()),Ya.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function Pm(){if(_d)return Ai;_d=1;var c=Ol(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var b,E={},O=null,g=null;m!==void 0&&(O=""+m),f.key!==void 0&&(O=""+f.key),f.ref!==void 0&&(g=f.ref);for(b in f)s.call(f,b)&&!a.hasOwnProperty(b)&&(E[b]=f[b]);if(d&&d.defaultProps)for(b in f=d.defaultProps,f)E[b]===void 0&&(E[b]=f[b]);return{$$typeof:r,type:d,key:O,ref:g,props:E,_owner:l.current}}return Ai.Fragment=n,Ai.jsx=u,Ai.jsxs=u,Ai}var kd;function Cm(){return kd||(kd=1,Qa.exports=Pm()),Qa.exports}var ue=Cm(),nt=Ol(),Gs={},Xa={exports:{}},At={},el={exports:{}},tl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function Tm(){return bd||(bd=1,(function(c){function r(oe,X){var se=oe.length;oe.push(X);e:for(;0<se;){var A=se-1>>>1,z=oe[A];if(0<l(z,X))oe[A]=X,oe[se]=z,se=A;else break e}}function n(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var X=oe[0],se=oe.pop();if(se!==X){oe[0]=se;e:for(var A=0,z=oe.length,pe=z>>>1;A<pe;){var le=2*(A+1)-1,ae=oe[le],Oe=le+1,je=oe[Oe];if(0>l(ae,se))Oe<z&&0>l(je,ae)?(oe[A]=je,oe[Oe]=se,A=Oe):(oe[A]=ae,oe[le]=se,A=le);else if(Oe<z&&0>l(je,se))oe[A]=je,oe[Oe]=se,A=Oe;else break e}}return X}function l(oe,X){var se=oe.sortIndex-X.sortIndex;return se!==0?se:oe.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;c.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();c.unstable_now=function(){return u.now()-d}}var f=[],m=[],b=1,E=null,O=3,g=!1,T=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var X=n(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=oe)s(m),X.sortIndex=X.expirationTime,r(f,X);else break;X=n(m)}}function F(oe){if(_=!1,j(oe),!T)if(n(f)!==null)T=!0,ke($);else{var X=n(m);X!==null&&re(F,X.startTime-oe)}}function $(oe,X){T=!1,_&&(_=!1,C(ne),ne=-1),g=!0;var se=O;try{for(j(X),E=n(f);E!==null&&(!(E.expirationTime>X)||oe&&!we());){var A=E.callback;if(typeof A=="function"){E.callback=null,O=E.priorityLevel;var z=A(E.expirationTime<=X);X=c.unstable_now(),typeof z=="function"?E.callback=z:E===n(f)&&s(f),j(X)}else s(f);E=n(f)}if(E!==null)var pe=!0;else{var le=n(m);le!==null&&re(F,le.startTime-X),pe=!1}return pe}finally{E=null,O=se,g=!1}}var K=!1,G=null,ne=-1,Q=5,de=-1;function we(){return!(c.unstable_now()-de<Q)}function B(){if(G!==null){var oe=c.unstable_now();de=oe;var X=!0;try{X=G(!0,oe)}finally{X?Z():(K=!1,G=null)}}else K=!1}var Z;if(typeof R=="function")Z=function(){R(B)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ee=k.port2;k.port1.onmessage=B,Z=function(){ee.postMessage(null)}}else Z=function(){x(B,0)};function ke(oe){G=oe,K||(K=!0,Z())}function re(oe,X){ne=x(function(){oe(c.unstable_now())},X)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(oe){oe.callback=null},c.unstable_continueExecution=function(){T||g||(T=!0,ke($))},c.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<oe?Math.floor(1e3/oe):5},c.unstable_getCurrentPriorityLevel=function(){return O},c.unstable_getFirstCallbackNode=function(){return n(f)},c.unstable_next=function(oe){switch(O){case 1:case 2:case 3:var X=3;break;default:X=O}var se=O;O=X;try{return oe()}finally{O=se}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(oe,X){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var se=O;O=oe;try{return X()}finally{O=se}},c.unstable_scheduleCallback=function(oe,X,se){var A=c.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?A+se:A):se=A,oe){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=se+z,oe={id:b++,callback:X,priorityLevel:oe,startTime:se,expirationTime:z,sortIndex:-1},se>A?(oe.sortIndex=se,r(m,oe),n(f)===null&&oe===n(m)&&(_?(C(ne),ne=-1):_=!0,re(F,se-A))):(oe.sortIndex=z,r(f,oe),T||g||(T=!0,ke($))),oe},c.unstable_shouldYield=we,c.unstable_wrapCallback=function(oe){var X=O;return function(){var se=O;O=X;try{return oe.apply(this,arguments)}finally{O=se}}}})(tl)),tl}var Sd;function Am(){return Sd||(Sd=1,el.exports=Tm()),el.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Rm(){if(Ed)return At;Ed=1;var c=Ol(),r=Am();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},E={};function O(e){return f.call(E,e)?!0:f.call(b,e)?!1:m.test(e)?E[e]=!0:(b[e]=!0,!1)}function g(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,i,o){if(t===null||typeof t>"u"||g(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _(e,t,i,o,h,p,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=S}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,R);x[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,R);x[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,R);x[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,t,i,o){var h=x.hasOwnProperty(t)?x[t]:null;(h!==null?h.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,i,h,o)&&(i=null),o||h===null?O(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,o=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var F=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),K=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),we=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),oe=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,A;function z(e){if(A===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return`
`+A+e}var pe=!1;function le(e,t){if(!e||pe)return"";pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Y){var o=Y}Reflect.construct(e,[],t)}else{try{t.call()}catch(Y){o=Y}e.call(t.prototype)}else{try{throw Error()}catch(Y){o=Y}e()}}catch(Y){if(Y&&o&&typeof Y.stack=="string"){for(var h=Y.stack.split(`
`),p=o.stack.split(`
`),S=h.length-1,L=p.length-1;1<=S&&0<=L&&h[S]!==p[L];)L--;for(;1<=S&&0<=L;S--,L--)if(h[S]!==p[L]){if(S!==1||L!==1)do if(S--,L--,0>L||h[S]!==p[L]){var M=`
`+h[S].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=S&&0<=L);break}}}finally{pe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?z(e):""}function ae(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function Oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case K:return"Portal";case Q:return"Profiler";case ne:return"StrictMode";case Z:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:Oe(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return Oe(e(t))}catch{}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(t);case 8:return t===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ze(e){var t=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,p=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function We(e){e._valueTracker||(e._valueTracker=ze(e))}function bt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ee(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function v(e,t){var i=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ie(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=be(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function te(e,t){t=t.checked,t!=null&&j(e,"checked",t,!1)}function U(e,t){te(e,t);var i=be(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V(e,t.type,i):t.hasOwnProperty("defaultValue")&&V(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function D(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function V(e,t,i){(t!=="number"||ot(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ce=Array.isArray;function w(e,t,i,o){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+be(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function y(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(ce(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:be(i)}}function P(e,t){var i=be(t.value),o=be(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function N(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ye,Ue=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,h)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Je(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qt=["Webkit","ms","Moz","O"];Object.keys(Le).forEach(function(e){qt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Le[t]=Le[e]})});function Fe(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Le.hasOwnProperty(e)&&Le[e]?(""+t).trim():t+"px"}function mt(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,h=Fe(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,h):e[i]=h}}var Vn=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rt(e,t){if(t){if(Vn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function ln(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qn=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kn=null,lr=null,Lt=null;function Fr(e){if(e=mi(e)){if(typeof Kn!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ls(t),Kn(e.stateNode,e.type,t))}}function zl(e){lr?Lt?Lt.push(e):Lt=[e]:lr=e}function Ul(){if(lr){var e=lr,t=Lt;if(Lt=lr=null,Fr(e),t)for(e=0;e<t.length;e++)Fr(t[e])}}function Ll(e,t){return e(t)}function Bl(){}var po=!1;function Fl(e,t,i){if(po)return e(t,i);po=!0;try{return Ll(e,t,i)}finally{po=!1,(lr!==null||Lt!==null)&&(Bl(),Ul())}}function Gn(e,t){var i=e.stateNode;if(i===null)return null;var o=ls(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var mo=!1;if(d)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{mo=!1}function Tf(e,t,i,o,h,p,S,L,M){var Y=Array.prototype.slice.call(arguments,3);try{t.apply(i,Y)}catch(fe){this.onError(fe)}}var Zn=!1,Fi=null,$i=!1,go=null,Af={onError:function(e){Zn=!0,Fi=e}};function Rf(e,t,i,o,h,p,S,L,M){Zn=!1,Fi=null,Tf.apply(Af,arguments)}function If(e,t,i,o,h,p,S,L,M){if(Rf.apply(this,arguments),Zn){if(Zn){var Y=Fi;Zn=!1,Fi=null}else throw Error(n(198));$i||($i=!0,go=Y)}}function $r(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function $l(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ml(e){if($r(e)!==e)throw Error(n(188))}function jf(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return Ml(h),e;if(p===o)return Ml(h),t;p=p.sibling}throw Error(n(188))}if(i.return!==o.return)i=h,o=p;else{for(var S=!1,L=h.child;L;){if(L===i){S=!0,i=h,o=p;break}if(L===o){S=!0,o=h,i=p;break}L=L.sibling}if(!S){for(L=p.child;L;){if(L===i){S=!0,i=p,o=h;break}if(L===o){S=!0,o=p,i=h;break}L=L.sibling}if(!S)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Wl(e){return e=jf(e),e!==null?Vl(e):null}function Vl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vl(e);if(t!==null)return t;e=e.sibling}return null}var ql=r.unstable_scheduleCallback,Hl=r.unstable_cancelCallback,Df=r.unstable_shouldYield,Nf=r.unstable_requestPaint,tt=r.unstable_now,zf=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Kl=r.unstable_UserBlockingPriority,Mi=r.unstable_NormalPriority,Uf=r.unstable_LowPriority,Gl=r.unstable_IdlePriority,Wi=null,nr=null;function Lf(e){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:$f,Bf=Math.log,Ff=Math.LN2;function $f(e){return e>>>=0,e===0?32:31-(Bf(e)/Ff|0)|0}var Vi=64,qi=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hi(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,h=e.suspendedLanes,p=e.pingedLanes,S=i&268435455;if(S!==0){var L=S&~h;L!==0?o=Qn(L):(p&=S,p!==0&&(o=Qn(p)))}else S=i&~h,S!==0?o=Qn(S):p!==0&&(o=Qn(p));if(o===0)return 0;if(t!==0&&t!==o&&(t&h)===0&&(h=o&-o,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ht(t),h=1<<i,o|=e[i],t&=~h;return o}function Mf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var S=31-Ht(p),L=1<<S,M=h[S];M===-1?((L&i)===0||(L&o)!==0)&&(h[S]=Mf(L,t)):M<=t&&(e.expiredLanes|=L),p&=~L}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jl(){var e=Vi;return Vi<<=1,(Vi&4194240)===0&&(Vi=64),e}function wo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yn(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=i}function Vf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Ht(i),p=1<<h;t[h]=0,o[h]=-1,e[h]=-1,i&=~p}}function _o(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ht(i),h=1<<o;h&t|e[o]&t&&(e[o]|=t),i&=~h}}var Ve=0;function Zl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ql,ko,Yl,Xl,eu,bo=!1,Ki=[],yr=null,wr=null,_r=null,Xn=new Map,ei=new Map,kr=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(t.pointerId)}}function ti(e,t,i,o,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:p,targetContainers:[h]},t!==null&&(t=mi(t),t!==null&&ko(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Hf(e,t,i,o,h){switch(t){case"focusin":return yr=ti(yr,e,t,i,o,h),!0;case"dragenter":return wr=ti(wr,e,t,i,o,h),!0;case"mouseover":return _r=ti(_r,e,t,i,o,h),!0;case"pointerover":var p=h.pointerId;return Xn.set(p,ti(Xn.get(p)||null,e,t,i,o,h)),!0;case"gotpointercapture":return p=h.pointerId,ei.set(p,ti(ei.get(p)||null,e,t,i,o,h)),!0}return!1}function ru(e){var t=Mr(e.target);if(t!==null){var i=$r(t);if(i!==null){if(t=i.tag,t===13){if(t=$l(i),t!==null){e.blockedOn=t,eu(e.priority,function(){Yl(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);qn=o,i.target.dispatchEvent(o),qn=null}else return t=mi(i),t!==null&&ko(t),e.blockedOn=i,!1;t.shift()}return!0}function nu(e,t,i){Gi(e)&&i.delete(t)}function Kf(){bo=!1,yr!==null&&Gi(yr)&&(yr=null),wr!==null&&Gi(wr)&&(wr=null),_r!==null&&Gi(_r)&&(_r=null),Xn.forEach(nu),ei.forEach(nu)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kf)))}function ni(e){function t(h){return ri(h,e)}if(0<Ki.length){ri(Ki[0],e);for(var i=1;i<Ki.length;i++){var o=Ki[i];o.blockedOn===e&&(o.blockedOn=null)}}for(yr!==null&&ri(yr,e),wr!==null&&ri(wr,e),_r!==null&&ri(_r,e),Xn.forEach(t),ei.forEach(t),i=0;i<kr.length;i++)o=kr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<kr.length&&(i=kr[0],i.blockedOn===null);)ru(i),i.blockedOn===null&&kr.shift()}var un=F.ReactCurrentBatchConfig,Ji=!0;function Gf(e,t,i,o){var h=Ve,p=un.transition;un.transition=null;try{Ve=1,So(e,t,i,o)}finally{Ve=h,un.transition=p}}function Jf(e,t,i,o){var h=Ve,p=un.transition;un.transition=null;try{Ve=4,So(e,t,i,o)}finally{Ve=h,un.transition=p}}function So(e,t,i,o){if(Ji){var h=Eo(e,t,i,o);if(h===null)$o(e,t,o,Zi,i),tu(e,o);else if(Hf(h,e,t,i,o))o.stopPropagation();else if(tu(e,o),t&4&&-1<qf.indexOf(e)){for(;h!==null;){var p=mi(h);if(p!==null&&Ql(p),p=Eo(e,t,i,o),p===null&&$o(e,t,o,Zi,i),p===h)break;h=p}h!==null&&o.stopPropagation()}else $o(e,t,o,null,i)}}var Zi=null;function Eo(e,t,i,o){if(Zi=null,e=Hn(o),e=Mr(e),e!==null)if(t=$r(e),t===null)e=null;else if(i=t.tag,i===13){if(e=$l(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zi=e,null}function iu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zf()){case vo:return 1;case Kl:return 4;case Mi:case Uf:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var br=null,xo=null,Qi=null;function su(){if(Qi)return Qi;var e,t=xo,i=t.length,o,h="value"in br?br.value:br.textContent,p=h.length;for(e=0;e<i&&t[e]===h[e];e++);var S=i-e;for(o=1;o<=S&&t[i-o]===h[p-o];o++);return Qi=h.slice(e,1<o?1-o:void 0)}function Yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function ou(){return!1}function It(e){function t(i,o,h,p,S){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(i=e[L],this[L]=i?i(p):p[L]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Xi:ou,this.isPropagationStopped=ou,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=It(cn),ii=se({},cn,{view:0,detail:0}),Zf=It(ii),Po,Co,si,es=se({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Po=e.screenX-si.screenX,Co=e.screenY-si.screenY):Co=Po=0,si=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:Co}}),au=It(es),Qf=se({},es,{dataTransfer:0}),Yf=It(Qf),Xf=se({},ii,{relatedTarget:0}),To=It(Xf),ep=se({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),tp=It(ep),rp=se({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=It(rp),ip=se({},cn,{data:0}),lu=It(ip),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ap[e])?!!t[e]:!1}function Ao(){return lp}var up=se({},ii,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cp=It(up),dp=se({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=It(dp),hp=se({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),fp=It(hp),pp=se({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mp=It(pp),gp=se({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vp=It(gp),yp=[9,13,27,32],Ro=d&&"CompositionEvent"in window,oi=null;d&&"documentMode"in document&&(oi=document.documentMode);var wp=d&&"TextEvent"in window&&!oi,cu=d&&(!Ro||oi&&8<oi&&11>=oi),du=" ",hu=!1;function fu(e,t){switch(e){case"keyup":return yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dn=!1;function _p(e,t){switch(e){case"compositionend":return pu(t);case"keypress":return t.which!==32?null:(hu=!0,du);case"textInput":return e=t.data,e===du&&hu?null:e;default:return null}}function kp(e,t){if(dn)return e==="compositionend"||!Ro&&fu(e,t)?(e=su(),Qi=xo=br=null,dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cu&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function gu(e,t,i,o){zl(o),t=ss(t,"onChange"),0<t.length&&(i=new Oo("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var ai=null,li=null;function Sp(e){Du(e,0)}function ts(e){var t=gn(e);if(bt(t))return e}function Ep(e,t){if(e==="change")return t}var vu=!1;if(d){var Io;if(d){var jo="oninput"in document;if(!jo){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),jo=typeof yu.oninput=="function"}Io=jo}else Io=!1;vu=Io&&(!document.documentMode||9<document.documentMode)}function wu(){ai&&(ai.detachEvent("onpropertychange",_u),li=ai=null)}function _u(e){if(e.propertyName==="value"&&ts(li)){var t=[];gu(t,li,e,Hn(e)),Fl(Sp,t)}}function xp(e,t,i){e==="focusin"?(wu(),ai=t,li=i,ai.attachEvent("onpropertychange",_u)):e==="focusout"&&wu()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(li)}function Pp(e,t){if(e==="click")return ts(t)}function Cp(e,t){if(e==="input"||e==="change")return ts(t)}function Tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Tp;function ui(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!f.call(t,h)||!Kt(e[h],t[h]))return!1}return!0}function ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var i=ku(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ku(i)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(){for(var e=window,t=ot();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ot(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ap(e){var t=Eu(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Su(i.ownerDocument.documentElement,i)){if(o!==null&&Do(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,p=Math.min(o.start,h);o=o.end===void 0?p:Math.min(o.end,h),!e.extend&&p>o&&(h=o,o=p,p=h),h=bu(i,p);var S=bu(i,o);h&&S&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>o?(e.addRange(t),e.extend(S.node,S.offset)):(t.setEnd(S.node,S.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rp=d&&"documentMode"in document&&11>=document.documentMode,hn=null,No=null,ci=null,zo=!1;function xu(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;zo||hn==null||hn!==ot(o)||(o=hn,"selectionStart"in o&&Do(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ci&&ui(ci,o)||(ci=o,o=ss(No,"onSelect"),0<o.length&&(t=new Oo("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=hn)))}function rs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var fn={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},Uo={},Ou={};d&&(Ou=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function ns(e){if(Uo[e])return Uo[e];if(!fn[e])return e;var t=fn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ou)return Uo[e]=t[i];return e}var Pu=ns("animationend"),Cu=ns("animationiteration"),Tu=ns("animationstart"),Au=ns("transitionend"),Ru=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Ru.set(e,t),a(t,[e])}for(var Lo=0;Lo<Iu.length;Lo++){var Bo=Iu[Lo],Ip=Bo.toLowerCase(),jp=Bo[0].toUpperCase()+Bo.slice(1);Sr(Ip,"on"+jp)}Sr(Pu,"onAnimationEnd"),Sr(Cu,"onAnimationIteration"),Sr(Tu,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(Au,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function ju(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,If(o,t,void 0,e),e.currentTarget=null}function Du(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var p=void 0;if(t)for(var S=o.length-1;0<=S;S--){var L=o[S],M=L.instance,Y=L.currentTarget;if(L=L.listener,M!==p&&h.isPropagationStopped())break e;ju(h,L,Y),p=M}else for(S=0;S<o.length;S++){if(L=o[S],M=L.instance,Y=L.currentTarget,L=L.listener,M!==p&&h.isPropagationStopped())break e;ju(h,L,Y),p=M}}}if($i)throw e=go,$i=!1,go=null,e}function Ke(e,t){var i=t[Ko];i===void 0&&(i=t[Ko]=new Set);var o=e+"__bubble";i.has(o)||(Nu(t,e,2,!1),i.add(o))}function Fo(e,t,i){var o=0;t&&(o|=4),Nu(i,e,o,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[is]){e[is]=!0,s.forEach(function(i){i!=="selectionchange"&&(Dp.has(i)||Fo(i,!1,e),Fo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,Fo("selectionchange",!1,t))}}function Nu(e,t,i,o){switch(iu(t)){case 1:var h=Gf;break;case 4:h=Jf;break;default:h=So}i=h.bind(null,t,i,e),h=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function $o(e,t,i,o,h){var p=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var L=o.stateNode.containerInfo;if(L===h||L.nodeType===8&&L.parentNode===h)break;if(S===4)for(S=o.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===h||M.nodeType===8&&M.parentNode===h))return;S=S.return}for(;L!==null;){if(S=Mr(L),S===null)return;if(M=S.tag,M===5||M===6){o=p=S;continue e}L=L.parentNode}}o=o.return}Fl(function(){var Y=p,fe=Hn(i),me=[];e:{var he=Ru.get(e);if(he!==void 0){var _e=Oo,xe=e;switch(e){case"keypress":if(Yi(i)===0)break e;case"keydown":case"keyup":_e=cp;break;case"focusin":xe="focus",_e=To;break;case"focusout":xe="blur",_e=To;break;case"beforeblur":case"afterblur":_e=To;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=fp;break;case Pu:case Cu:case Tu:_e=tp;break;case Au:_e=mp;break;case"scroll":_e=Zf;break;case"wheel":_e=vp;break;case"copy":case"cut":case"paste":_e=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=uu}var Pe=(t&4)!==0,rt=!Pe&&e==="scroll",H=Pe?he!==null?he+"Capture":null:he;Pe=[];for(var W=Y,J;W!==null;){J=W;var ve=J.stateNode;if(J.tag===5&&ve!==null&&(J=ve,H!==null&&(ve=Gn(W,H),ve!=null&&Pe.push(fi(W,ve,J)))),rt)break;W=W.return}0<Pe.length&&(he=new _e(he,xe,null,i,fe),me.push({event:he,listeners:Pe}))}}if((t&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",he&&i!==qn&&(xe=i.relatedTarget||i.fromElement)&&(Mr(xe)||xe[ur]))break e;if((_e||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,_e?(xe=i.relatedTarget||i.toElement,_e=Y,xe=xe?Mr(xe):null,xe!==null&&(rt=$r(xe),xe!==rt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(_e=null,xe=Y),_e!==xe)){if(Pe=au,ve="onMouseLeave",H="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=uu,ve="onPointerLeave",H="onPointerEnter",W="pointer"),rt=_e==null?he:gn(_e),J=xe==null?he:gn(xe),he=new Pe(ve,W+"leave",_e,i,fe),he.target=rt,he.relatedTarget=J,ve=null,Mr(fe)===Y&&(Pe=new Pe(H,W+"enter",xe,i,fe),Pe.target=J,Pe.relatedTarget=rt,ve=Pe),rt=ve,_e&&xe)t:{for(Pe=_e,H=xe,W=0,J=Pe;J;J=pn(J))W++;for(J=0,ve=H;ve;ve=pn(ve))J++;for(;0<W-J;)Pe=pn(Pe),W--;for(;0<J-W;)H=pn(H),J--;for(;W--;){if(Pe===H||H!==null&&Pe===H.alternate)break t;Pe=pn(Pe),H=pn(H)}Pe=null}else Pe=null;_e!==null&&zu(me,he,_e,Pe,!1),xe!==null&&rt!==null&&zu(me,rt,xe,Pe,!0)}}e:{if(he=Y?gn(Y):window,_e=he.nodeName&&he.nodeName.toLowerCase(),_e==="select"||_e==="input"&&he.type==="file")var Ce=Ep;else if(mu(he))if(vu)Ce=Cp;else{Ce=Op;var Re=xp}else(_e=he.nodeName)&&_e.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ce=Pp);if(Ce&&(Ce=Ce(e,Y))){gu(me,Ce,i,fe);break e}Re&&Re(e,he,Y),e==="focusout"&&(Re=he._wrapperState)&&Re.controlled&&he.type==="number"&&V(he,"number",he.value)}switch(Re=Y?gn(Y):window,e){case"focusin":(mu(Re)||Re.contentEditable==="true")&&(hn=Re,No=Y,ci=null);break;case"focusout":ci=No=hn=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,xu(me,i,fe);break;case"selectionchange":if(Rp)break;case"keydown":case"keyup":xu(me,i,fe)}var Ie;if(Ro)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else dn?fu(e,i)&&(Ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(cu&&i.locale!=="ko"&&(dn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&dn&&(Ie=su()):(br=fe,xo="value"in br?br.value:br.textContent,dn=!0)),Re=ss(Y,Ne),0<Re.length&&(Ne=new lu(Ne,e,null,i,fe),me.push({event:Ne,listeners:Re}),Ie?Ne.data=Ie:(Ie=pu(i),Ie!==null&&(Ne.data=Ie)))),(Ie=wp?_p(e,i):kp(e,i))&&(Y=ss(Y,"onBeforeInput"),0<Y.length&&(fe=new lu("onBeforeInput","beforeinput",null,i,fe),me.push({event:fe,listeners:Y}),fe.data=Ie))}Du(me,t)})}function fi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ss(e,t){for(var i=t+"Capture",o=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Gn(e,i),p!=null&&o.unshift(fi(e,p,h)),p=Gn(e,t),p!=null&&o.push(fi(e,p,h))),e=e.return}return o}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zu(e,t,i,o,h){for(var p=t._reactName,S=[];i!==null&&i!==o;){var L=i,M=L.alternate,Y=L.stateNode;if(M!==null&&M===o)break;L.tag===5&&Y!==null&&(L=Y,h?(M=Gn(i,p),M!=null&&S.unshift(fi(i,M,L))):h||(M=Gn(i,p),M!=null&&S.push(fi(i,M,L)))),i=i.return}S.length!==0&&e.push({event:t,listeners:S})}var Np=/\r\n?/g,zp=/\u0000|\uFFFD/g;function Uu(e){return(typeof e=="string"?e:""+e).replace(Np,`
`).replace(zp,"")}function os(e,t,i){if(t=Uu(t),Uu(e)!==t&&i)throw Error(n(425))}function as(){}var Mo=null,Wo=null;function Vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,Up=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(e){return Lu.resolve(null).then(e).catch(Bp)}:qo;function Bp(e){setTimeout(function(){throw e})}function Ho(e,t){var i=t,o=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(o===0){e.removeChild(h),ni(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=h}while(i);ni(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),ir="__reactFiber$"+mn,pi="__reactProps$"+mn,ur="__reactContainer$"+mn,Ko="__reactEvents$"+mn,Fp="__reactListeners$"+mn,$p="__reactHandles$"+mn;function Mr(e){var t=e[ir];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ur]||i[ir]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Bu(e);e!==null;){if(i=e[ir])return i;e=Bu(e)}return t}e=i,i=e.parentNode}return null}function mi(e){return e=e[ir]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ls(e){return e[pi]||null}var Go=[],vn=-1;function xr(e){return{current:e}}function Ge(e){0>vn||(e.current=Go[vn],Go[vn]=null,vn--)}function qe(e,t){vn++,Go[vn]=e.current,e.current=t}var Or={},gt=xr(Or),xt=xr(!1),Wr=Or;function yn(e,t){var i=e.type.contextTypes;if(!i)return Or;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in i)h[p]=t[p];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ot(e){return e=e.childContextTypes,e!=null}function us(){Ge(xt),Ge(gt)}function Fu(e,t,i){if(gt.current!==Or)throw Error(n(168));qe(gt,t),qe(xt,i)}function $u(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var h in o)if(!(h in t))throw Error(n(108,je(e)||"Unknown",h));return se({},i,o)}function cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,Wr=gt.current,qe(gt,e),qe(xt,xt.current),!0}function Mu(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=$u(e,t,Wr),o.__reactInternalMemoizedMergedChildContext=e,Ge(xt),Ge(gt),qe(gt,e)):Ge(xt),qe(xt,i)}var cr=null,ds=!1,Jo=!1;function Wu(e){cr===null?cr=[e]:cr.push(e)}function Mp(e){ds=!0,Wu(e)}function Pr(){if(!Jo&&cr!==null){Jo=!0;var e=0,t=Ve;try{var i=cr;for(Ve=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}cr=null,ds=!1}catch(h){throw cr!==null&&(cr=cr.slice(e+1)),ql(vo,Pr),h}finally{Ve=t,Jo=!1}}return null}var wn=[],_n=0,hs=null,fs=0,Bt=[],Ft=0,Vr=null,dr=1,hr="";function qr(e,t){wn[_n++]=fs,wn[_n++]=hs,hs=e,fs=t}function Vu(e,t,i){Bt[Ft++]=dr,Bt[Ft++]=hr,Bt[Ft++]=Vr,Vr=e;var o=dr;e=hr;var h=32-Ht(o)-1;o&=~(1<<h),i+=1;var p=32-Ht(t)+h;if(30<p){var S=h-h%5;p=(o&(1<<S)-1).toString(32),o>>=S,h-=S,dr=1<<32-Ht(t)+h|i<<h|o,hr=p+e}else dr=1<<p|i<<h|o,hr=e}function Zo(e){e.return!==null&&(qr(e,1),Vu(e,1,0))}function Qo(e){for(;e===hs;)hs=wn[--_n],wn[_n]=null,fs=wn[--_n],wn[_n]=null;for(;e===Vr;)Vr=Bt[--Ft],Bt[Ft]=null,hr=Bt[--Ft],Bt[Ft]=null,dr=Bt[--Ft],Bt[Ft]=null}var jt=null,Dt=null,Ze=!1,Gt=null;function qu(e,t){var i=Vt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Hu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Dt=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Vr!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Vt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,jt=e,Dt=null,!0):!1;default:return!1}}function Yo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xo(e){if(Ze){var t=Dt;if(t){var i=t;if(!Hu(e,t)){if(Yo(e))throw Error(n(418));t=Er(i.nextSibling);var o=jt;t&&Hu(e,t)?qu(o,i):(e.flags=e.flags&-4097|2,Ze=!1,jt=e)}}else{if(Yo(e))throw Error(n(418));e.flags=e.flags&-4097|2,Ze=!1,jt=e}}}function Ku(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function ps(e){if(e!==jt)return!1;if(!Ze)return Ku(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vo(e.type,e.memoizedProps)),t&&(t=Dt)){if(Yo(e))throw Gu(),Error(n(418));for(;t;)qu(e,t),t=Er(t.nextSibling)}if(Ku(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Dt=Er(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=jt?Er(e.stateNode.nextSibling):null;return!0}function Gu(){for(var e=Dt;e;)e=Er(e.nextSibling)}function kn(){Dt=jt=null,Ze=!1}function ea(e){Gt===null?Gt=[e]:Gt.push(e)}var Wp=F.ReactCurrentBatchConfig;function gi(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var h=o,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(S){var L=h.refs;S===null?delete L[p]:L[p]=S},t._stringRef=p,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ju(e){var t=e._init;return t(e._payload)}function Zu(e){function t(H,W){if(e){var J=H.deletions;J===null?(H.deletions=[W],H.flags|=16):J.push(W)}}function i(H,W){if(!e)return null;for(;W!==null;)t(H,W),W=W.sibling;return null}function o(H,W){for(H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function h(H,W){return H=Nr(H,W),H.index=0,H.sibling=null,H}function p(H,W,J){return H.index=J,e?(J=H.alternate,J!==null?(J=J.index,J<W?(H.flags|=2,W):J):(H.flags|=2,W)):(H.flags|=1048576,W)}function S(H){return e&&H.alternate===null&&(H.flags|=2),H}function L(H,W,J,ve){return W===null||W.tag!==6?(W=qa(J,H.mode,ve),W.return=H,W):(W=h(W,J),W.return=H,W)}function M(H,W,J,ve){var Ce=J.type;return Ce===G?fe(H,W,J.props.children,ve,J.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ke&&Ju(Ce)===W.type)?(ve=h(W,J.props),ve.ref=gi(H,W,J),ve.return=H,ve):(ve=Bs(J.type,J.key,J.props,null,H.mode,ve),ve.ref=gi(H,W,J),ve.return=H,ve)}function Y(H,W,J,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Ha(J,H.mode,ve),W.return=H,W):(W=h(W,J.children||[]),W.return=H,W)}function fe(H,W,J,ve,Ce){return W===null||W.tag!==7?(W=Xr(J,H.mode,ve,Ce),W.return=H,W):(W=h(W,J),W.return=H,W)}function me(H,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=qa(""+W,H.mode,J),W.return=H,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return J=Bs(W.type,W.key,W.props,null,H.mode,J),J.ref=gi(H,null,W),J.return=H,J;case K:return W=Ha(W,H.mode,J),W.return=H,W;case ke:var ve=W._init;return me(H,ve(W._payload),J)}if(ce(W)||X(W))return W=Xr(W,H.mode,J,null),W.return=H,W;ms(H,W)}return null}function he(H,W,J,ve){var Ce=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ce!==null?null:L(H,W,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Ce?M(H,W,J,ve):null;case K:return J.key===Ce?Y(H,W,J,ve):null;case ke:return Ce=J._init,he(H,W,Ce(J._payload),ve)}if(ce(J)||X(J))return Ce!==null?null:fe(H,W,J,ve,null);ms(H,J)}return null}function _e(H,W,J,ve,Ce){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return H=H.get(J)||null,L(W,H,""+ve,Ce);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case $:return H=H.get(ve.key===null?J:ve.key)||null,M(W,H,ve,Ce);case K:return H=H.get(ve.key===null?J:ve.key)||null,Y(W,H,ve,Ce);case ke:var Re=ve._init;return _e(H,W,J,Re(ve._payload),Ce)}if(ce(ve)||X(ve))return H=H.get(J)||null,fe(W,H,ve,Ce,null);ms(W,ve)}return null}function xe(H,W,J,ve){for(var Ce=null,Re=null,Ie=W,Ne=W=0,ht=null;Ie!==null&&Ne<J.length;Ne++){Ie.index>Ne?(ht=Ie,Ie=null):ht=Ie.sibling;var Me=he(H,Ie,J[Ne],ve);if(Me===null){Ie===null&&(Ie=ht);break}e&&Ie&&Me.alternate===null&&t(H,Ie),W=p(Me,W,Ne),Re===null?Ce=Me:Re.sibling=Me,Re=Me,Ie=ht}if(Ne===J.length)return i(H,Ie),Ze&&qr(H,Ne),Ce;if(Ie===null){for(;Ne<J.length;Ne++)Ie=me(H,J[Ne],ve),Ie!==null&&(W=p(Ie,W,Ne),Re===null?Ce=Ie:Re.sibling=Ie,Re=Ie);return Ze&&qr(H,Ne),Ce}for(Ie=o(H,Ie);Ne<J.length;Ne++)ht=_e(Ie,H,Ne,J[Ne],ve),ht!==null&&(e&&ht.alternate!==null&&Ie.delete(ht.key===null?Ne:ht.key),W=p(ht,W,Ne),Re===null?Ce=ht:Re.sibling=ht,Re=ht);return e&&Ie.forEach(function(zr){return t(H,zr)}),Ze&&qr(H,Ne),Ce}function Pe(H,W,J,ve){var Ce=X(J);if(typeof Ce!="function")throw Error(n(150));if(J=Ce.call(J),J==null)throw Error(n(151));for(var Re=Ce=null,Ie=W,Ne=W=0,ht=null,Me=J.next();Ie!==null&&!Me.done;Ne++,Me=J.next()){Ie.index>Ne?(ht=Ie,Ie=null):ht=Ie.sibling;var zr=he(H,Ie,Me.value,ve);if(zr===null){Ie===null&&(Ie=ht);break}e&&Ie&&zr.alternate===null&&t(H,Ie),W=p(zr,W,Ne),Re===null?Ce=zr:Re.sibling=zr,Re=zr,Ie=ht}if(Me.done)return i(H,Ie),Ze&&qr(H,Ne),Ce;if(Ie===null){for(;!Me.done;Ne++,Me=J.next())Me=me(H,Me.value,ve),Me!==null&&(W=p(Me,W,Ne),Re===null?Ce=Me:Re.sibling=Me,Re=Me);return Ze&&qr(H,Ne),Ce}for(Ie=o(H,Ie);!Me.done;Ne++,Me=J.next())Me=_e(Ie,H,Ne,Me.value,ve),Me!==null&&(e&&Me.alternate!==null&&Ie.delete(Me.key===null?Ne:Me.key),W=p(Me,W,Ne),Re===null?Ce=Me:Re.sibling=Me,Re=Me);return e&&Ie.forEach(function(bm){return t(H,bm)}),Ze&&qr(H,Ne),Ce}function rt(H,W,J,ve){if(typeof J=="object"&&J!==null&&J.type===G&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Ce=J.key,Re=W;Re!==null;){if(Re.key===Ce){if(Ce=J.type,Ce===G){if(Re.tag===7){i(H,Re.sibling),W=h(Re,J.props.children),W.return=H,H=W;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ke&&Ju(Ce)===Re.type){i(H,Re.sibling),W=h(Re,J.props),W.ref=gi(H,Re,J),W.return=H,H=W;break e}i(H,Re);break}else t(H,Re);Re=Re.sibling}J.type===G?(W=Xr(J.props.children,H.mode,ve,J.key),W.return=H,H=W):(ve=Bs(J.type,J.key,J.props,null,H.mode,ve),ve.ref=gi(H,W,J),ve.return=H,H=ve)}return S(H);case K:e:{for(Re=J.key;W!==null;){if(W.key===Re)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){i(H,W.sibling),W=h(W,J.children||[]),W.return=H,H=W;break e}else{i(H,W);break}else t(H,W);W=W.sibling}W=Ha(J,H.mode,ve),W.return=H,H=W}return S(H);case ke:return Re=J._init,rt(H,W,Re(J._payload),ve)}if(ce(J))return xe(H,W,J,ve);if(X(J))return Pe(H,W,J,ve);ms(H,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(i(H,W.sibling),W=h(W,J),W.return=H,H=W):(i(H,W),W=qa(J,H.mode,ve),W.return=H,H=W),S(H)):i(H,W)}return rt}var bn=Zu(!0),Qu=Zu(!1),gs=xr(null),vs=null,Sn=null,ta=null;function ra(){ta=Sn=vs=null}function na(e){var t=gs.current;Ge(gs),e._currentValue=t}function ia(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function En(e,t){vs=e,ta=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Pt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(ta!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(vs===null)throw Error(n(308));Sn=e,vs.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Hr=null;function sa(e){Hr===null?Hr=[e]:Hr.push(e)}function Yu(e,t,i,o){var h=t.interleaved;return h===null?(i.next=i,sa(t)):(i.next=h.next,h.next=i),t.interleaved=i,fr(e,o)}function fr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cr=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var h=o.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),o.pending=t,fr(e,i)}return h=o.interleaved,h===null?(t.next=t,sa(o)):(t.next=h.next,h.next=t),o.interleaved=t,fr(e,i)}function ys(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,_o(e,i)}}function ec(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var S={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?h=p=S:p=p.next=S,i=i.next}while(i!==null);p===null?h=p=t:p=p.next=t}else h=p=t;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ws(e,t,i,o){var h=e.updateQueue;Cr=!1;var p=h.firstBaseUpdate,S=h.lastBaseUpdate,L=h.shared.pending;if(L!==null){h.shared.pending=null;var M=L,Y=M.next;M.next=null,S===null?p=Y:S.next=Y,S=M;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,L=fe.lastBaseUpdate,L!==S&&(L===null?fe.firstBaseUpdate=Y:L.next=Y,fe.lastBaseUpdate=M))}if(p!==null){var me=h.baseState;S=0,fe=Y=M=null,L=p;do{var he=L.lane,_e=L.eventTime;if((o&he)===he){fe!==null&&(fe=fe.next={eventTime:_e,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var xe=e,Pe=L;switch(he=t,_e=i,Pe.tag){case 1:if(xe=Pe.payload,typeof xe=="function"){me=xe.call(_e,me,he);break e}me=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Pe.payload,he=typeof xe=="function"?xe.call(_e,me,he):xe,he==null)break e;me=se({},me,he);break e;case 2:Cr=!0}}L.callback!==null&&L.lane!==0&&(e.flags|=64,he=h.effects,he===null?h.effects=[L]:he.push(L))}else _e={eventTime:_e,lane:he,tag:L.tag,payload:L.payload,callback:L.callback,next:null},fe===null?(Y=fe=_e,M=me):fe=fe.next=_e,S|=he;if(L=L.next,L===null){if(L=h.shared.pending,L===null)break;he=L,L=he.next,he.next=null,h.lastBaseUpdate=he,h.shared.pending=null}}while(!0);if(fe===null&&(M=me),h.baseState=M,h.firstBaseUpdate=Y,h.lastBaseUpdate=fe,t=h.shared.interleaved,t!==null){h=t;do S|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);Jr|=S,e.lanes=S,e.memoizedState=me}}function tc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],h=o.callback;if(h!==null){if(o.callback=null,o=i,typeof h!="function")throw Error(n(191,h));h.call(o)}}}var vi={},sr=xr(vi),yi=xr(vi),wi=xr(vi);function Kr(e){if(e===vi)throw Error(n(174));return e}function aa(e,t){switch(qe(wi,t),qe(yi,e),qe(sr,vi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ge(t,e)}Ge(sr),qe(sr,t)}function xn(){Ge(sr),Ge(yi),Ge(wi)}function rc(e){Kr(wi.current);var t=Kr(sr.current),i=ge(t,e.type);t!==i&&(qe(yi,e),qe(sr,i))}function la(e){yi.current===e&&(Ge(sr),Ge(yi))}var Qe=xr(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ca(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ks=F.ReactCurrentDispatcher,da=F.ReactCurrentBatchConfig,Gr=0,Ye=null,at=null,ct=null,bs=!1,_i=!1,ki=0,Vp=0;function vt(){throw Error(n(321))}function ha(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Kt(e[i],t[i]))return!1;return!0}function fa(e,t,i,o,h,p){if(Gr=p,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?Gp:Jp,e=i(o,h),_i){p=0;do{if(_i=!1,ki=0,25<=p)throw Error(n(301));p+=1,ct=at=null,t.updateQueue=null,ks.current=Zp,e=i(o,h)}while(_i)}if(ks.current=xs,t=at!==null&&at.next!==null,Gr=0,ct=at=Ye=null,bs=!1,t)throw Error(n(300));return e}function pa(){var e=ki!==0;return ki=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ye.memoizedState=ct=e:ct=ct.next=e,ct}function Mt(){if(at===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ct===null?Ye.memoizedState:ct.next;if(t!==null)ct=t,at=e;else{if(e===null)throw Error(n(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ye.memoizedState=ct=e:ct=ct.next=e}return ct}function bi(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=Mt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=at,h=o.baseQueue,p=i.pending;if(p!==null){if(h!==null){var S=h.next;h.next=p.next,p.next=S}o.baseQueue=h=p,i.pending=null}if(h!==null){p=h.next,o=o.baseState;var L=S=null,M=null,Y=p;do{var fe=Y.lane;if((Gr&fe)===fe)M!==null&&(M=M.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),o=Y.hasEagerState?Y.eagerState:e(o,Y.action);else{var me={lane:fe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};M===null?(L=M=me,S=o):M=M.next=me,Ye.lanes|=fe,Jr|=fe}Y=Y.next}while(Y!==null&&Y!==p);M===null?S=o:M.next=L,Kt(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseState=S,t.baseQueue=M,i.lastRenderedState=o}if(e=i.interleaved,e!==null){h=e;do p=h.lane,Ye.lanes|=p,Jr|=p,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ga(e){var t=Mt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,p=t.memoizedState;if(h!==null){i.pending=null;var S=h=h.next;do p=e(p,S.action),S=S.next;while(S!==h);Kt(p,t.memoizedState)||(Pt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,o]}function nc(){}function ic(e,t){var i=Ye,o=Mt(),h=t(),p=!Kt(o.memoizedState,h);if(p&&(o.memoizedState=h,Pt=!0),o=o.queue,va(ac.bind(null,i,o,e),[e]),o.getSnapshot!==t||p||ct!==null&&ct.memoizedState.tag&1){if(i.flags|=2048,Si(9,oc.bind(null,i,o,h,t),void 0,null),dt===null)throw Error(n(349));(Gr&30)!==0||sc(i,t,h)}return h}function sc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function oc(e,t,i,o){t.value=i,t.getSnapshot=o,lc(t)&&uc(e)}function ac(e,t,i){return i(function(){lc(t)&&uc(e)})}function lc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Kt(e,i)}catch{return!0}}function uc(e){var t=fr(e,1);t!==null&&Yt(t,e,1,-1)}function cc(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Kp.bind(null,Ye,e),[t.memoizedState,e]}function Si(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function dc(){return Mt().memoizedState}function Ss(e,t,i,o){var h=or();Ye.flags|=e,h.memoizedState=Si(1|t,i,void 0,o===void 0?null:o)}function Es(e,t,i,o){var h=Mt();o=o===void 0?null:o;var p=void 0;if(at!==null){var S=at.memoizedState;if(p=S.destroy,o!==null&&ha(o,S.deps)){h.memoizedState=Si(t,i,p,o);return}}Ye.flags|=e,h.memoizedState=Si(1|t,i,p,o)}function hc(e,t){return Ss(8390656,8,e,t)}function va(e,t){return Es(2048,8,e,t)}function fc(e,t){return Es(4,2,e,t)}function pc(e,t){return Es(4,4,e,t)}function mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gc(e,t,i){return i=i!=null?i.concat([e]):null,Es(4,4,mc.bind(null,t,e),i)}function ya(){}function vc(e,t){var i=Mt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&ha(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function yc(e,t){var i=Mt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&ha(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function wc(e,t,i){return(Gr&21)===0?(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=i):(Kt(i,t)||(i=Jl(),Ye.lanes|=i,Jr|=i,e.baseState=!0),t)}function qp(e,t){var i=Ve;Ve=i!==0&&4>i?i:4,e(!0);var o=da.transition;da.transition={};try{e(!1),t()}finally{Ve=i,da.transition=o}}function _c(){return Mt().memoizedState}function Hp(e,t,i){var o=jr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},kc(e))bc(t,i);else if(i=Yu(e,t,i,o),i!==null){var h=Et();Yt(i,e,o,h),Sc(i,t,o)}}function Kp(e,t,i){var o=jr(e),h={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(kc(e))bc(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var S=t.lastRenderedState,L=p(S,i);if(h.hasEagerState=!0,h.eagerState=L,Kt(L,S)){var M=t.interleaved;M===null?(h.next=h,sa(t)):(h.next=M.next,M.next=h),t.interleaved=h;return}}catch{}finally{}i=Yu(e,t,h,o),i!==null&&(h=Et(),Yt(i,e,o,h),Sc(i,t,o))}}function kc(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function bc(e,t){_i=bs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Sc(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,_o(e,i)}}var xs={readContext:$t,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Gp={readContext:$t,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:hc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ss(4194308,4,mc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var i=or();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=or();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Hp.bind(null,Ye,e),[o.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:ya,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=qp.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Ye,h=or();if(Ze){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),dt===null)throw Error(n(349));(Gr&30)!==0||sc(o,t,i)}h.memoizedState=i;var p={value:i,getSnapshot:t};return h.queue=p,hc(ac.bind(null,o,p,e),[e]),o.flags|=2048,Si(9,oc.bind(null,o,p,i,t),void 0,null),i},useId:function(){var e=or(),t=dt.identifierPrefix;if(Ze){var i=hr,o=dr;i=(o&~(1<<32-Ht(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ki++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Vp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:$t,useCallback:vc,useContext:$t,useEffect:va,useImperativeHandle:gc,useInsertionEffect:fc,useLayoutEffect:pc,useMemo:yc,useReducer:ma,useRef:dc,useState:function(){return ma(bi)},useDebugValue:ya,useDeferredValue:function(e){var t=Mt();return wc(t,at.memoizedState,e)},useTransition:function(){var e=ma(bi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:nc,useSyncExternalStore:ic,useId:_c,unstable_isNewReconciler:!1},Zp={readContext:$t,useCallback:vc,useContext:$t,useEffect:va,useImperativeHandle:gc,useInsertionEffect:fc,useLayoutEffect:pc,useMemo:yc,useReducer:ga,useRef:dc,useState:function(){return ga(bi)},useDebugValue:ya,useDeferredValue:function(e){var t=Mt();return at===null?t.memoizedState=e:wc(t,at.memoizedState,e)},useTransition:function(){var e=ga(bi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:nc,useSyncExternalStore:ic,useId:_c,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function wa(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:se({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Os={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Et(),h=jr(e),p=pr(o,h);p.payload=t,i!=null&&(p.callback=i),t=Tr(e,p,h),t!==null&&(Yt(t,e,h,o),ys(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Et(),h=jr(e),p=pr(o,h);p.tag=1,p.payload=t,i!=null&&(p.callback=i),t=Tr(e,p,h),t!==null&&(Yt(t,e,h,o),ys(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Et(),o=jr(e),h=pr(i,o);h.tag=2,t!=null&&(h.callback=t),t=Tr(e,h,o),t!==null&&(Yt(t,e,o,i),ys(t,e,o))}};function Ec(e,t,i,o,h,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,S):t.prototype&&t.prototype.isPureReactComponent?!ui(i,o)||!ui(h,p):!0}function xc(e,t,i){var o=!1,h=Or,p=t.contextType;return typeof p=="object"&&p!==null?p=$t(p):(h=Ot(t)?Wr:gt.current,o=t.contextTypes,p=(o=o!=null)?yn(e,h):Or),t=new t(i,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Os,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function Oc(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Os.enqueueReplaceState(t,t.state,null)}function _a(e,t,i,o){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},oa(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=$t(p):(p=Ot(t)?Wr:gt.current,h.context=yn(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(wa(e,t,p,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Os.enqueueReplaceState(h,h.state,null),ws(e,i,h,o),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var i="",o=t;do i+=ae(o),o=o.return;while(o);var h=i}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function ka(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function ba(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function Pc(e,t,i){i=pr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){js||(js=!0,Ua=o),ba(e,t)},i}function Cc(e,t,i){i=pr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var h=t.value;i.payload=function(){return o(h)},i.callback=function(){ba(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){ba(e,t),typeof o!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var S=t.stack;this.componentDidCatch(t.value,{componentStack:S!==null?S:""})}),i}function Tc(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Qp;var h=new Set;o.set(t,h)}else h=o.get(t),h===void 0&&(h=new Set,o.set(t,h));h.has(i)||(h.add(i),e=dm.bind(null,e,t,i),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,i,o,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=pr(-1,1),t.tag=2,Tr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Yp=F.ReactCurrentOwner,Pt=!1;function St(e,t,i,o){t.child=e===null?Qu(t,null,i,o):bn(t,e.child,i,o)}function Ic(e,t,i,o,h){i=i.render;var p=t.ref;return En(t,h),o=fa(e,t,i,o,p,h),i=pa(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,mr(e,t,h)):(Ze&&i&&Zo(t),t.flags|=1,St(e,t,o,h),t.child)}function jc(e,t,i,o,h){if(e===null){var p=i.type;return typeof p=="function"&&!Va(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=p,Dc(e,t,p,o,h)):(e=Bs(i.type,null,o,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&h)===0){var S=p.memoizedProps;if(i=i.compare,i=i!==null?i:ui,i(S,o)&&e.ref===t.ref)return mr(e,t,h)}return t.flags|=1,e=Nr(p,o),e.ref=t.ref,e.return=t,t.child=e}function Dc(e,t,i,o,h){if(e!==null){var p=e.memoizedProps;if(ui(p,o)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=o=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,mr(e,t,h)}return Sa(e,t,i,o,h)}function Nc(e,t,i){var o=t.pendingProps,h=o.children,p=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Cn,Nt),Nt|=i;else{if((i&1073741824)===0)return e=p!==null?p.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(Cn,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=p!==null?p.baseLanes:i,qe(Cn,Nt),Nt|=o}else p!==null?(o=p.baseLanes|i,t.memoizedState=null):o=i,qe(Cn,Nt),Nt|=o;return St(e,t,h,i),t.child}function zc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,i,o,h){var p=Ot(i)?Wr:gt.current;return p=yn(t,p),En(t,h),i=fa(e,t,i,o,p,h),o=pa(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,mr(e,t,h)):(Ze&&o&&Zo(t),t.flags|=1,St(e,t,i,h),t.child)}function Uc(e,t,i,o,h){if(Ot(i)){var p=!0;cs(t)}else p=!1;if(En(t,h),t.stateNode===null)Cs(e,t),xc(t,i,o),_a(t,i,o,h),o=!0;else if(e===null){var S=t.stateNode,L=t.memoizedProps;S.props=L;var M=S.context,Y=i.contextType;typeof Y=="object"&&Y!==null?Y=$t(Y):(Y=Ot(i)?Wr:gt.current,Y=yn(t,Y));var fe=i.getDerivedStateFromProps,me=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function";me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==o||M!==Y)&&Oc(t,S,o,Y),Cr=!1;var he=t.memoizedState;S.state=he,ws(t,o,S,h),M=t.memoizedState,L!==o||he!==M||xt.current||Cr?(typeof fe=="function"&&(wa(t,i,fe,o),M=t.memoizedState),(L=Cr||Ec(t,i,L,o,he,M,Y))?(me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(t.flags|=4194308)):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=M),S.props=o,S.state=M,S.context=Y,o=L):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{S=t.stateNode,Xu(e,t),L=t.memoizedProps,Y=t.type===t.elementType?L:Jt(t.type,L),S.props=Y,me=t.pendingProps,he=S.context,M=i.contextType,typeof M=="object"&&M!==null?M=$t(M):(M=Ot(i)?Wr:gt.current,M=yn(t,M));var _e=i.getDerivedStateFromProps;(fe=typeof _e=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==me||he!==M)&&Oc(t,S,o,M),Cr=!1,he=t.memoizedState,S.state=he,ws(t,o,S,h);var xe=t.memoizedState;L!==me||he!==xe||xt.current||Cr?(typeof _e=="function"&&(wa(t,i,_e,o),xe=t.memoizedState),(Y=Cr||Ec(t,i,Y,o,he,xe,M)||!1)?(fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(o,xe,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(o,xe,M)),typeof S.componentDidUpdate=="function"&&(t.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=xe),S.props=o,S.state=xe,S.context=M,o=Y):(typeof S.componentDidUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),o=!1)}return Ea(e,t,i,o,p,h)}function Ea(e,t,i,o,h,p){zc(e,t);var S=(t.flags&128)!==0;if(!o&&!S)return h&&Mu(t,i,!1),mr(e,t,p);o=t.stateNode,Yp.current=t;var L=S&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&S?(t.child=bn(t,e.child,null,p),t.child=bn(t,null,L,p)):St(e,t,L,p),t.memoizedState=o.state,h&&Mu(t,i,!0),t.child}function Lc(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),aa(e,t.containerInfo)}function Bc(e,t,i,o,h){return kn(),ea(h),t.flags|=256,St(e,t,i,o),t.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fc(e,t,i){var o=t.pendingProps,h=Qe.current,p=!1,S=(t.flags&128)!==0,L;if((L=S)||(L=e!==null&&e.memoizedState===null?!1:(h&2)!==0),L?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),qe(Qe,h&1),e===null)return Xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(S=o.children,e=o.fallback,p?(o=t.mode,p=t.child,S={mode:"hidden",children:S},(o&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=S):p=Fs(S,o,0,null),e=Xr(e,o,i,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Oa(i),t.memoizedState=xa,e):Pa(t,S));if(h=e.memoizedState,h!==null&&(L=h.dehydrated,L!==null))return Xp(e,t,S,o,L,h,i);if(p){p=o.fallback,S=t.mode,h=e.child,L=h.sibling;var M={mode:"hidden",children:o.children};return(S&1)===0&&t.child!==h?(o=t.child,o.childLanes=0,o.pendingProps=M,t.deletions=null):(o=Nr(h,M),o.subtreeFlags=h.subtreeFlags&14680064),L!==null?p=Nr(L,p):(p=Xr(p,S,i,null),p.flags|=2),p.return=t,o.return=t,o.sibling=p,t.child=o,o=p,p=t.child,S=e.child.memoizedState,S=S===null?Oa(i):{baseLanes:S.baseLanes|i,cachePool:null,transitions:S.transitions},p.memoizedState=S,p.childLanes=e.childLanes&~i,t.memoizedState=xa,o}return p=e.child,e=p.sibling,o=Nr(p,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Pa(e,t){return t=Fs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,i,o){return o!==null&&ea(o),bn(t,e.child,null,i),e=Pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xp(e,t,i,o,h,p,S){if(i)return t.flags&256?(t.flags&=-257,o=ka(Error(n(422))),Ps(e,t,S,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=o.fallback,h=t.mode,o=Fs({mode:"visible",children:o.children},h,0,null),p=Xr(p,h,S,null),p.flags|=2,o.return=t,p.return=t,o.sibling=p,t.child=o,(t.mode&1)!==0&&bn(t,e.child,null,S),t.child.memoizedState=Oa(S),t.memoizedState=xa,p);if((t.mode&1)===0)return Ps(e,t,S,null);if(h.data==="$!"){if(o=h.nextSibling&&h.nextSibling.dataset,o)var L=o.dgst;return o=L,p=Error(n(419)),o=ka(p,o,void 0),Ps(e,t,S,o)}if(L=(S&e.childLanes)!==0,Pt||L){if(o=dt,o!==null){switch(S&-S){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(o.suspendedLanes|S))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,fr(e,h),Yt(o,e,h,-1))}return Wa(),o=ka(Error(n(421))),Ps(e,t,S,o)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=hm.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,Dt=Er(h.nextSibling),jt=t,Ze=!0,Gt=null,e!==null&&(Bt[Ft++]=dr,Bt[Ft++]=hr,Bt[Ft++]=Vr,dr=e.id,hr=e.overflow,Vr=t),t=Pa(t,o.children),t.flags|=4096,t)}function $c(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ia(e.return,t,i)}function Ca(e,t,i,o,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=i,p.tailMode=h)}function Mc(e,t,i){var o=t.pendingProps,h=o.revealOrder,p=o.tail;if(St(e,t,o.children,i),o=Qe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$c(e,i,t);else if(e.tag===19)$c(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(qe(Qe,o),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&_s(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),Ca(t,!1,h,i,p);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&_s(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Ca(t,!0,i,null,p);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Jr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Nr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function em(e,t,i){switch(t.tag){case 3:Lc(t),kn();break;case 5:rc(t);break;case 1:Ot(t.type)&&cs(t);break;case 4:aa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,h=t.memoizedProps.value;qe(gs,o._currentValue),o._currentValue=h;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(qe(Qe,Qe.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Fc(e,t,i):(qe(Qe,Qe.current&1),e=mr(e,t,i),e!==null?e.sibling:null);qe(Qe,Qe.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Mc(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qe(Qe,Qe.current),o)break;return null;case 22:case 23:return t.lanes=0,Nc(e,t,i)}return mr(e,t,i)}var Wc,Ta,Vc,qc;Wc=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ta=function(){},Vc=function(e,t,i,o){var h=e.memoizedProps;if(h!==o){e=t.stateNode,Kr(sr.current);var p=null;switch(i){case"input":h=v(e,h),o=v(e,o),p=[];break;case"select":h=se({},h,{value:void 0}),o=se({},o,{value:void 0}),p=[];break;case"textarea":h=y(e,h),o=y(e,o),p=[];break;default:typeof h.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=as)}Rt(i,o);var S;i=null;for(Y in h)if(!o.hasOwnProperty(Y)&&h.hasOwnProperty(Y)&&h[Y]!=null)if(Y==="style"){var L=h[Y];for(S in L)L.hasOwnProperty(S)&&(i||(i={}),i[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(l.hasOwnProperty(Y)?p||(p=[]):(p=p||[]).push(Y,null));for(Y in o){var M=o[Y];if(L=h!=null?h[Y]:void 0,o.hasOwnProperty(Y)&&M!==L&&(M!=null||L!=null))if(Y==="style")if(L){for(S in L)!L.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(i||(i={}),i[S]="");for(S in M)M.hasOwnProperty(S)&&L[S]!==M[S]&&(i||(i={}),i[S]=M[S])}else i||(p||(p=[]),p.push(Y,i)),i=M;else Y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,L=L?L.__html:void 0,M!=null&&L!==M&&(p=p||[]).push(Y,M)):Y==="children"?typeof M!="string"&&typeof M!="number"||(p=p||[]).push(Y,""+M):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(l.hasOwnProperty(Y)?(M!=null&&Y==="onScroll"&&Ke("scroll",e),p||L===M||(p=[])):(p=p||[]).push(Y,M))}i&&(p=p||[]).push("style",i);var Y=p;(t.updateQueue=Y)&&(t.flags|=4)}},qc=function(e,t,i,o){i!==o&&(t.flags|=4)};function Ei(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&14680064,o|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function tm(e,t,i){var o=t.pendingProps;switch(Qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ot(t.type)&&us(),yt(t),null;case 3:return o=t.stateNode,xn(),Ge(xt),Ge(gt),ca(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gt!==null&&(Fa(Gt),Gt=null))),Ta(e,t),yt(t),null;case 5:la(t);var h=Kr(wi.current);if(i=t.type,e!==null&&t.stateNode!=null)Vc(e,t,i,o,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return yt(t),null}if(e=Kr(sr.current),ps(t)){o=t.stateNode,i=t.type;var p=t.memoizedProps;switch(o[ir]=t,o[pi]=p,e=(t.mode&1)!==0,i){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(h=0;h<di.length;h++)Ke(di[h],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":ie(o,p),Ke("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!p.multiple},Ke("invalid",o);break;case"textarea":I(o,p),Ke("invalid",o)}Rt(i,p),h=null;for(var S in p)if(p.hasOwnProperty(S)){var L=p[S];S==="children"?typeof L=="string"?o.textContent!==L&&(p.suppressHydrationWarning!==!0&&os(o.textContent,L,e),h=["children",L]):typeof L=="number"&&o.textContent!==""+L&&(p.suppressHydrationWarning!==!0&&os(o.textContent,L,e),h=["children",""+L]):l.hasOwnProperty(S)&&L!=null&&S==="onScroll"&&Ke("scroll",o)}switch(i){case"input":We(o),D(o,p,!0);break;case"textarea":We(o),N(o);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(o.onclick=as)}o=h,t.updateQueue=o,o!==null&&(t.flags|=4)}else{S=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=S.createElement(i,{is:o.is}):(e=S.createElement(i),i==="select"&&(S=e,o.multiple?S.multiple=!0:o.size&&(S.size=o.size))):e=S.createElementNS(e,i),e[ir]=t,e[pi]=o,Wc(e,t,!1,!1),t.stateNode=e;e:{switch(S=ln(i,o),i){case"dialog":Ke("cancel",e),Ke("close",e),h=o;break;case"iframe":case"object":case"embed":Ke("load",e),h=o;break;case"video":case"audio":for(h=0;h<di.length;h++)Ke(di[h],e);h=o;break;case"source":Ke("error",e),h=o;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),h=o;break;case"details":Ke("toggle",e),h=o;break;case"input":ie(e,o),h=v(e,o),Ke("invalid",e);break;case"option":h=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},h=se({},o,{value:void 0}),Ke("invalid",e);break;case"textarea":I(e,o),h=y(e,o),Ke("invalid",e);break;default:h=o}Rt(i,h),L=h;for(p in L)if(L.hasOwnProperty(p)){var M=L[p];p==="style"?mt(e,M):p==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ue(e,M)):p==="children"?typeof M=="string"?(i!=="textarea"||M!=="")&&Je(e,M):typeof M=="number"&&Je(e,""+M):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?M!=null&&p==="onScroll"&&Ke("scroll",e):M!=null&&j(e,p,M,S))}switch(i){case"input":We(e),D(e,o,!1);break;case"textarea":We(e),N(e);break;case"option":o.value!=null&&e.setAttribute("value",""+be(o.value));break;case"select":e.multiple=!!o.multiple,p=o.value,p!=null?w(e,!!o.multiple,p,!1):o.defaultValue!=null&&w(e,!!o.multiple,o.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=as)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)qc(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=Kr(wi.current),Kr(sr.current),ps(t)){if(o=t.stateNode,i=t.memoizedProps,o[ir]=t,(p=o.nodeValue!==i)&&(e=jt,e!==null))switch(e.tag){case 3:os(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(o.nodeValue,i,(e.mode&1)!==0)}p&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[ir]=t,t.stateNode=o}return yt(t),null;case 13:if(Ge(Qe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&Dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Gu(),kn(),t.flags|=98560,p=!1;else if(p=ps(t),o!==null&&o.dehydrated!==null){if(e===null){if(!p)throw Error(n(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[ir]=t}else kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),p=!1}else Gt!==null&&(Fa(Gt),Gt=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Qe.current&1)!==0?lt===0&&(lt=3):Wa())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return xn(),Ta(e,t),e===null&&hi(t.stateNode.containerInfo),yt(t),null;case 10:return na(t.type._context),yt(t),null;case 17:return Ot(t.type)&&us(),yt(t),null;case 19:if(Ge(Qe),p=t.memoizedState,p===null)return yt(t),null;if(o=(t.flags&128)!==0,S=p.rendering,S===null)if(o)Ei(p,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(S=_s(e),S!==null){for(t.flags|=128,Ei(p,!1),o=S.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)p=i,e=o,p.flags&=14680066,S=p.alternate,S===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,e=S.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return qe(Qe,Qe.current&1|2),t.child}e=e.sibling}p.tail!==null&&tt()>Tn&&(t.flags|=128,o=!0,Ei(p,!1),t.lanes=4194304)}else{if(!o)if(e=_s(S),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ei(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ze)return yt(t),null}else 2*tt()-p.renderingStartTime>Tn&&i!==1073741824&&(t.flags|=128,o=!0,Ei(p,!1),t.lanes=4194304);p.isBackwards?(S.sibling=t.child,t.child=S):(i=p.last,i!==null?i.sibling=S:t.child=S,p.last=S)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=tt(),t.sibling=null,i=Qe.current,qe(Qe,o?i&1|2:i&1),t):(yt(t),null);case 22:case 23:return Ma(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Nt&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function rm(e,t){switch(Qo(t),t.tag){case 1:return Ot(t.type)&&us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(),Ge(xt),Ge(gt),ca(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return la(t),null;case 13:if(Ge(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Qe),null;case 4:return xn(),null;case 10:return na(t.type._context),null;case 22:case 23:return Ma(),null;case 24:return null;default:return null}}var Ts=!1,wt=!1,nm=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Pn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){et(e,t,o)}else i.current=null}function Aa(e,t,i){try{i()}catch(o){et(e,t,o)}}var Hc=!1;function im(e,t){if(Mo=Ji,e=Eu(),Do(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var S=0,L=-1,M=-1,Y=0,fe=0,me=e,he=null;t:for(;;){for(var _e;me!==i||h!==0&&me.nodeType!==3||(L=S+h),me!==p||o!==0&&me.nodeType!==3||(M=S+o),me.nodeType===3&&(S+=me.nodeValue.length),(_e=me.firstChild)!==null;)he=me,me=_e;for(;;){if(me===e)break t;if(he===i&&++Y===h&&(L=S),he===p&&++fe===o&&(M=S),(_e=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=_e}i=L===-1||M===-1?null:{start:L,end:M}}else i=null}i=i||{start:0,end:0}}else i=null;for(Wo={focusedElem:e,selectionRange:i},Ji=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var xe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Pe=xe.memoizedProps,rt=xe.memoizedState,H=t.stateNode,W=H.getSnapshotBeforeUpdate(t.elementType===t.type?Pe:Jt(t.type,Pe),rt);H.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=t.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){et(t,t.return,ve)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return xe=Hc,Hc=!1,xe}function xi(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Aa(t,i,p)}h=h.next}while(h!==o)}}function As(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Ra(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Kc(e){var t=e.alternate;t!==null&&(e.alternate=null,Kc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[pi],delete t[Ko],delete t[Fp],delete t[$p])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gc(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=as));else if(o!==4&&(e=e.child,e!==null))for(Ia(e,t,i),e=e.sibling;e!==null;)Ia(e,t,i),e=e.sibling}function ja(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ja(e,t,i),e=e.sibling;e!==null;)ja(e,t,i),e=e.sibling}var ft=null,Zt=!1;function Ar(e,t,i){for(i=i.child;i!==null;)Zc(e,t,i),i=i.sibling}function Zc(e,t,i){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Wi,i)}catch{}switch(i.tag){case 5:wt||Pn(i,t);case 6:var o=ft,h=Zt;ft=null,Ar(e,t,i),ft=o,Zt=h,ft!==null&&(Zt?(e=ft,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ft.removeChild(i.stateNode));break;case 18:ft!==null&&(Zt?(e=ft,i=i.stateNode,e.nodeType===8?Ho(e.parentNode,i):e.nodeType===1&&Ho(e,i),ni(e)):Ho(ft,i.stateNode));break;case 4:o=ft,h=Zt,ft=i.stateNode.containerInfo,Zt=!0,Ar(e,t,i),ft=o,Zt=h;break;case 0:case 11:case 14:case 15:if(!wt&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){h=o=o.next;do{var p=h,S=p.destroy;p=p.tag,S!==void 0&&((p&2)!==0||(p&4)!==0)&&Aa(i,t,S),h=h.next}while(h!==o)}Ar(e,t,i);break;case 1:if(!wt&&(Pn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(L){et(i,t,L)}Ar(e,t,i);break;case 21:Ar(e,t,i);break;case 22:i.mode&1?(wt=(o=wt)||i.memoizedState!==null,Ar(e,t,i),wt=o):Ar(e,t,i);break;default:Ar(e,t,i)}}function Qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new nm),t.forEach(function(o){var h=fm.bind(null,e,o);i.has(o)||(i.add(o),o.then(h,h))})}}function Qt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];try{var p=e,S=t,L=S;e:for(;L!==null;){switch(L.tag){case 5:ft=L.stateNode,Zt=!1;break e;case 3:ft=L.stateNode.containerInfo,Zt=!0;break e;case 4:ft=L.stateNode.containerInfo,Zt=!0;break e}L=L.return}if(ft===null)throw Error(n(160));Zc(p,S,h),ft=null,Zt=!1;var M=h.alternate;M!==null&&(M.return=null),h.return=null}catch(Y){et(h,t,Y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yc(t,e),t=t.sibling}function Yc(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),ar(e),o&4){try{xi(3,e,e.return),As(3,e)}catch(Pe){et(e,e.return,Pe)}try{xi(5,e,e.return)}catch(Pe){et(e,e.return,Pe)}}break;case 1:Qt(t,e),ar(e),o&512&&i!==null&&Pn(i,i.return);break;case 5:if(Qt(t,e),ar(e),o&512&&i!==null&&Pn(i,i.return),e.flags&32){var h=e.stateNode;try{Je(h,"")}catch(Pe){et(e,e.return,Pe)}}if(o&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,S=i!==null?i.memoizedProps:p,L=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{L==="input"&&p.type==="radio"&&p.name!=null&&te(h,p),ln(L,S);var Y=ln(L,p);for(S=0;S<M.length;S+=2){var fe=M[S],me=M[S+1];fe==="style"?mt(h,me):fe==="dangerouslySetInnerHTML"?Ue(h,me):fe==="children"?Je(h,me):j(h,fe,me,Y)}switch(L){case"input":U(h,p);break;case"textarea":P(h,p);break;case"select":var he=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var _e=p.value;_e!=null?w(h,!!p.multiple,_e,!1):he!==!!p.multiple&&(p.defaultValue!=null?w(h,!!p.multiple,p.defaultValue,!0):w(h,!!p.multiple,p.multiple?[]:"",!1))}h[pi]=p}catch(Pe){et(e,e.return,Pe)}}break;case 6:if(Qt(t,e),ar(e),o&4){if(e.stateNode===null)throw Error(n(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(Pe){et(e,e.return,Pe)}}break;case 3:if(Qt(t,e),ar(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(Pe){et(e,e.return,Pe)}break;case 4:Qt(t,e),ar(e);break;case 13:Qt(t,e),ar(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(za=tt())),o&4&&Qc(e);break;case 22:if(fe=i!==null&&i.memoizedState!==null,e.mode&1?(wt=(Y=wt)||fe,Qt(t,e),wt=Y):Qt(t,e),ar(e),o&8192){if(Y=e.memoizedState!==null,(e.stateNode.isHidden=Y)&&!fe&&(e.mode&1)!==0)for(Se=e,fe=e.child;fe!==null;){for(me=Se=fe;Se!==null;){switch(he=Se,_e=he.child,he.tag){case 0:case 11:case 14:case 15:xi(4,he,he.return);break;case 1:Pn(he,he.return);var xe=he.stateNode;if(typeof xe.componentWillUnmount=="function"){o=he,i=he.return;try{t=o,xe.props=t.memoizedProps,xe.state=t.memoizedState,xe.componentWillUnmount()}catch(Pe){et(o,i,Pe)}}break;case 5:Pn(he,he.return);break;case 22:if(he.memoizedState!==null){td(me);continue}}_e!==null?(_e.return=he,Se=_e):td(me)}fe=fe.sibling}e:for(fe=null,me=e;;){if(me.tag===5){if(fe===null){fe=me;try{h=me.stateNode,Y?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(L=me.stateNode,M=me.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,L.style.display=Fe("display",S))}catch(Pe){et(e,e.return,Pe)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=Y?"":me.memoizedProps}catch(Pe){et(e,e.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===e)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===e)break e;for(;me.sibling===null;){if(me.return===null||me.return===e)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Qt(t,e),ar(e),o&4&&Qc(e);break;case 21:break;default:Qt(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Gc(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var h=o.stateNode;o.flags&32&&(Je(h,""),o.flags&=-33);var p=Jc(e);ja(e,p,h);break;case 3:case 4:var S=o.stateNode.containerInfo,L=Jc(e);Ia(e,L,S);break;default:throw Error(n(161))}}catch(M){et(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sm(e,t,i){Se=e,Xc(e)}function Xc(e,t,i){for(var o=(e.mode&1)!==0;Se!==null;){var h=Se,p=h.child;if(h.tag===22&&o){var S=h.memoizedState!==null||Ts;if(!S){var L=h.alternate,M=L!==null&&L.memoizedState!==null||wt;L=Ts;var Y=wt;if(Ts=S,(wt=M)&&!Y)for(Se=h;Se!==null;)S=Se,M=S.child,S.tag===22&&S.memoizedState!==null?rd(h):M!==null?(M.return=S,Se=M):rd(h);for(;p!==null;)Se=p,Xc(p),p=p.sibling;Se=h,Ts=L,wt=Y}ed(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,Se=p):ed(e)}}function ed(e){for(;Se!==null;){var t=Se;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:wt||As(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!wt)if(i===null)o.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:Jt(t.type,i.memoizedProps);o.componentDidUpdate(h,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&tc(t,p,o);break;case 3:var S=t.updateQueue;if(S!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}tc(t,S,i)}break;case 5:var L=t.stateNode;if(i===null&&t.flags&4){i=L;var M=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&i.focus();break;case"img":M.src&&(i.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Y=t.alternate;if(Y!==null){var fe=Y.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&ni(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wt||t.flags&512&&Ra(t)}catch(he){et(t,t.return,he)}}if(t===e){Se=null;break}if(i=t.sibling,i!==null){i.return=t.return,Se=i;break}Se=t.return}}function td(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Se=i;break}Se=t.return}}function rd(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{As(4,t)}catch(M){et(t,i,M)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var h=t.return;try{o.componentDidMount()}catch(M){et(t,h,M)}}var p=t.return;try{Ra(t)}catch(M){et(t,p,M)}break;case 5:var S=t.return;try{Ra(t)}catch(M){et(t,S,M)}}}catch(M){et(t,t.return,M)}if(t===e){Se=null;break}var L=t.sibling;if(L!==null){L.return=t.return,Se=L;break}Se=t.return}}var om=Math.ceil,Rs=F.ReactCurrentDispatcher,Da=F.ReactCurrentOwner,Wt=F.ReactCurrentBatchConfig,$e=0,dt=null,it=null,pt=0,Nt=0,Cn=xr(0),lt=0,Oi=null,Jr=0,Is=0,Na=0,Pi=null,Ct=null,za=0,Tn=1/0,gr=null,js=!1,Ua=null,Rr=null,Ds=!1,Ir=null,Ns=0,Ci=0,La=null,zs=-1,Us=0;function Et(){return($e&6)!==0?tt():zs!==-1?zs:zs=tt()}function jr(e){return(e.mode&1)===0?1:($e&2)!==0&&pt!==0?pt&-pt:Wp.transition!==null?(Us===0&&(Us=Jl()),Us):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:iu(e.type)),e)}function Yt(e,t,i,o){if(50<Ci)throw Ci=0,La=null,Error(n(185));Yn(e,i,o),(($e&2)===0||e!==dt)&&(e===dt&&(($e&2)===0&&(Is|=i),lt===4&&Dr(e,pt)),Tt(e,o),i===1&&$e===0&&(t.mode&1)===0&&(Tn=tt()+500,ds&&Pr()))}function Tt(e,t){var i=e.callbackNode;Wf(e,t);var o=Hi(e,e===dt?pt:0);if(o===0)i!==null&&Hl(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Hl(i),t===1)e.tag===0?Mp(id.bind(null,e)):Wu(id.bind(null,e)),Lp(function(){($e&6)===0&&Pr()}),i=null;else{switch(Zl(o)){case 1:i=vo;break;case 4:i=Kl;break;case 16:i=Mi;break;case 536870912:i=Gl;break;default:i=Mi}i=hd(i,nd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function nd(e,t){if(zs=-1,Us=0,($e&6)!==0)throw Error(n(327));var i=e.callbackNode;if(An()&&e.callbackNode!==i)return null;var o=Hi(e,e===dt?pt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ls(e,o);else{t=o;var h=$e;$e|=2;var p=od();(dt!==e||pt!==t)&&(gr=null,Tn=tt()+500,Qr(e,t));do try{um();break}catch(L){sd(e,L)}while(!0);ra(),Rs.current=p,$e=h,it!==null?t=0:(dt=null,pt=0,t=lt)}if(t!==0){if(t===2&&(h=yo(e),h!==0&&(o=h,t=Ba(e,h))),t===1)throw i=Oi,Qr(e,0),Dr(e,o),Tt(e,tt()),i;if(t===6)Dr(e,o);else{if(h=e.current.alternate,(o&30)===0&&!am(h)&&(t=Ls(e,o),t===2&&(p=yo(e),p!==0&&(o=p,t=Ba(e,p))),t===1))throw i=Oi,Qr(e,0),Dr(e,o),Tt(e,tt()),i;switch(e.finishedWork=h,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:Yr(e,Ct,gr);break;case 3:if(Dr(e,o),(o&130023424)===o&&(t=za+500-tt(),10<t)){if(Hi(e,0)!==0)break;if(h=e.suspendedLanes,(h&o)!==o){Et(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=qo(Yr.bind(null,e,Ct,gr),t);break}Yr(e,Ct,gr);break;case 4:if(Dr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,h=-1;0<o;){var S=31-Ht(o);p=1<<S,S=t[S],S>h&&(h=S),o&=~p}if(o=h,o=tt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*om(o/1960))-o,10<o){e.timeoutHandle=qo(Yr.bind(null,e,Ct,gr),o);break}Yr(e,Ct,gr);break;case 5:Yr(e,Ct,gr);break;default:throw Error(n(329))}}}return Tt(e,tt()),e.callbackNode===i?nd.bind(null,e):null}function Ba(e,t){var i=Pi;return e.current.memoizedState.isDehydrated&&(Qr(e,t).flags|=256),e=Ls(e,t),e!==2&&(t=Ct,Ct=i,t!==null&&Fa(t)),e}function Fa(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function am(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var h=i[o],p=h.getSnapshot;h=h.value;try{if(!Kt(p(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~Na,t&=~Is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ht(t),o=1<<i;e[i]=-1,t&=~o}}function id(e){if(($e&6)!==0)throw Error(n(327));An();var t=Hi(e,0);if((t&1)===0)return Tt(e,tt()),null;var i=Ls(e,t);if(e.tag!==0&&i===2){var o=yo(e);o!==0&&(t=o,i=Ba(e,o))}if(i===1)throw i=Oi,Qr(e,0),Dr(e,t),Tt(e,tt()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yr(e,Ct,gr),Tt(e,tt()),null}function $a(e,t){var i=$e;$e|=1;try{return e(t)}finally{$e=i,$e===0&&(Tn=tt()+500,ds&&Pr())}}function Zr(e){Ir!==null&&Ir.tag===0&&($e&6)===0&&An();var t=$e;$e|=1;var i=Wt.transition,o=Ve;try{if(Wt.transition=null,Ve=1,e)return e()}finally{Ve=o,Wt.transition=i,$e=t,($e&6)===0&&Pr()}}function Ma(){Nt=Cn.current,Ge(Cn)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Up(i)),it!==null)for(i=it.return;i!==null;){var o=i;switch(Qo(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&us();break;case 3:xn(),Ge(xt),Ge(gt),ca();break;case 5:la(o);break;case 4:xn();break;case 13:Ge(Qe);break;case 19:Ge(Qe);break;case 10:na(o.type._context);break;case 22:case 23:Ma()}i=i.return}if(dt=e,it=e=Nr(e.current,null),pt=Nt=t,lt=0,Oi=null,Na=Is=Jr=0,Ct=Pi=null,Hr!==null){for(t=0;t<Hr.length;t++)if(i=Hr[t],o=i.interleaved,o!==null){i.interleaved=null;var h=o.next,p=i.pending;if(p!==null){var S=p.next;p.next=h,o.next=S}i.pending=o}Hr=null}return e}function sd(e,t){do{var i=it;try{if(ra(),ks.current=xs,bs){for(var o=Ye.memoizedState;o!==null;){var h=o.queue;h!==null&&(h.pending=null),o=o.next}bs=!1}if(Gr=0,ct=at=Ye=null,_i=!1,ki=0,Da.current=null,i===null||i.return===null){lt=1,Oi=t,it=null;break}e:{var p=e,S=i.return,L=i,M=t;if(t=pt,L.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=M,fe=L,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var _e=Ac(S);if(_e!==null){_e.flags&=-257,Rc(_e,S,L,p,t),_e.mode&1&&Tc(p,Y,t),t=_e,M=Y;var xe=t.updateQueue;if(xe===null){var Pe=new Set;Pe.add(M),t.updateQueue=Pe}else xe.add(M);break e}else{if((t&1)===0){Tc(p,Y,t),Wa();break e}M=Error(n(426))}}else if(Ze&&L.mode&1){var rt=Ac(S);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Rc(rt,S,L,p,t),ea(On(M,L));break e}}p=M=On(M,L),lt!==4&&(lt=2),Pi===null?Pi=[p]:Pi.push(p),p=S;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var H=Pc(p,M,t);ec(p,H);break e;case 1:L=M;var W=p.type,J=p.stateNode;if((p.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Rr===null||!Rr.has(J)))){p.flags|=65536,t&=-t,p.lanes|=t;var ve=Cc(p,L,t);ec(p,ve);break e}}p=p.return}while(p!==null)}ld(i)}catch(Ce){t=Ce,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function od(){var e=Rs.current;return Rs.current=xs,e===null?xs:e}function Wa(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(Jr&268435455)===0&&(Is&268435455)===0||Dr(dt,pt)}function Ls(e,t){var i=$e;$e|=2;var o=od();(dt!==e||pt!==t)&&(gr=null,Qr(e,t));do try{lm();break}catch(h){sd(e,h)}while(!0);if(ra(),$e=i,Rs.current=o,it!==null)throw Error(n(261));return dt=null,pt=0,lt}function lm(){for(;it!==null;)ad(it)}function um(){for(;it!==null&&!Df();)ad(it)}function ad(e){var t=dd(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?ld(e):it=t,Da.current=null}function ld(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=tm(i,t,Nt),i!==null){it=i;return}}else{if(i=rm(i,t),i!==null){i.flags&=32767,it=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,it=null;return}}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);lt===0&&(lt=5)}function Yr(e,t,i){var o=Ve,h=Wt.transition;try{Wt.transition=null,Ve=1,cm(e,t,i,o)}finally{Wt.transition=h,Ve=o}return null}function cm(e,t,i,o){do An();while(Ir!==null);if(($e&6)!==0)throw Error(n(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(Vf(e,p),e===dt&&(it=dt=null,pt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ds||(Ds=!0,hd(Mi,function(){return An(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=Wt.transition,Wt.transition=null;var S=Ve;Ve=1;var L=$e;$e|=4,Da.current=null,im(e,i),Yc(i,e),Ap(Wo),Ji=!!Mo,Wo=Mo=null,e.current=i,sm(i),Nf(),$e=L,Ve=S,Wt.transition=p}else e.current=i;if(Ds&&(Ds=!1,Ir=e,Ns=h),p=e.pendingLanes,p===0&&(Rr=null),Lf(i.stateNode),Tt(e,tt()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],o(h.value,{componentStack:h.stack,digest:h.digest});if(js)throw js=!1,e=Ua,Ua=null,e;return(Ns&1)!==0&&e.tag!==0&&An(),p=e.pendingLanes,(p&1)!==0?e===La?Ci++:(Ci=0,La=e):Ci=0,Pr(),null}function An(){if(Ir!==null){var e=Zl(Ns),t=Wt.transition,i=Ve;try{if(Wt.transition=null,Ve=16>e?16:e,Ir===null)var o=!1;else{if(e=Ir,Ir=null,Ns=0,($e&6)!==0)throw Error(n(331));var h=$e;for($e|=4,Se=e.current;Se!==null;){var p=Se,S=p.child;if((Se.flags&16)!==0){var L=p.deletions;if(L!==null){for(var M=0;M<L.length;M++){var Y=L[M];for(Se=Y;Se!==null;){var fe=Se;switch(fe.tag){case 0:case 11:case 15:xi(8,fe,p)}var me=fe.child;if(me!==null)me.return=fe,Se=me;else for(;Se!==null;){fe=Se;var he=fe.sibling,_e=fe.return;if(Kc(fe),fe===Y){Se=null;break}if(he!==null){he.return=_e,Se=he;break}Se=_e}}}var xe=p.alternate;if(xe!==null){var Pe=xe.child;if(Pe!==null){xe.child=null;do{var rt=Pe.sibling;Pe.sibling=null,Pe=rt}while(Pe!==null)}}Se=p}}if((p.subtreeFlags&2064)!==0&&S!==null)S.return=p,Se=S;else e:for(;Se!==null;){if(p=Se,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:xi(9,p,p.return)}var H=p.sibling;if(H!==null){H.return=p.return,Se=H;break e}Se=p.return}}var W=e.current;for(Se=W;Se!==null;){S=Se;var J=S.child;if((S.subtreeFlags&2064)!==0&&J!==null)J.return=S,Se=J;else e:for(S=W;Se!==null;){if(L=Se,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:As(9,L)}}catch(Ce){et(L,L.return,Ce)}if(L===S){Se=null;break e}var ve=L.sibling;if(ve!==null){ve.return=L.return,Se=ve;break e}Se=L.return}}if($e=h,Pr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Wi,e)}catch{}o=!0}return o}finally{Ve=i,Wt.transition=t}}return!1}function ud(e,t,i){t=On(i,t),t=Pc(e,t,1),e=Tr(e,t,1),t=Et(),e!==null&&(Yn(e,1,t),Tt(e,t))}function et(e,t,i){if(e.tag===3)ud(e,e,i);else for(;t!==null;){if(t.tag===3){ud(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=On(i,e),e=Cc(t,e,1),t=Tr(t,e,1),e=Et(),t!==null&&(Yn(t,1,e),Tt(t,e));break}}t=t.return}}function dm(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&i,dt===e&&(pt&i)===i&&(lt===4||lt===3&&(pt&130023424)===pt&&500>tt()-za?Qr(e,0):Na|=i),Tt(e,t)}function cd(e,t){t===0&&((e.mode&1)===0?t=1:(t=qi,qi<<=1,(qi&130023424)===0&&(qi=4194304)));var i=Et();e=fr(e,t),e!==null&&(Yn(e,t,i),Tt(e,i))}function hm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),cd(e,i)}function fm(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),cd(e,i)}var dd;dd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)Pt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Pt=!1,em(e,t,i);Pt=(e.flags&131072)!==0}else Pt=!1,Ze&&(t.flags&1048576)!==0&&Vu(t,fs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Cs(e,t),e=t.pendingProps;var h=yn(t,gt.current);En(t,i),h=fa(null,t,o,e,h,i);var p=pa();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(o)?(p=!0,cs(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,oa(t),h.updater=Os,t.stateNode=h,h._reactInternals=t,_a(t,o,e,i),t=Ea(null,t,o,!0,p,i)):(t.tag=0,Ze&&p&&Zo(t),St(null,t,h,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Cs(e,t),e=t.pendingProps,h=o._init,o=h(o._payload),t.type=o,h=t.tag=mm(o),e=Jt(o,e),h){case 0:t=Sa(null,t,o,e,i);break e;case 1:t=Uc(null,t,o,e,i);break e;case 11:t=Ic(null,t,o,e,i);break e;case 14:t=jc(null,t,o,Jt(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Jt(o,h),Sa(e,t,o,h,i);case 1:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Jt(o,h),Uc(e,t,o,h,i);case 3:e:{if(Lc(t),e===null)throw Error(n(387));o=t.pendingProps,p=t.memoizedState,h=p.element,Xu(e,t),ws(t,o,null,i);var S=t.memoizedState;if(o=S.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=On(Error(n(423)),t),t=Bc(e,t,o,i,h);break e}else if(o!==h){h=On(Error(n(424)),t),t=Bc(e,t,o,i,h);break e}else for(Dt=Er(t.stateNode.containerInfo.firstChild),jt=t,Ze=!0,Gt=null,i=Qu(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(kn(),o===h){t=mr(e,t,i);break e}St(e,t,o,i)}t=t.child}return t;case 5:return rc(t),e===null&&Xo(t),o=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,S=h.children,Vo(o,h)?S=null:p!==null&&Vo(o,p)&&(t.flags|=32),zc(e,t),St(e,t,S,i),t.child;case 6:return e===null&&Xo(t),null;case 13:return Fc(e,t,i);case 4:return aa(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=bn(t,null,o,i):St(e,t,o,i),t.child;case 11:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Jt(o,h),Ic(e,t,o,h,i);case 7:return St(e,t,t.pendingProps,i),t.child;case 8:return St(e,t,t.pendingProps.children,i),t.child;case 12:return St(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,h=t.pendingProps,p=t.memoizedProps,S=h.value,qe(gs,o._currentValue),o._currentValue=S,p!==null)if(Kt(p.value,S)){if(p.children===h.children&&!xt.current){t=mr(e,t,i);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var L=p.dependencies;if(L!==null){S=p.child;for(var M=L.firstContext;M!==null;){if(M.context===o){if(p.tag===1){M=pr(-1,i&-i),M.tag=2;var Y=p.updateQueue;if(Y!==null){Y=Y.shared;var fe=Y.pending;fe===null?M.next=M:(M.next=fe.next,fe.next=M),Y.pending=M}}p.lanes|=i,M=p.alternate,M!==null&&(M.lanes|=i),ia(p.return,i,t),L.lanes|=i;break}M=M.next}}else if(p.tag===10)S=p.type===t.type?null:p.child;else if(p.tag===18){if(S=p.return,S===null)throw Error(n(341));S.lanes|=i,L=S.alternate,L!==null&&(L.lanes|=i),ia(S,i,t),S=p.sibling}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}St(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,o=t.pendingProps.children,En(t,i),h=$t(h),o=o(h),t.flags|=1,St(e,t,o,i),t.child;case 14:return o=t.type,h=Jt(o,t.pendingProps),h=Jt(o.type,h),jc(e,t,o,h,i);case 15:return Dc(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Jt(o,h),Cs(e,t),t.tag=1,Ot(o)?(e=!0,cs(t)):e=!1,En(t,i),xc(t,o,h),_a(t,o,h,i),Ea(null,t,o,!0,e,i);case 19:return Mc(e,t,i);case 22:return Nc(e,t,i)}throw Error(n(156,t.tag))};function hd(e,t){return ql(e,t)}function pm(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,i,o){return new pm(e,t,i,o)}function Va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mm(e){if(typeof e=="function")return Va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B)return 11;if(e===ee)return 14}return 2}function Nr(e,t){var i=e.alternate;return i===null?(i=Vt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Bs(e,t,i,o,h,p){var S=2;if(o=e,typeof e=="function")Va(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case G:return Xr(i.children,h,p,t);case ne:S=8,h|=8;break;case Q:return e=Vt(12,i,t,h|2),e.elementType=Q,e.lanes=p,e;case Z:return e=Vt(13,i,t,h),e.elementType=Z,e.lanes=p,e;case k:return e=Vt(19,i,t,h),e.elementType=k,e.lanes=p,e;case re:return Fs(i,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:S=10;break e;case we:S=9;break e;case B:S=11;break e;case ee:S=14;break e;case ke:S=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Vt(S,i,t,h),t.elementType=e,t.type=o,t.lanes=p,t}function Xr(e,t,i,o){return e=Vt(7,e,o,t),e.lanes=i,e}function Fs(e,t,i,o){return e=Vt(22,e,o,t),e.elementType=re,e.lanes=i,e.stateNode={isHidden:!1},e}function qa(e,t,i){return e=Vt(6,e,null,t),e.lanes=i,e}function Ha(e,t,i){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gm(e,t,i,o,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=o,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ka(e,t,i,o,h,p,S,L,M){return e=new gm(e,t,i,L,M),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Vt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(p),e}function vm(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function fd(e){if(!e)return Or;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(Ot(i))return $u(e,i,t)}return t}function pd(e,t,i,o,h,p,S,L,M){return e=Ka(i,o,!0,e,h,p,S,L,M),e.context=fd(null),i=e.current,o=Et(),h=jr(i),p=pr(o,h),p.callback=t??null,Tr(i,p,h),e.current.lanes=h,Yn(e,h,o),Tt(e,o),e}function $s(e,t,i,o){var h=t.current,p=Et(),S=jr(h);return i=fd(i),t.context===null?t.context=i:t.pendingContext=i,t=pr(p,S),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Tr(h,t,S),e!==null&&(Yt(e,h,S,p),ys(e,h,S)),S}function Ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ga(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function ym(){return null}var gd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ja(e){this._internalRoot=e}Ws.prototype.render=Ja.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));$s(e,t,null,null)},Ws.prototype.unmount=Ja.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zr(function(){$s(null,e,null,null)}),t[ur]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xl();e={blockedOn:null,target:e,priority:t};for(var i=0;i<kr.length&&t!==0&&t<kr[i].priority;i++);kr.splice(i,0,e),i===0&&ru(e)}};function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function wm(e,t,i,o,h){if(h){if(typeof o=="function"){var p=o;o=function(){var Y=Ms(S);p.call(Y)}}var S=pd(t,o,e,0,null,!1,!1,"",vd);return e._reactRootContainer=S,e[ur]=S.current,hi(e.nodeType===8?e.parentNode:e),Zr(),S}for(;h=e.lastChild;)e.removeChild(h);if(typeof o=="function"){var L=o;o=function(){var Y=Ms(M);L.call(Y)}}var M=Ka(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=M,e[ur]=M.current,hi(e.nodeType===8?e.parentNode:e),Zr(function(){$s(t,M,i,o)}),M}function qs(e,t,i,o,h){var p=i._reactRootContainer;if(p){var S=p;if(typeof h=="function"){var L=h;h=function(){var M=Ms(S);L.call(M)}}$s(t,S,e,h)}else S=wm(i,t,e,h,o);return Ms(S)}Ql=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Qn(t.pendingLanes);i!==0&&(_o(t,i|1),Tt(t,tt()),($e&6)===0&&(Tn=tt()+500,Pr()))}break;case 13:Zr(function(){var o=fr(e,1);if(o!==null){var h=Et();Yt(o,e,1,h)}}),Ga(e,1)}},ko=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var i=Et();Yt(t,e,134217728,i)}Ga(e,134217728)}},Yl=function(e){if(e.tag===13){var t=jr(e),i=fr(e,t);if(i!==null){var o=Et();Yt(i,e,t,o)}Ga(e,t)}},Xl=function(){return Ve},eu=function(e,t){var i=Ve;try{return Ve=e,t()}finally{Ve=i}},Kn=function(e,t,i){switch(t){case"input":if(U(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var h=ls(o);if(!h)throw Error(n(90));bt(o),U(o,h)}}}break;case"textarea":P(e,i);break;case"select":t=i.value,t!=null&&w(e,!!i.multiple,t,!1)}},Ll=$a,Bl=Zr;var _m={usingClientEntryPoint:!1,Events:[mi,gn,ls,zl,Ul,$a]},Ti={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wl(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Wi=Hs.inject(km),nr=Hs}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m,At.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Za(t))throw Error(n(200));return vm(e,t,null,i)},At.createRoot=function(e,t){if(!Za(e))throw Error(n(299));var i=!1,o="",h=gd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Ka(e,1,!1,null,null,i,!1,o,h),e[ur]=t.current,hi(e.nodeType===8?e.parentNode:e),new Ja(t)},At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Wl(t),e=e===null?null:e.stateNode,e},At.flushSync=function(e){return Zr(e)},At.hydrate=function(e,t,i){if(!Vs(t))throw Error(n(200));return qs(null,e,t,!0,i)},At.hydrateRoot=function(e,t,i){if(!Za(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,h=!1,p="",S=gd;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),t=pd(t,null,e,1,i??null,h,!1,p,S),e[ur]=t.current,hi(e),o)for(e=0;e<o.length;e++)i=o[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new Ws(t)},At.render=function(e,t,i){if(!Vs(t))throw Error(n(200));return qs(null,e,t,!1,i)},At.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(n(40));return e._reactRootContainer?(Zr(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1},At.unstable_batchedUpdates=$a,At.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Vs(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return qs(e,t,i,!1,o)},At.version="18.3.1-next-f1338f8080-20240426",At}var xd;function Im(){if(xd)return Xa.exports;xd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),Xa.exports=Rm(),Xa.exports}var Od;function jm(){if(Od)return Gs;Od=1;var c=Im();return Gs.createRoot=c.createRoot,Gs.hydrateRoot=c.hydrateRoot,Gs}var Dm=jm();function Js(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rl={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Pd;function Nm(){return Pd||(Pd=1,(function(c,r){(function(n){c.exports=n()})(function(){return(function n(s,l,a){function u(m,b){if(!l[m]){if(!s[m]){var E=typeof Js=="function"&&Js;if(!b&&E)return E(m,!0);if(d)return d(m,!0);var O=new Error("Cannot find module '"+m+"'");throw O.code="MODULE_NOT_FOUND",O}var g=l[m]={exports:{}};s[m][0].call(g.exports,function(T){var _=s[m][1][T];return u(_||T)},g,g.exports,n,s,l,a)}return l[m].exports}for(var d=typeof Js=="function"&&Js,f=0;f<a.length;f++)u(a[f]);return u})({1:[function(n,s,l){var a=n("./utils"),u=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(f){for(var m,b,E,O,g,T,_,x=[],C=0,R=f.length,j=R,F=a.getTypeOf(f)!=="string";C<f.length;)j=R-C,E=F?(m=f[C++],b=C<R?f[C++]:0,C<R?f[C++]:0):(m=f.charCodeAt(C++),b=C<R?f.charCodeAt(C++):0,C<R?f.charCodeAt(C++):0),O=m>>2,g=(3&m)<<4|b>>4,T=1<j?(15&b)<<2|E>>6:64,_=2<j?63&E:64,x.push(d.charAt(O)+d.charAt(g)+d.charAt(T)+d.charAt(_));return x.join("")},l.decode=function(f){var m,b,E,O,g,T,_=0,x=0,C="data:";if(f.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var R,j=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===d.charAt(64)&&j--,f.charAt(f.length-2)===d.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=u.uint8array?new Uint8Array(0|j):new Array(0|j);_<f.length;)m=d.indexOf(f.charAt(_++))<<2|(O=d.indexOf(f.charAt(_++)))>>4,b=(15&O)<<4|(g=d.indexOf(f.charAt(_++)))>>2,E=(3&g)<<6|(T=d.indexOf(f.charAt(_++))),R[x++]=m,g!==64&&(R[x++]=b),T!==64&&(R[x++]=E);return R}},{"./support":30,"./utils":32}],2:[function(n,s,l){var a=n("./external"),u=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function m(b,E,O,g,T){this.compressedSize=b,this.uncompressedSize=E,this.crc32=O,this.compression=g,this.compressedContent=T}m.prototype={getContentWorker:function(){var b=new u(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),E=this;return b.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new u(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(b,E,O){return b.pipe(new d).pipe(new f("uncompressedSize")).pipe(E.compressWorker(O)).pipe(new f("compressedSize")).withStreamInfo("compression",E)},s.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,l){var a=n("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},l.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,l){var a=n("./utils"),u=(function(){for(var d,f=[],m=0;m<256;m++){d=m;for(var b=0;b<8;b++)d=1&d?3988292384^d>>>1:d>>>1;f[m]=d}return f})();s.exports=function(d,f){return d!==void 0&&d.length?a.getTypeOf(d)!=="string"?(function(m,b,E,O){var g=u,T=O+E;m^=-1;for(var _=O;_<T;_++)m=m>>>8^g[255&(m^b[_])];return-1^m})(0|f,d,d.length,0):(function(m,b,E,O){var g=u,T=O+E;m^=-1;for(var _=O;_<T;_++)m=m>>>8^g[255&(m^b.charCodeAt(_))];return-1^m})(0|f,d,d.length,0):0}},{"./utils":32}],5:[function(n,s,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(n,s,l){var a=null;a=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:a}},{lie:37}],7:[function(n,s,l){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=n("pako"),d=n("./utils"),f=n("./stream/GenericWorker"),m=a?"uint8array":"array";function b(E,O){f.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=O,this.meta={}}l.magic="\b\0",d.inherits(b,f),b.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(m,E.data),!1)},b.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(O){E.push({data:O,meta:E.meta})}},l.compressWorker=function(E){return new b("Deflate",E)},l.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,l){function a(g,T){var _,x="";for(_=0;_<T;_++)x+=String.fromCharCode(255&g),g>>>=8;return x}function u(g,T,_,x,C,R){var j,F,$=g.file,K=g.compression,G=R!==m.utf8encode,ne=d.transformTo("string",R($.name)),Q=d.transformTo("string",m.utf8encode($.name)),de=$.comment,we=d.transformTo("string",R(de)),B=d.transformTo("string",m.utf8encode(de)),Z=Q.length!==$.name.length,k=B.length!==de.length,ee="",ke="",re="",oe=$.dir,X=$.date,se={crc32:0,compressedSize:0,uncompressedSize:0};T&&!_||(se.crc32=g.crc32,se.compressedSize=g.compressedSize,se.uncompressedSize=g.uncompressedSize);var A=0;T&&(A|=8),G||!Z&&!k||(A|=2048);var z=0,pe=0;oe&&(z|=16),C==="UNIX"?(pe=798,z|=(function(ae,Oe){var je=ae;return ae||(je=Oe?16893:33204),(65535&je)<<16})($.unixPermissions,oe)):(pe=20,z|=(function(ae){return 63&(ae||0)})($.dosPermissions)),j=X.getUTCHours(),j<<=6,j|=X.getUTCMinutes(),j<<=5,j|=X.getUTCSeconds()/2,F=X.getUTCFullYear()-1980,F<<=4,F|=X.getUTCMonth()+1,F<<=5,F|=X.getUTCDate(),Z&&(ke=a(1,1)+a(b(ne),4)+Q,ee+="up"+a(ke.length,2)+ke),k&&(re=a(1,1)+a(b(we),4)+B,ee+="uc"+a(re.length,2)+re);var le="";return le+=`
\0`,le+=a(A,2),le+=K.magic,le+=a(j,2),le+=a(F,2),le+=a(se.crc32,4),le+=a(se.compressedSize,4),le+=a(se.uncompressedSize,4),le+=a(ne.length,2),le+=a(ee.length,2),{fileRecord:E.LOCAL_FILE_HEADER+le+ne+ee,dirRecord:E.CENTRAL_FILE_HEADER+a(pe,2)+le+a(we.length,2)+"\0\0\0\0"+a(z,4)+a(x,4)+ne+ee+we}}var d=n("../utils"),f=n("../stream/GenericWorker"),m=n("../utf8"),b=n("../crc32"),E=n("../signature");function O(g,T,_,x){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=T,this.zipPlatform=_,this.encodeFileName=x,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(O,f),O.prototype.push=function(g){var T=g.meta.percent||0,_=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,f.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:_?(T+100*(_-x-1))/_:100}}))},O.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var T=this.streamFiles&&!g.file.dir;if(T){var _=u(g,T,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},O.prototype.closedSource=function(g){this.accumulate=!1;var T=this.streamFiles&&!g.file.dir,_=u(g,T,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),T)this.push({data:(function(x){return E.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},O.prototype.flush=function(){for(var g=this.bytesWritten,T=0;T<this.dirRecords.length;T++)this.push({data:this.dirRecords[T],meta:{percent:100}});var _=this.bytesWritten-g,x=(function(C,R,j,F,$){var K=d.transformTo("string",$(F));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(C,2)+a(C,2)+a(R,4)+a(j,4)+a(K.length,2)+K})(this.dirRecords.length,_,g,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},O.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},O.prototype.registerPrevious=function(g){this._sources.push(g);var T=this;return g.on("data",function(_){T.processChunk(_)}),g.on("end",function(){T.closedSource(T.previous.streamInfo),T._sources.length?T.prepareNextSource():T.end()}),g.on("error",function(_){T.error(_)}),this},O.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},O.prototype.error=function(g){var T=this._sources;if(!f.prototype.error.call(this,g))return!1;for(var _=0;_<T.length;_++)try{T[_].error(g)}catch{}return!0},O.prototype.lock=function(){f.prototype.lock.call(this);for(var g=this._sources,T=0;T<g.length;T++)g[T].lock()},s.exports=O},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,l){var a=n("../compressions"),u=n("./ZipFileWorker");l.generateWorker=function(d,f,m){var b=new u(f.streamFiles,m,f.platform,f.encodeFileName),E=0;try{d.forEach(function(O,g){E++;var T=(function(R,j){var F=R||j,$=a[F];if(!$)throw new Error(F+" is not a valid compression method !");return $})(g.options.compression,f.compression),_=g.options.compressionOptions||f.compressionOptions||{},x=g.dir,C=g.date;g._compressWorker(T,_).withStreamInfo("file",{name:O,dir:x,date:C,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(b)}),b.entriesCount=E}catch(O){b.error(O)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,l){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new a;for(var d in this)typeof this[d]!="function"&&(u[d]=this[d]);return u}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(u,d){return new a().loadAsync(u,d)},a.external=n("./external"),s.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,l){var a=n("./utils"),u=n("./external"),d=n("./utf8"),f=n("./zipEntries"),m=n("./stream/Crc32Probe"),b=n("./nodejsUtils");function E(O){return new u.Promise(function(g,T){var _=O.decompressed.getContentWorker().pipe(new m);_.on("error",function(x){T(x)}).on("end",function(){_.streamInfo.crc32!==O.decompressed.crc32?T(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}s.exports=function(O,g){var T=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),b.isNode&&b.isStream(O)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",O,!0,g.optimizedBinaryString,g.base64).then(function(_){var x=new f(g);return x.load(_),x}).then(function(_){var x=[u.Promise.resolve(_)],C=_.files;if(g.checkCRC32)for(var R=0;R<C.length;R++)x.push(E(C[R]));return u.Promise.all(x)}).then(function(_){for(var x=_.shift(),C=x.files,R=0;R<C.length;R++){var j=C[R],F=j.fileNameStr,$=a.resolve(j.fileNameStr);T.file($,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:g.createFolders}),j.dir||(T.file($).unsafeOriginalName=F)}return x.zipComment.length&&(T.comment=x.zipComment),T})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,l){var a=n("../utils"),u=n("../stream/GenericWorker");function d(f,m){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(m)}a.inherits(d,u),d.prototype._bindStream=function(f){var m=this;(this._stream=f).pause(),f.on("data",function(b){m.push({data:b,meta:{percent:0}})}).on("error",function(b){m.isPaused?this.generatedError=b:m.error(b)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},d.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,l){var a=n("readable-stream").Readable;function u(d,f,m){a.call(this,f),this._helper=d;var b=this;d.on("data",function(E,O){b.push(E)||b._helper.pause(),m&&m(O)}).on("error",function(E){b.emit("error",E)}).on("end",function(){b.push(null)})}n("../utils").inherits(u,a),u.prototype._read=function(){this._helper.resume()},s.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,s,l){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,u);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,u)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var u=new Buffer(a);return u.fill(0),u},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,s,l){function a($,K,G){var ne,Q=d.getTypeOf(K),de=d.extend(G||{},b);de.date=de.date||new Date,de.compression!==null&&(de.compression=de.compression.toUpperCase()),typeof de.unixPermissions=="string"&&(de.unixPermissions=parseInt(de.unixPermissions,8)),de.unixPermissions&&16384&de.unixPermissions&&(de.dir=!0),de.dosPermissions&&16&de.dosPermissions&&(de.dir=!0),de.dir&&($=C($)),de.createFolders&&(ne=x($))&&R.call(this,ne,!0);var we=Q==="string"&&de.binary===!1&&de.base64===!1;G&&G.binary!==void 0||(de.binary=!we),(K instanceof E&&K.uncompressedSize===0||de.dir||!K||K.length===0)&&(de.base64=!1,de.binary=!0,K="",de.compression="STORE",Q="string");var B=null;B=K instanceof E||K instanceof f?K:T.isNode&&T.isStream(K)?new _($,K):d.prepareContent($,K,de.binary,de.optimizedBinaryString,de.base64);var Z=new O($,B,de);this.files[$]=Z}var u=n("./utf8"),d=n("./utils"),f=n("./stream/GenericWorker"),m=n("./stream/StreamHelper"),b=n("./defaults"),E=n("./compressedObject"),O=n("./zipObject"),g=n("./generate"),T=n("./nodejsUtils"),_=n("./nodejs/NodejsStreamInputAdapter"),x=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var K=$.lastIndexOf("/");return 0<K?$.substring(0,K):""},C=function($){return $.slice(-1)!=="/"&&($+="/"),$},R=function($,K){return K=K!==void 0?K:b.createFolders,$=C($),this.files[$]||a.call(this,$,null,{dir:!0,createFolders:K}),this.files[$]};function j($){return Object.prototype.toString.call($)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var K,G,ne;for(K in this.files)ne=this.files[K],(G=K.slice(this.root.length,K.length))&&K.slice(0,this.root.length)===this.root&&$(G,ne)},filter:function($){var K=[];return this.forEach(function(G,ne){$(G,ne)&&K.push(ne)}),K},file:function($,K,G){if(arguments.length!==1)return $=this.root+$,a.call(this,$,K,G),this;if(j($)){var ne=$;return this.filter(function(de,we){return!we.dir&&ne.test(de)})}var Q=this.files[this.root+$];return Q&&!Q.dir?Q:null},folder:function($){if(!$)return this;if(j($))return this.filter(function(Q,de){return de.dir&&$.test(Q)});var K=this.root+$,G=R.call(this,K),ne=this.clone();return ne.root=G.name,ne},remove:function($){$=this.root+$;var K=this.files[$];if(K||($.slice(-1)!=="/"&&($+="/"),K=this.files[$]),K&&!K.dir)delete this.files[$];else for(var G=this.filter(function(Q,de){return de.name.slice(0,$.length)===$}),ne=0;ne<G.length;ne++)delete this.files[G[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var K,G={};try{if((G=d.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring"&&(G.type="string"),!G.type)throw new Error("No output type specified.");d.checkSupport(G.type),G.platform!=="darwin"&&G.platform!=="freebsd"&&G.platform!=="linux"&&G.platform!=="sunos"||(G.platform="UNIX"),G.platform==="win32"&&(G.platform="DOS");var ne=G.comment||this.comment||"";K=g.generateWorker(this,G,ne)}catch(Q){(K=new f("error")).error(Q)}return new m(K,G.type||"string",G.mimeType)},generateAsync:function($,K){return this.generateInternalStream($).accumulate(K)},generateNodeStream:function($,K){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(K)}};s.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,l){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,l){var a=n("./DataReader");function u(d){a.call(this,d);for(var f=0;f<this.data.length;f++)d[f]=255&d[f]}n("../utils").inherits(u,a),u.prototype.byteAt=function(d){return this.data[this.zero+d]},u.prototype.lastIndexOfSignature=function(d){for(var f=d.charCodeAt(0),m=d.charCodeAt(1),b=d.charCodeAt(2),E=d.charCodeAt(3),O=this.length-4;0<=O;--O)if(this.data[O]===f&&this.data[O+1]===m&&this.data[O+2]===b&&this.data[O+3]===E)return O-this.zero;return-1},u.prototype.readAndCheckSignature=function(d){var f=d.charCodeAt(0),m=d.charCodeAt(1),b=d.charCodeAt(2),E=d.charCodeAt(3),O=this.readData(4);return f===O[0]&&m===O[1]&&b===O[2]&&E===O[3]},u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},s.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,s,l){var a=n("../utils");function u(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var f,m=0;for(this.checkOffset(d),f=this.index+d-1;f>=this.index;f--)m=(m<<8)+this.byteAt(f);return this.index+=d,m},readString:function(d){return a.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},s.exports=u},{"../utils":32}],19:[function(n,s,l){var a=n("./Uint8ArrayReader");function u(d){a.call(this,d)}n("../utils").inherits(u,a),u.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},s.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,l){var a=n("./DataReader");function u(d){a.call(this,d)}n("../utils").inherits(u,a),u.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},u.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},u.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},u.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},s.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,s,l){var a=n("./ArrayReader");function u(d){a.call(this,d)}n("../utils").inherits(u,a),u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},s.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,l){var a=n("../utils"),u=n("../support"),d=n("./ArrayReader"),f=n("./StringReader"),m=n("./NodeBufferReader"),b=n("./Uint8ArrayReader");s.exports=function(E){var O=a.getTypeOf(E);return a.checkSupport(O),O!=="string"||u.uint8array?O==="nodebuffer"?new m(E):u.uint8array?new b(a.transformTo("uint8array",E)):new d(a.transformTo("array",E)):new f(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,l){var a=n("./GenericWorker"),u=n("../utils");function d(f){a.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(d,a),d.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},s.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,l){var a=n("./GenericWorker"),u=n("../crc32");function d(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,a),d.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},s.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,l){var a=n("../utils"),u=n("./GenericWorker");function d(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}a.inherits(d,u),d.prototype.processChunk=function(f){if(f){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+f.data.length}u.prototype.processChunk.call(this,f)},s.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,l){var a=n("../utils"),u=n("./GenericWorker");function d(f){u.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(b){m.dataIsReady=!0,m.data=b,m.max=b&&b.length||0,m.type=a.getTypeOf(b),m.isPaused||m._tickAndRepeat()},function(b){m.error(b)})}a.inherits(d,u),d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,m);break;case"uint8array":f=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":f=this.data.slice(this.index,m)}return this.index=m,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,l){function a(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,d){return this._listeners[u].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,d){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,d)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var d=this;return u.on("data",function(f){d.processChunk(f)}),u.on("end",function(){d.end()}),u.on("error",function(f){d.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,d){return this.extraStreamInfo[u]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},s.exports=a},{}],29:[function(n,s,l){var a=n("../utils"),u=n("./ConvertWorker"),d=n("./GenericWorker"),f=n("../base64"),m=n("../support"),b=n("../external"),E=null;if(m.nodestream)try{E=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function O(T,_){return new b.Promise(function(x,C){var R=[],j=T._internalType,F=T._outputType,$=T._mimeType;T.on("data",function(K,G){R.push(K),_&&_(G)}).on("error",function(K){R=[],C(K)}).on("end",function(){try{var K=(function(G,ne,Q){switch(G){case"blob":return a.newBlob(a.transformTo("arraybuffer",ne),Q);case"base64":return f.encode(ne);default:return a.transformTo(G,ne)}})(F,(function(G,ne){var Q,de=0,we=null,B=0;for(Q=0;Q<ne.length;Q++)B+=ne[Q].length;switch(G){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(we=new Uint8Array(B),Q=0;Q<ne.length;Q++)we.set(ne[Q],de),de+=ne[Q].length;return we;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+G+"'")}})(j,R),$);x(K)}catch(G){C(G)}R=[]}).resume()})}function g(T,_,x){var C=_;switch(_){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=_,this._mimeType=x,a.checkSupport(C),this._worker=T.pipe(new u(C)),T.lock()}catch(R){this._worker=new d("error"),this._worker.error(R)}}g.prototype={accumulate:function(T){return O(this,T)},on:function(T,_){var x=this;return T==="data"?this._worker.on(T,function(C){_.call(x,C.data,C.meta)}):this._worker.on(T,function(){a.delay(_,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},T)}},s.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var a=new ArrayBuffer(0);try{l.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(a),l.blob=u.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!n("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,l){for(var a=n("./utils"),u=n("./support"),d=n("./nodejsUtils"),f=n("./stream/GenericWorker"),m=new Array(256),b=0;b<256;b++)m[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;m[254]=m[254]=1;function E(){f.call(this,"utf-8 decode"),this.leftOver=null}function O(){f.call(this,"utf-8 encode")}l.utf8encode=function(g){return u.nodebuffer?d.newBufferFrom(g,"utf-8"):(function(T){var _,x,C,R,j,F=T.length,$=0;for(R=0;R<F;R++)(64512&(x=T.charCodeAt(R)))==55296&&R+1<F&&(64512&(C=T.charCodeAt(R+1)))==56320&&(x=65536+(x-55296<<10)+(C-56320),R++),$+=x<128?1:x<2048?2:x<65536?3:4;for(_=u.uint8array?new Uint8Array($):new Array($),R=j=0;j<$;R++)(64512&(x=T.charCodeAt(R)))==55296&&R+1<F&&(64512&(C=T.charCodeAt(R+1)))==56320&&(x=65536+(x-55296<<10)+(C-56320),R++),x<128?_[j++]=x:(x<2048?_[j++]=192|x>>>6:(x<65536?_[j++]=224|x>>>12:(_[j++]=240|x>>>18,_[j++]=128|x>>>12&63),_[j++]=128|x>>>6&63),_[j++]=128|63&x);return _})(g)},l.utf8decode=function(g){return u.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):(function(T){var _,x,C,R,j=T.length,F=new Array(2*j);for(_=x=0;_<j;)if((C=T[_++])<128)F[x++]=C;else if(4<(R=m[C]))F[x++]=65533,_+=R-1;else{for(C&=R===2?31:R===3?15:7;1<R&&_<j;)C=C<<6|63&T[_++],R--;1<R?F[x++]=65533:C<65536?F[x++]=C:(C-=65536,F[x++]=55296|C>>10&1023,F[x++]=56320|1023&C)}return F.length!==x&&(F.subarray?F=F.subarray(0,x):F.length=x),a.applyFromCharCode(F)})(g=a.transformTo(u.uint8array?"uint8array":"array",g))},a.inherits(E,f),E.prototype.processChunk=function(g){var T=a.transformTo(u.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var _=T;(T=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),T.set(_,this.leftOver.length)}else T=this.leftOver.concat(T);this.leftOver=null}var x=(function(R,j){var F;for((j=j||R.length)>R.length&&(j=R.length),F=j-1;0<=F&&(192&R[F])==128;)F--;return F<0||F===0?j:F+m[R[F]]>j?F:j})(T),C=T;x!==T.length&&(u.uint8array?(C=T.subarray(0,x),this.leftOver=T.subarray(x,T.length)):(C=T.slice(0,x),this.leftOver=T.slice(x,T.length))),this.push({data:l.utf8decode(C),meta:g.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=E,a.inherits(O,f),O.prototype.processChunk=function(g){this.push({data:l.utf8encode(g.data),meta:g.meta})},l.Utf8EncodeWorker=O},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,l){var a=n("./support"),u=n("./base64"),d=n("./nodejsUtils"),f=n("./external");function m(_){return _}function b(_,x){for(var C=0;C<_.length;++C)x[C]=255&_.charCodeAt(C);return x}n("setimmediate"),l.newBlob=function(_,x){l.checkSupport("blob");try{return new Blob([_],{type:x})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(_),C.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(_,x,C){var R=[],j=0,F=_.length;if(F<=C)return String.fromCharCode.apply(null,_);for(;j<F;)x==="array"||x==="nodebuffer"?R.push(String.fromCharCode.apply(null,_.slice(j,Math.min(j+C,F)))):R.push(String.fromCharCode.apply(null,_.subarray(j,Math.min(j+C,F)))),j+=C;return R.join("")},stringifyByChar:function(_){for(var x="",C=0;C<_.length;C++)x+=String.fromCharCode(_[C]);return x},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function O(_){var x=65536,C=l.getTypeOf(_),R=!0;if(C==="uint8array"?R=E.applyCanBeUsed.uint8array:C==="nodebuffer"&&(R=E.applyCanBeUsed.nodebuffer),R)for(;1<x;)try{return E.stringifyByChunk(_,C,x)}catch{x=Math.floor(x/2)}return E.stringifyByChar(_)}function g(_,x){for(var C=0;C<_.length;C++)x[C]=_[C];return x}l.applyFromCharCode=O;var T={};T.string={string:m,array:function(_){return b(_,new Array(_.length))},arraybuffer:function(_){return T.string.uint8array(_).buffer},uint8array:function(_){return b(_,new Uint8Array(_.length))},nodebuffer:function(_){return b(_,d.allocBuffer(_.length))}},T.array={string:O,array:m,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return d.newBufferFrom(_)}},T.arraybuffer={string:function(_){return O(new Uint8Array(_))},array:function(_){return g(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:m,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return d.newBufferFrom(new Uint8Array(_))}},T.uint8array={string:O,array:function(_){return g(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:m,nodebuffer:function(_){return d.newBufferFrom(_)}},T.nodebuffer={string:O,array:function(_){return g(_,new Array(_.length))},arraybuffer:function(_){return T.nodebuffer.uint8array(_).buffer},uint8array:function(_){return g(_,new Uint8Array(_.length))},nodebuffer:m},l.transformTo=function(_,x){if(x=x||"",!_)return x;l.checkSupport(_);var C=l.getTypeOf(x);return T[C][_](x)},l.resolve=function(_){for(var x=_.split("/"),C=[],R=0;R<x.length;R++){var j=x[R];j==="."||j===""&&R!==0&&R!==x.length-1||(j===".."?C.pop():C.push(j))}return C.join("/")},l.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":a.nodebuffer&&d.isBuffer(_)?"nodebuffer":a.uint8array&&_ instanceof Uint8Array?"uint8array":a.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(_){if(!a[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(_){var x,C,R="";for(C=0;C<(_||"").length;C++)R+="\\x"+((x=_.charCodeAt(C))<16?"0":"")+x.toString(16).toUpperCase();return R},l.delay=function(_,x,C){setImmediate(function(){_.apply(C||null,x||[])})},l.inherits=function(_,x){function C(){}C.prototype=x.prototype,_.prototype=new C},l.extend=function(){var _,x,C={};for(_=0;_<arguments.length;_++)for(x in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],x)&&C[x]===void 0&&(C[x]=arguments[_][x]);return C},l.prepareContent=function(_,x,C,R,j){return f.Promise.resolve(x).then(function(F){return a.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new f.Promise(function($,K){var G=new FileReader;G.onload=function(ne){$(ne.target.result)},G.onerror=function(ne){K(ne.target.error)},G.readAsArrayBuffer(F)}):F}).then(function(F){var $=l.getTypeOf(F);return $?($==="arraybuffer"?F=l.transformTo("uint8array",F):$==="string"&&(j?F=u.decode(F):C&&R!==!0&&(F=(function(K){return b(K,a.uint8array?new Uint8Array(K.length):new Array(K.length))})(F))),F):f.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,l){var a=n("./reader/readerFor"),u=n("./utils"),d=n("./signature"),f=n("./zipEntry"),m=n("./support");function b(E){this.files=[],this.loadOptions=E}b.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var O=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(O)+", expected "+u.pretty(E)+")")}},isSignature:function(E,O){var g=this.reader.index;this.reader.setIndex(E);var T=this.reader.readString(4)===O;return this.reader.setIndex(g),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),O=m.uint8array?"uint8array":"array",g=u.transformTo(O,E);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,O,g,T=this.zip64EndOfCentralSize-44;0<T;)E=this.reader.readInt(2),O=this.reader.readInt(4),g=this.reader.readData(O),this.zip64ExtensibleData[E]={id:E,length:O,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,O;for(E=0;E<this.files.length;E++)O=this.files[E],this.reader.setIndex(O.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),O.readLocalPart(this.reader),O.handleUTF8(),O.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(E=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var O=E;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var T=O-g;if(0<T)this.isSignature(O,d.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(E){this.reader=a(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,l){var a=n("./reader/readerFor"),u=n("./utils"),d=n("./compressedObject"),f=n("./crc32"),m=n("./utf8"),b=n("./compressions"),E=n("./support");function O(g,T){this.options=g,this.loadOptions=T}O.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var T,_;if(g.skip(22),this.fileNameLength=g.readInt(2),_=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((T=(function(x){for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)&&b[C].magic===x)return b[C];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,T,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var T=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(T),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var T,_,x,C=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<C;)T=g.readInt(2),_=g.readInt(2),x=g.readData(_),this.extraFields[T]={id:T,length:_,value:x};g.setIndex(C)},handleUTF8:function(){var g=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var T=this.findExtraFieldUnicodePath();if(T!==null)this.fileNameStr=T;else{var _=u.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var C=u.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var T=a(g.value);return T.readInt(1)!==1||f(this.fileName)!==T.readInt(4)?null:m.utf8decode(T.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var T=a(g.value);return T.readInt(1)!==1||f(this.fileComment)!==T.readInt(4)?null:m.utf8decode(T.readData(g.length-5))}return null}},s.exports=O},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,l){function a(T,_,x){this.name=T,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=_,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var u=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),f=n("./utf8"),m=n("./compressedObject"),b=n("./stream/GenericWorker");a.prototype={internalStream:function(T){var _=null,x="string";try{if(!T)throw new Error("No output type specified.");var C=(x=T.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),_=this._decompressWorker();var R=!this._dataBinary;R&&!C&&(_=_.pipe(new f.Utf8EncodeWorker)),!R&&C&&(_=_.pipe(new f.Utf8DecodeWorker))}catch(j){(_=new b("error")).error(j)}return new u(_,x,"")},async:function(T,_){return this.internalStream(T).accumulate(_)},nodeStream:function(T,_){return this.internalStream(T||"nodebuffer").toNodejsStream(_)},_compressWorker:function(T,_){if(this._data instanceof m&&this._data.compression.magic===T.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new f.Utf8EncodeWorker)),m.createWorkerFrom(x,T,_)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof b?this._data:new d(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],O=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<E.length;g++)a.prototype[E[g]]=O;s.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,l){(function(a){var u,d,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var m=0,b=new f(T),E=a.document.createTextNode("");b.observe(E,{characterData:!0}),u=function(){E.data=m=++m%2}}else if(a.setImmediate||a.MessageChannel===void 0)u="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var _=a.document.createElement("script");_.onreadystatechange=function(){T(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:function(){setTimeout(T,0)};else{var O=new a.MessageChannel;O.port1.onmessage=T,u=function(){O.port2.postMessage(0)}}var g=[];function T(){var _,x;d=!0;for(var C=g.length;C;){for(x=g,g=[],_=-1;++_<C;)x[_]();C=g.length}d=!1}s.exports=function(_){g.push(_)!==1||d||u()}}).call(this,typeof Ks<"u"?Ks:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,l){var a=n("immediate");function u(){}var d={},f=["REJECTED"],m=["FULFILLED"],b=["PENDING"];function E(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,C!==u&&_(this,C)}function O(C,R,j){this.promise=C,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function g(C,R,j){a(function(){var F;try{F=R(j)}catch($){return d.reject(C,$)}F===C?d.reject(C,new TypeError("Cannot resolve promise with itself")):d.resolve(C,F)})}function T(C){var R=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof R=="function")return function(){R.apply(C,arguments)}}function _(C,R){var j=!1;function F(G){j||(j=!0,d.reject(C,G))}function $(G){j||(j=!0,d.resolve(C,G))}var K=x(function(){R($,F)});K.status==="error"&&F(K.value)}function x(C,R){var j={};try{j.value=C(R),j.status="success"}catch(F){j.status="error",j.value=F}return j}(s.exports=E).prototype.finally=function(C){if(typeof C!="function")return this;var R=this.constructor;return this.then(function(j){return R.resolve(C()).then(function(){return j})},function(j){return R.resolve(C()).then(function(){throw j})})},E.prototype.catch=function(C){return this.then(null,C)},E.prototype.then=function(C,R){if(typeof C!="function"&&this.state===m||typeof R!="function"&&this.state===f)return this;var j=new this.constructor(u);return this.state!==b?g(j,this.state===m?C:R,this.outcome):this.queue.push(new O(j,C,R)),j},O.prototype.callFulfilled=function(C){d.resolve(this.promise,C)},O.prototype.otherCallFulfilled=function(C){g(this.promise,this.onFulfilled,C)},O.prototype.callRejected=function(C){d.reject(this.promise,C)},O.prototype.otherCallRejected=function(C){g(this.promise,this.onRejected,C)},d.resolve=function(C,R){var j=x(T,R);if(j.status==="error")return d.reject(C,j.value);var F=j.value;if(F)_(C,F);else{C.state=m,C.outcome=R;for(var $=-1,K=C.queue.length;++$<K;)C.queue[$].callFulfilled(R)}return C},d.reject=function(C,R){C.state=f,C.outcome=R;for(var j=-1,F=C.queue.length;++j<F;)C.queue[j].callRejected(R);return C},E.resolve=function(C){return C instanceof this?C:d.resolve(new this(u),C)},E.reject=function(C){var R=new this(u);return d.reject(R,C)},E.all=function(C){var R=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=C.length,F=!1;if(!j)return this.resolve([]);for(var $=new Array(j),K=0,G=-1,ne=new this(u);++G<j;)Q(C[G],G);return ne;function Q(de,we){R.resolve(de).then(function(B){$[we]=B,++K!==j||F||(F=!0,d.resolve(ne,$))},function(B){F||(F=!0,d.reject(ne,B))})}},E.race=function(C){var R=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=C.length,F=!1;if(!j)return this.resolve([]);for(var $=-1,K=new this(u);++$<j;)G=C[$],R.resolve(G).then(function(ne){F||(F=!0,d.resolve(K,ne))},function(ne){F||(F=!0,d.reject(K,ne))});var G;return K}},{immediate:36}],38:[function(n,s,l){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,l){var a=n("./zlib/deflate"),u=n("./utils/common"),d=n("./utils/strings"),f=n("./zlib/messages"),m=n("./zlib/zstream"),b=Object.prototype.toString,E=0,O=-1,g=0,T=8;function _(C){if(!(this instanceof _))return new _(C);this.options=u.assign({level:O,method:T,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},C||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var j=a.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(j!==E)throw new Error(f[j]);if(R.header&&a.deflateSetHeader(this.strm,R.header),R.dictionary){var F;if(F=typeof R.dictionary=="string"?d.string2buf(R.dictionary):b.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(j=a.deflateSetDictionary(this.strm,F))!==E)throw new Error(f[j]);this._dict_set=!0}}function x(C,R){var j=new _(R);if(j.push(C,!0),j.err)throw j.msg||f[j.err];return j.result}_.prototype.push=function(C,R){var j,F,$=this.strm,K=this.options.chunkSize;if(this.ended)return!1;F=R===~~R?R:R===!0?4:0,typeof C=="string"?$.input=d.string2buf(C):b.call(C)==="[object ArrayBuffer]"?$.input=new Uint8Array(C):$.input=C,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new u.Buf8(K),$.next_out=0,$.avail_out=K),(j=a.deflate($,F))!==1&&j!==E)return this.onEnd(j),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(u.shrinkBuf($.output,$.next_out))):this.onData(u.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&j!==1);return F===4?(j=a.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===E):F!==2||(this.onEnd(E),!($.avail_out=0))},_.prototype.onData=function(C){this.chunks.push(C)},_.prototype.onEnd=function(C){C===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},l.Deflate=_,l.deflate=x,l.deflateRaw=function(C,R){return(R=R||{}).raw=!0,x(C,R)},l.gzip=function(C,R){return(R=R||{}).gzip=!0,x(C,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,l){var a=n("./zlib/inflate"),u=n("./utils/common"),d=n("./utils/strings"),f=n("./zlib/constants"),m=n("./zlib/messages"),b=n("./zlib/zstream"),E=n("./zlib/gzheader"),O=Object.prototype.toString;function g(_){if(!(this instanceof g))return new g(_);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},_||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||_&&_.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var C=a.inflateInit2(this.strm,x.windowBits);if(C!==f.Z_OK)throw new Error(m[C]);this.header=new E,a.inflateGetHeader(this.strm,this.header)}function T(_,x){var C=new g(x);if(C.push(_,!0),C.err)throw C.msg||m[C.err];return C.result}g.prototype.push=function(_,x){var C,R,j,F,$,K,G=this.strm,ne=this.options.chunkSize,Q=this.options.dictionary,de=!1;if(this.ended)return!1;R=x===~~x?x:x===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof _=="string"?G.input=d.binstring2buf(_):O.call(_)==="[object ArrayBuffer]"?G.input=new Uint8Array(_):G.input=_,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new u.Buf8(ne),G.next_out=0,G.avail_out=ne),(C=a.inflate(G,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&Q&&(K=typeof Q=="string"?d.string2buf(Q):O.call(Q)==="[object ArrayBuffer]"?new Uint8Array(Q):Q,C=a.inflateSetDictionary(this.strm,K)),C===f.Z_BUF_ERROR&&de===!0&&(C=f.Z_OK,de=!1),C!==f.Z_STREAM_END&&C!==f.Z_OK)return this.onEnd(C),!(this.ended=!0);G.next_out&&(G.avail_out!==0&&C!==f.Z_STREAM_END&&(G.avail_in!==0||R!==f.Z_FINISH&&R!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=d.utf8border(G.output,G.next_out),F=G.next_out-j,$=d.buf2string(G.output,j),G.next_out=F,G.avail_out=ne-F,F&&u.arraySet(G.output,G.output,j,F,0),this.onData($)):this.onData(u.shrinkBuf(G.output,G.next_out)))),G.avail_in===0&&G.avail_out===0&&(de=!0)}while((0<G.avail_in||G.avail_out===0)&&C!==f.Z_STREAM_END);return C===f.Z_STREAM_END&&(R=f.Z_FINISH),R===f.Z_FINISH?(C=a.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===f.Z_OK):R!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(G.avail_out=0))},g.prototype.onData=function(_){this.chunks.push(_)},g.prototype.onEnd=function(_){_===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},l.Inflate=g,l.inflate=T,l.inflateRaw=function(_,x){return(x=x||{}).raw=!0,T(_,x)},l.ungzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,l){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(f){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var b=m.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var E in b)b.hasOwnProperty(E)&&(f[E]=b[E])}}return f},l.shrinkBuf=function(f,m){return f.length===m?f:f.subarray?f.subarray(0,m):(f.length=m,f)};var u={arraySet:function(f,m,b,E,O){if(m.subarray&&f.subarray)f.set(m.subarray(b,b+E),O);else for(var g=0;g<E;g++)f[O+g]=m[b+g]},flattenChunks:function(f){var m,b,E,O,g,T;for(m=E=0,b=f.length;m<b;m++)E+=f[m].length;for(T=new Uint8Array(E),m=O=0,b=f.length;m<b;m++)g=f[m],T.set(g,O),O+=g.length;return T}},d={arraySet:function(f,m,b,E,O){for(var g=0;g<E;g++)f[O+g]=m[b+g]},flattenChunks:function(f){return[].concat.apply([],f)}};l.setTyped=function(f){f?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,u)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,d))},l.setTyped(a)},{}],42:[function(n,s,l){var a=n("./common"),u=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var f=new a.Buf8(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function b(E,O){if(O<65537&&(E.subarray&&d||!E.subarray&&u))return String.fromCharCode.apply(null,a.shrinkBuf(E,O));for(var g="",T=0;T<O;T++)g+=String.fromCharCode(E[T]);return g}f[254]=f[254]=1,l.string2buf=function(E){var O,g,T,_,x,C=E.length,R=0;for(_=0;_<C;_++)(64512&(g=E.charCodeAt(_)))==55296&&_+1<C&&(64512&(T=E.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(T-56320),_++),R+=g<128?1:g<2048?2:g<65536?3:4;for(O=new a.Buf8(R),_=x=0;x<R;_++)(64512&(g=E.charCodeAt(_)))==55296&&_+1<C&&(64512&(T=E.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(T-56320),_++),g<128?O[x++]=g:(g<2048?O[x++]=192|g>>>6:(g<65536?O[x++]=224|g>>>12:(O[x++]=240|g>>>18,O[x++]=128|g>>>12&63),O[x++]=128|g>>>6&63),O[x++]=128|63&g);return O},l.buf2binstring=function(E){return b(E,E.length)},l.binstring2buf=function(E){for(var O=new a.Buf8(E.length),g=0,T=O.length;g<T;g++)O[g]=E.charCodeAt(g);return O},l.buf2string=function(E,O){var g,T,_,x,C=O||E.length,R=new Array(2*C);for(g=T=0;g<C;)if((_=E[g++])<128)R[T++]=_;else if(4<(x=f[_]))R[T++]=65533,g+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&g<C;)_=_<<6|63&E[g++],x--;1<x?R[T++]=65533:_<65536?R[T++]=_:(_-=65536,R[T++]=55296|_>>10&1023,R[T++]=56320|1023&_)}return b(R,T)},l.utf8border=function(E,O){var g;for((O=O||E.length)>E.length&&(O=E.length),g=O-1;0<=g&&(192&E[g])==128;)g--;return g<0||g===0?O:g+f[E[g]]>O?g:O}},{"./common":41}],43:[function(n,s,l){s.exports=function(a,u,d,f){for(var m=65535&a|0,b=a>>>16&65535|0,E=0;d!==0;){for(d-=E=2e3<d?2e3:d;b=b+(m=m+u[f++]|0)|0,--E;);m%=65521,b%=65521}return m|b<<16|0}},{}],44:[function(n,s,l){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,l){var a=(function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d})();s.exports=function(u,d,f,m){var b=a,E=m+f;u^=-1;for(var O=m;O<E;O++)u=u>>>8^b[255&(u^d[O])];return-1^u}},{}],46:[function(n,s,l){var a,u=n("../utils/common"),d=n("./trees"),f=n("./adler32"),m=n("./crc32"),b=n("./messages"),E=0,O=4,g=0,T=-2,_=-1,x=4,C=2,R=8,j=9,F=286,$=30,K=19,G=2*F+1,ne=15,Q=3,de=258,we=de+Q+1,B=42,Z=113,k=1,ee=2,ke=3,re=4;function oe(v,ie){return v.msg=b[ie],ie}function X(v){return(v<<1)-(4<v?9:0)}function se(v){for(var ie=v.length;0<=--ie;)v[ie]=0}function A(v){var ie=v.state,te=ie.pending;te>v.avail_out&&(te=v.avail_out),te!==0&&(u.arraySet(v.output,ie.pending_buf,ie.pending_out,te,v.next_out),v.next_out+=te,ie.pending_out+=te,v.total_out+=te,v.avail_out-=te,ie.pending-=te,ie.pending===0&&(ie.pending_out=0))}function z(v,ie){d._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,ie),v.block_start=v.strstart,A(v.strm)}function pe(v,ie){v.pending_buf[v.pending++]=ie}function le(v,ie){v.pending_buf[v.pending++]=ie>>>8&255,v.pending_buf[v.pending++]=255&ie}function ae(v,ie){var te,U,D=v.max_chain_length,V=v.strstart,ce=v.prev_length,w=v.nice_match,y=v.strstart>v.w_size-we?v.strstart-(v.w_size-we):0,I=v.window,P=v.w_mask,N=v.prev,q=v.strstart+de,ge=I[V+ce-1],ye=I[V+ce];v.prev_length>=v.good_match&&(D>>=2),w>v.lookahead&&(w=v.lookahead);do if(I[(te=ie)+ce]===ye&&I[te+ce-1]===ge&&I[te]===I[V]&&I[++te]===I[V+1]){V+=2,te++;do;while(I[++V]===I[++te]&&I[++V]===I[++te]&&I[++V]===I[++te]&&I[++V]===I[++te]&&I[++V]===I[++te]&&I[++V]===I[++te]&&I[++V]===I[++te]&&I[++V]===I[++te]&&V<q);if(U=de-(q-V),V=q-de,ce<U){if(v.match_start=ie,w<=(ce=U))break;ge=I[V+ce-1],ye=I[V+ce]}}while((ie=N[ie&P])>y&&--D!=0);return ce<=v.lookahead?ce:v.lookahead}function Oe(v){var ie,te,U,D,V,ce,w,y,I,P,N=v.w_size;do{if(D=v.window_size-v.lookahead-v.strstart,v.strstart>=N+(N-we)){for(u.arraySet(v.window,v.window,N,N,0),v.match_start-=N,v.strstart-=N,v.block_start-=N,ie=te=v.hash_size;U=v.head[--ie],v.head[ie]=N<=U?U-N:0,--te;);for(ie=te=N;U=v.prev[--ie],v.prev[ie]=N<=U?U-N:0,--te;);D+=N}if(v.strm.avail_in===0)break;if(ce=v.strm,w=v.window,y=v.strstart+v.lookahead,I=D,P=void 0,P=ce.avail_in,I<P&&(P=I),te=P===0?0:(ce.avail_in-=P,u.arraySet(w,ce.input,ce.next_in,P,y),ce.state.wrap===1?ce.adler=f(ce.adler,w,P,y):ce.state.wrap===2&&(ce.adler=m(ce.adler,w,P,y)),ce.next_in+=P,ce.total_in+=P,P),v.lookahead+=te,v.lookahead+v.insert>=Q)for(V=v.strstart-v.insert,v.ins_h=v.window[V],v.ins_h=(v.ins_h<<v.hash_shift^v.window[V+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[V+Q-1])&v.hash_mask,v.prev[V&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=V,V++,v.insert--,!(v.lookahead+v.insert<Q)););}while(v.lookahead<we&&v.strm.avail_in!==0)}function je(v,ie){for(var te,U;;){if(v.lookahead<we){if(Oe(v),v.lookahead<we&&ie===E)return k;if(v.lookahead===0)break}if(te=0,v.lookahead>=Q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+Q-1])&v.hash_mask,te=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),te!==0&&v.strstart-te<=v.w_size-we&&(v.match_length=ae(v,te)),v.match_length>=Q)if(U=d._tr_tally(v,v.strstart-v.match_start,v.match_length-Q),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=Q){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+Q-1])&v.hash_mask,te=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else U=d._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(U&&(z(v,!1),v.strm.avail_out===0))return k}return v.insert=v.strstart<Q-1?v.strstart:Q-1,ie===O?(z(v,!0),v.strm.avail_out===0?ke:re):v.last_lit&&(z(v,!1),v.strm.avail_out===0)?k:ee}function be(v,ie){for(var te,U,D;;){if(v.lookahead<we){if(Oe(v),v.lookahead<we&&ie===E)return k;if(v.lookahead===0)break}if(te=0,v.lookahead>=Q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+Q-1])&v.hash_mask,te=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=Q-1,te!==0&&v.prev_length<v.max_lazy_match&&v.strstart-te<=v.w_size-we&&(v.match_length=ae(v,te),v.match_length<=5&&(v.strategy===1||v.match_length===Q&&4096<v.strstart-v.match_start)&&(v.match_length=Q-1)),v.prev_length>=Q&&v.match_length<=v.prev_length){for(D=v.strstart+v.lookahead-Q,U=d._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-Q),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=D&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+Q-1])&v.hash_mask,te=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=Q-1,v.strstart++,U&&(z(v,!1),v.strm.avail_out===0))return k}else if(v.match_available){if((U=d._tr_tally(v,0,v.window[v.strstart-1]))&&z(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return k}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(U=d._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<Q-1?v.strstart:Q-1,ie===O?(z(v,!0),v.strm.avail_out===0?ke:re):v.last_lit&&(z(v,!1),v.strm.avail_out===0)?k:ee}function Ee(v,ie,te,U,D){this.good_length=v,this.max_lazy=ie,this.nice_length=te,this.max_chain=U,this.func=D}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*G),this.dyn_dtree=new u.Buf16(2*(2*$+1)),this.bl_tree=new u.Buf16(2*(2*K+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(ne+1),this.heap=new u.Buf16(2*F+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*F+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(v){var ie;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=C,(ie=v.state).pending=0,ie.pending_out=0,ie.wrap<0&&(ie.wrap=-ie.wrap),ie.status=ie.wrap?B:Z,v.adler=ie.wrap===2?0:1,ie.last_flush=E,d._tr_init(ie),g):oe(v,T)}function bt(v){var ie=We(v);return ie===g&&(function(te){te.window_size=2*te.w_size,se(te.head),te.max_lazy_match=a[te.level].max_lazy,te.good_match=a[te.level].good_length,te.nice_match=a[te.level].nice_length,te.max_chain_length=a[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=Q-1,te.match_available=0,te.ins_h=0})(v.state),ie}function ot(v,ie,te,U,D,V){if(!v)return T;var ce=1;if(ie===_&&(ie=6),U<0?(ce=0,U=-U):15<U&&(ce=2,U-=16),D<1||j<D||te!==R||U<8||15<U||ie<0||9<ie||V<0||x<V)return oe(v,T);U===8&&(U=9);var w=new ze;return(v.state=w).strm=v,w.wrap=ce,w.gzhead=null,w.w_bits=U,w.w_size=1<<w.w_bits,w.w_mask=w.w_size-1,w.hash_bits=D+7,w.hash_size=1<<w.hash_bits,w.hash_mask=w.hash_size-1,w.hash_shift=~~((w.hash_bits+Q-1)/Q),w.window=new u.Buf8(2*w.w_size),w.head=new u.Buf16(w.hash_size),w.prev=new u.Buf16(w.w_size),w.lit_bufsize=1<<D+6,w.pending_buf_size=4*w.lit_bufsize,w.pending_buf=new u.Buf8(w.pending_buf_size),w.d_buf=1*w.lit_bufsize,w.l_buf=3*w.lit_bufsize,w.level=ie,w.strategy=V,w.method=te,bt(v)}a=[new Ee(0,0,0,0,function(v,ie){var te=65535;for(te>v.pending_buf_size-5&&(te=v.pending_buf_size-5);;){if(v.lookahead<=1){if(Oe(v),v.lookahead===0&&ie===E)return k;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var U=v.block_start+te;if((v.strstart===0||v.strstart>=U)&&(v.lookahead=v.strstart-U,v.strstart=U,z(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-we&&(z(v,!1),v.strm.avail_out===0))return k}return v.insert=0,ie===O?(z(v,!0),v.strm.avail_out===0?ke:re):(v.strstart>v.block_start&&(z(v,!1),v.strm.avail_out),k)}),new Ee(4,4,8,4,je),new Ee(4,5,16,8,je),new Ee(4,6,32,32,je),new Ee(4,4,16,16,be),new Ee(8,16,32,32,be),new Ee(8,16,128,128,be),new Ee(8,32,128,256,be),new Ee(32,128,258,1024,be),new Ee(32,258,258,4096,be)],l.deflateInit=function(v,ie){return ot(v,ie,R,15,8,0)},l.deflateInit2=ot,l.deflateReset=bt,l.deflateResetKeep=We,l.deflateSetHeader=function(v,ie){return v&&v.state?v.state.wrap!==2?T:(v.state.gzhead=ie,g):T},l.deflate=function(v,ie){var te,U,D,V;if(!v||!v.state||5<ie||ie<0)return v?oe(v,T):T;if(U=v.state,!v.output||!v.input&&v.avail_in!==0||U.status===666&&ie!==O)return oe(v,v.avail_out===0?-5:T);if(U.strm=v,te=U.last_flush,U.last_flush=ie,U.status===B)if(U.wrap===2)v.adler=0,pe(U,31),pe(U,139),pe(U,8),U.gzhead?(pe(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),pe(U,255&U.gzhead.time),pe(U,U.gzhead.time>>8&255),pe(U,U.gzhead.time>>16&255),pe(U,U.gzhead.time>>24&255),pe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),pe(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(pe(U,255&U.gzhead.extra.length),pe(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(v.adler=m(v.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(pe(U,0),pe(U,0),pe(U,0),pe(U,0),pe(U,0),pe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),pe(U,3),U.status=Z);else{var ce=R+(U.w_bits-8<<4)<<8;ce|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ce|=32),ce+=31-ce%31,U.status=Z,le(U,ce),U.strstart!==0&&(le(U,v.adler>>>16),le(U,65535&v.adler)),v.adler=1}if(U.status===69)if(U.gzhead.extra){for(D=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>D&&(v.adler=m(v.adler,U.pending_buf,U.pending-D,D)),A(v),D=U.pending,U.pending!==U.pending_buf_size));)pe(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>D&&(v.adler=m(v.adler,U.pending_buf,U.pending-D,D)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){D=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>D&&(v.adler=m(v.adler,U.pending_buf,U.pending-D,D)),A(v),D=U.pending,U.pending===U.pending_buf_size)){V=1;break}V=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,pe(U,V)}while(V!==0);U.gzhead.hcrc&&U.pending>D&&(v.adler=m(v.adler,U.pending_buf,U.pending-D,D)),V===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){D=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>D&&(v.adler=m(v.adler,U.pending_buf,U.pending-D,D)),A(v),D=U.pending,U.pending===U.pending_buf_size)){V=1;break}V=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,pe(U,V)}while(V!==0);U.gzhead.hcrc&&U.pending>D&&(v.adler=m(v.adler,U.pending_buf,U.pending-D,D)),V===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&A(v),U.pending+2<=U.pending_buf_size&&(pe(U,255&v.adler),pe(U,v.adler>>8&255),v.adler=0,U.status=Z)):U.status=Z),U.pending!==0){if(A(v),v.avail_out===0)return U.last_flush=-1,g}else if(v.avail_in===0&&X(ie)<=X(te)&&ie!==O)return oe(v,-5);if(U.status===666&&v.avail_in!==0)return oe(v,-5);if(v.avail_in!==0||U.lookahead!==0||ie!==E&&U.status!==666){var w=U.strategy===2?(function(y,I){for(var P;;){if(y.lookahead===0&&(Oe(y),y.lookahead===0)){if(I===E)return k;break}if(y.match_length=0,P=d._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++,P&&(z(y,!1),y.strm.avail_out===0))return k}return y.insert=0,I===O?(z(y,!0),y.strm.avail_out===0?ke:re):y.last_lit&&(z(y,!1),y.strm.avail_out===0)?k:ee})(U,ie):U.strategy===3?(function(y,I){for(var P,N,q,ge,ye=y.window;;){if(y.lookahead<=de){if(Oe(y),y.lookahead<=de&&I===E)return k;if(y.lookahead===0)break}if(y.match_length=0,y.lookahead>=Q&&0<y.strstart&&(N=ye[q=y.strstart-1])===ye[++q]&&N===ye[++q]&&N===ye[++q]){ge=y.strstart+de;do;while(N===ye[++q]&&N===ye[++q]&&N===ye[++q]&&N===ye[++q]&&N===ye[++q]&&N===ye[++q]&&N===ye[++q]&&N===ye[++q]&&q<ge);y.match_length=de-(ge-q),y.match_length>y.lookahead&&(y.match_length=y.lookahead)}if(y.match_length>=Q?(P=d._tr_tally(y,1,y.match_length-Q),y.lookahead-=y.match_length,y.strstart+=y.match_length,y.match_length=0):(P=d._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++),P&&(z(y,!1),y.strm.avail_out===0))return k}return y.insert=0,I===O?(z(y,!0),y.strm.avail_out===0?ke:re):y.last_lit&&(z(y,!1),y.strm.avail_out===0)?k:ee})(U,ie):a[U.level].func(U,ie);if(w!==ke&&w!==re||(U.status=666),w===k||w===ke)return v.avail_out===0&&(U.last_flush=-1),g;if(w===ee&&(ie===1?d._tr_align(U):ie!==5&&(d._tr_stored_block(U,0,0,!1),ie===3&&(se(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),A(v),v.avail_out===0))return U.last_flush=-1,g}return ie!==O?g:U.wrap<=0?1:(U.wrap===2?(pe(U,255&v.adler),pe(U,v.adler>>8&255),pe(U,v.adler>>16&255),pe(U,v.adler>>24&255),pe(U,255&v.total_in),pe(U,v.total_in>>8&255),pe(U,v.total_in>>16&255),pe(U,v.total_in>>24&255)):(le(U,v.adler>>>16),le(U,65535&v.adler)),A(v),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?g:1)},l.deflateEnd=function(v){var ie;return v&&v.state?(ie=v.state.status)!==B&&ie!==69&&ie!==73&&ie!==91&&ie!==103&&ie!==Z&&ie!==666?oe(v,T):(v.state=null,ie===Z?oe(v,-3):g):T},l.deflateSetDictionary=function(v,ie){var te,U,D,V,ce,w,y,I,P=ie.length;if(!v||!v.state||(V=(te=v.state).wrap)===2||V===1&&te.status!==B||te.lookahead)return T;for(V===1&&(v.adler=f(v.adler,ie,P,0)),te.wrap=0,P>=te.w_size&&(V===0&&(se(te.head),te.strstart=0,te.block_start=0,te.insert=0),I=new u.Buf8(te.w_size),u.arraySet(I,ie,P-te.w_size,te.w_size,0),ie=I,P=te.w_size),ce=v.avail_in,w=v.next_in,y=v.input,v.avail_in=P,v.next_in=0,v.input=ie,Oe(te);te.lookahead>=Q;){for(U=te.strstart,D=te.lookahead-(Q-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[U+Q-1])&te.hash_mask,te.prev[U&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=U,U++,--D;);te.strstart=U,te.lookahead=Q-1,Oe(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=Q-1,te.match_available=0,v.next_in=w,v.input=y,v.avail_in=ce,te.wrap=V,g},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,l){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,l){s.exports=function(a,u){var d,f,m,b,E,O,g,T,_,x,C,R,j,F,$,K,G,ne,Q,de,we,B,Z,k,ee;d=a.state,f=a.next_in,k=a.input,m=f+(a.avail_in-5),b=a.next_out,ee=a.output,E=b-(u-a.avail_out),O=b+(a.avail_out-257),g=d.dmax,T=d.wsize,_=d.whave,x=d.wnext,C=d.window,R=d.hold,j=d.bits,F=d.lencode,$=d.distcode,K=(1<<d.lenbits)-1,G=(1<<d.distbits)-1;e:do{j<15&&(R+=k[f++]<<j,j+=8,R+=k[f++]<<j,j+=8),ne=F[R&K];t:for(;;){if(R>>>=Q=ne>>>24,j-=Q,(Q=ne>>>16&255)===0)ee[b++]=65535&ne;else{if(!(16&Q)){if((64&Q)==0){ne=F[(65535&ne)+(R&(1<<Q)-1)];continue t}if(32&Q){d.mode=12;break e}a.msg="invalid literal/length code",d.mode=30;break e}de=65535&ne,(Q&=15)&&(j<Q&&(R+=k[f++]<<j,j+=8),de+=R&(1<<Q)-1,R>>>=Q,j-=Q),j<15&&(R+=k[f++]<<j,j+=8,R+=k[f++]<<j,j+=8),ne=$[R&G];r:for(;;){if(R>>>=Q=ne>>>24,j-=Q,!(16&(Q=ne>>>16&255))){if((64&Q)==0){ne=$[(65535&ne)+(R&(1<<Q)-1)];continue r}a.msg="invalid distance code",d.mode=30;break e}if(we=65535&ne,j<(Q&=15)&&(R+=k[f++]<<j,(j+=8)<Q&&(R+=k[f++]<<j,j+=8)),g<(we+=R&(1<<Q)-1)){a.msg="invalid distance too far back",d.mode=30;break e}if(R>>>=Q,j-=Q,(Q=b-E)<we){if(_<(Q=we-Q)&&d.sane){a.msg="invalid distance too far back",d.mode=30;break e}if(Z=C,(B=0)===x){if(B+=T-Q,Q<de){for(de-=Q;ee[b++]=C[B++],--Q;);B=b-we,Z=ee}}else if(x<Q){if(B+=T+x-Q,(Q-=x)<de){for(de-=Q;ee[b++]=C[B++],--Q;);if(B=0,x<de){for(de-=Q=x;ee[b++]=C[B++],--Q;);B=b-we,Z=ee}}}else if(B+=x-Q,Q<de){for(de-=Q;ee[b++]=C[B++],--Q;);B=b-we,Z=ee}for(;2<de;)ee[b++]=Z[B++],ee[b++]=Z[B++],ee[b++]=Z[B++],de-=3;de&&(ee[b++]=Z[B++],1<de&&(ee[b++]=Z[B++]))}else{for(B=b-we;ee[b++]=ee[B++],ee[b++]=ee[B++],ee[b++]=ee[B++],2<(de-=3););de&&(ee[b++]=ee[B++],1<de&&(ee[b++]=ee[B++]))}break}}break}}while(f<m&&b<O);f-=de=j>>3,R&=(1<<(j-=de<<3))-1,a.next_in=f,a.next_out=b,a.avail_in=f<m?m-f+5:5-(f-m),a.avail_out=b<O?O-b+257:257-(b-O),d.hold=R,d.bits=j}},{}],49:[function(n,s,l){var a=n("../utils/common"),u=n("./adler32"),d=n("./crc32"),f=n("./inffast"),m=n("./inftrees"),b=1,E=2,O=0,g=-2,T=1,_=852,x=592;function C(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(B){var Z;return B&&B.state?(Z=B.state,B.total_in=B.total_out=Z.total=0,B.msg="",Z.wrap&&(B.adler=1&Z.wrap),Z.mode=T,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new a.Buf32(_),Z.distcode=Z.distdyn=new a.Buf32(x),Z.sane=1,Z.back=-1,O):g}function F(B){var Z;return B&&B.state?((Z=B.state).wsize=0,Z.whave=0,Z.wnext=0,j(B)):g}function $(B,Z){var k,ee;return B&&B.state?(ee=B.state,Z<0?(k=0,Z=-Z):(k=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?g:(ee.window!==null&&ee.wbits!==Z&&(ee.window=null),ee.wrap=k,ee.wbits=Z,F(B))):g}function K(B,Z){var k,ee;return B?(ee=new R,(B.state=ee).window=null,(k=$(B,Z))!==O&&(B.state=null),k):g}var G,ne,Q=!0;function de(B){if(Q){var Z;for(G=new a.Buf32(512),ne=new a.Buf32(32),Z=0;Z<144;)B.lens[Z++]=8;for(;Z<256;)B.lens[Z++]=9;for(;Z<280;)B.lens[Z++]=7;for(;Z<288;)B.lens[Z++]=8;for(m(b,B.lens,0,288,G,0,B.work,{bits:9}),Z=0;Z<32;)B.lens[Z++]=5;m(E,B.lens,0,32,ne,0,B.work,{bits:5}),Q=!1}B.lencode=G,B.lenbits=9,B.distcode=ne,B.distbits=5}function we(B,Z,k,ee){var ke,re=B.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new a.Buf8(re.wsize)),ee>=re.wsize?(a.arraySet(re.window,Z,k-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(ee<(ke=re.wsize-re.wnext)&&(ke=ee),a.arraySet(re.window,Z,k-ee,ke,re.wnext),(ee-=ke)?(a.arraySet(re.window,Z,k-ee,ee,0),re.wnext=ee,re.whave=re.wsize):(re.wnext+=ke,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=ke))),0}l.inflateReset=F,l.inflateReset2=$,l.inflateResetKeep=j,l.inflateInit=function(B){return K(B,15)},l.inflateInit2=K,l.inflate=function(B,Z){var k,ee,ke,re,oe,X,se,A,z,pe,le,ae,Oe,je,be,Ee,ze,We,bt,ot,v,ie,te,U,D=0,V=new a.Buf8(4),ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return g;(k=B.state).mode===12&&(k.mode=13),oe=B.next_out,ke=B.output,se=B.avail_out,re=B.next_in,ee=B.input,X=B.avail_in,A=k.hold,z=k.bits,pe=X,le=se,ie=O;e:for(;;)switch(k.mode){case T:if(k.wrap===0){k.mode=13;break}for(;z<16;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(2&k.wrap&&A===35615){V[k.check=0]=255&A,V[1]=A>>>8&255,k.check=d(k.check,V,2,0),z=A=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&A)<<8)+(A>>8))%31){B.msg="incorrect header check",k.mode=30;break}if((15&A)!=8){B.msg="unknown compression method",k.mode=30;break}if(z-=4,v=8+(15&(A>>>=4)),k.wbits===0)k.wbits=v;else if(v>k.wbits){B.msg="invalid window size",k.mode=30;break}k.dmax=1<<v,B.adler=k.check=1,k.mode=512&A?10:12,z=A=0;break;case 2:for(;z<16;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(k.flags=A,(255&k.flags)!=8){B.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){B.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=A>>8&1),512&k.flags&&(V[0]=255&A,V[1]=A>>>8&255,k.check=d(k.check,V,2,0)),z=A=0,k.mode=3;case 3:for(;z<32;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}k.head&&(k.head.time=A),512&k.flags&&(V[0]=255&A,V[1]=A>>>8&255,V[2]=A>>>16&255,V[3]=A>>>24&255,k.check=d(k.check,V,4,0)),z=A=0,k.mode=4;case 4:for(;z<16;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}k.head&&(k.head.xflags=255&A,k.head.os=A>>8),512&k.flags&&(V[0]=255&A,V[1]=A>>>8&255,k.check=d(k.check,V,2,0)),z=A=0,k.mode=5;case 5:if(1024&k.flags){for(;z<16;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}k.length=A,k.head&&(k.head.extra_len=A),512&k.flags&&(V[0]=255&A,V[1]=A>>>8&255,k.check=d(k.check,V,2,0)),z=A=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(X<(ae=k.length)&&(ae=X),ae&&(k.head&&(v=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,ee,re,ae,v)),512&k.flags&&(k.check=d(k.check,ee,ae,re)),X-=ae,re+=ae,k.length-=ae),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(X===0)break e;for(ae=0;v=ee[re+ae++],k.head&&v&&k.length<65536&&(k.head.name+=String.fromCharCode(v)),v&&ae<X;);if(512&k.flags&&(k.check=d(k.check,ee,ae,re)),X-=ae,re+=ae,v)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(X===0)break e;for(ae=0;v=ee[re+ae++],k.head&&v&&k.length<65536&&(k.head.comment+=String.fromCharCode(v)),v&&ae<X;);if(512&k.flags&&(k.check=d(k.check,ee,ae,re)),X-=ae,re+=ae,v)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;z<16;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(A!==(65535&k.check)){B.msg="header crc mismatch",k.mode=30;break}z=A=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),B.adler=k.check=0,k.mode=12;break;case 10:for(;z<32;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}B.adler=k.check=C(A),z=A=0,k.mode=11;case 11:if(k.havedict===0)return B.next_out=oe,B.avail_out=se,B.next_in=re,B.avail_in=X,k.hold=A,k.bits=z,2;B.adler=k.check=1,k.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(k.last){A>>>=7&z,z-=7&z,k.mode=27;break}for(;z<3;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}switch(k.last=1&A,z-=1,3&(A>>>=1)){case 0:k.mode=14;break;case 1:if(de(k),k.mode=20,Z!==6)break;A>>>=2,z-=2;break e;case 2:k.mode=17;break;case 3:B.msg="invalid block type",k.mode=30}A>>>=2,z-=2;break;case 14:for(A>>>=7&z,z-=7&z;z<32;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if((65535&A)!=(A>>>16^65535)){B.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&A,z=A=0,k.mode=15,Z===6)break e;case 15:k.mode=16;case 16:if(ae=k.length){if(X<ae&&(ae=X),se<ae&&(ae=se),ae===0)break e;a.arraySet(ke,ee,re,ae,oe),X-=ae,re+=ae,se-=ae,oe+=ae,k.length-=ae;break}k.mode=12;break;case 17:for(;z<14;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(k.nlen=257+(31&A),A>>>=5,z-=5,k.ndist=1+(31&A),A>>>=5,z-=5,k.ncode=4+(15&A),A>>>=4,z-=4,286<k.nlen||30<k.ndist){B.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;z<3;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}k.lens[ce[k.have++]]=7&A,A>>>=3,z-=3}for(;k.have<19;)k.lens[ce[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,te={bits:k.lenbits},ie=m(0,k.lens,0,19,k.lencode,0,k.work,te),k.lenbits=te.bits,ie){B.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Ee=(D=k.lencode[A&(1<<k.lenbits)-1])>>>16&255,ze=65535&D,!((be=D>>>24)<=z);){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(ze<16)A>>>=be,z-=be,k.lens[k.have++]=ze;else{if(ze===16){for(U=be+2;z<U;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(A>>>=be,z-=be,k.have===0){B.msg="invalid bit length repeat",k.mode=30;break}v=k.lens[k.have-1],ae=3+(3&A),A>>>=2,z-=2}else if(ze===17){for(U=be+3;z<U;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}z-=be,v=0,ae=3+(7&(A>>>=be)),A>>>=3,z-=3}else{for(U=be+7;z<U;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}z-=be,v=0,ae=11+(127&(A>>>=be)),A>>>=7,z-=7}if(k.have+ae>k.nlen+k.ndist){B.msg="invalid bit length repeat",k.mode=30;break}for(;ae--;)k.lens[k.have++]=v}}if(k.mode===30)break;if(k.lens[256]===0){B.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,te={bits:k.lenbits},ie=m(b,k.lens,0,k.nlen,k.lencode,0,k.work,te),k.lenbits=te.bits,ie){B.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,te={bits:k.distbits},ie=m(E,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,te),k.distbits=te.bits,ie){B.msg="invalid distances set",k.mode=30;break}if(k.mode=20,Z===6)break e;case 20:k.mode=21;case 21:if(6<=X&&258<=se){B.next_out=oe,B.avail_out=se,B.next_in=re,B.avail_in=X,k.hold=A,k.bits=z,f(B,le),oe=B.next_out,ke=B.output,se=B.avail_out,re=B.next_in,ee=B.input,X=B.avail_in,A=k.hold,z=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Ee=(D=k.lencode[A&(1<<k.lenbits)-1])>>>16&255,ze=65535&D,!((be=D>>>24)<=z);){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(Ee&&(240&Ee)==0){for(We=be,bt=Ee,ot=ze;Ee=(D=k.lencode[ot+((A&(1<<We+bt)-1)>>We)])>>>16&255,ze=65535&D,!(We+(be=D>>>24)<=z);){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}A>>>=We,z-=We,k.back+=We}if(A>>>=be,z-=be,k.back+=be,k.length=ze,Ee===0){k.mode=26;break}if(32&Ee){k.back=-1,k.mode=12;break}if(64&Ee){B.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Ee,k.mode=22;case 22:if(k.extra){for(U=k.extra;z<U;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}k.length+=A&(1<<k.extra)-1,A>>>=k.extra,z-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Ee=(D=k.distcode[A&(1<<k.distbits)-1])>>>16&255,ze=65535&D,!((be=D>>>24)<=z);){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if((240&Ee)==0){for(We=be,bt=Ee,ot=ze;Ee=(D=k.distcode[ot+((A&(1<<We+bt)-1)>>We)])>>>16&255,ze=65535&D,!(We+(be=D>>>24)<=z);){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}A>>>=We,z-=We,k.back+=We}if(A>>>=be,z-=be,k.back+=be,64&Ee){B.msg="invalid distance code",k.mode=30;break}k.offset=ze,k.extra=15&Ee,k.mode=24;case 24:if(k.extra){for(U=k.extra;z<U;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}k.offset+=A&(1<<k.extra)-1,A>>>=k.extra,z-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){B.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(se===0)break e;if(ae=le-se,k.offset>ae){if((ae=k.offset-ae)>k.whave&&k.sane){B.msg="invalid distance too far back",k.mode=30;break}Oe=ae>k.wnext?(ae-=k.wnext,k.wsize-ae):k.wnext-ae,ae>k.length&&(ae=k.length),je=k.window}else je=ke,Oe=oe-k.offset,ae=k.length;for(se<ae&&(ae=se),se-=ae,k.length-=ae;ke[oe++]=je[Oe++],--ae;);k.length===0&&(k.mode=21);break;case 26:if(se===0)break e;ke[oe++]=k.length,se--,k.mode=21;break;case 27:if(k.wrap){for(;z<32;){if(X===0)break e;X--,A|=ee[re++]<<z,z+=8}if(le-=se,B.total_out+=le,k.total+=le,le&&(B.adler=k.check=k.flags?d(k.check,ke,le,oe-le):u(k.check,ke,le,oe-le)),le=se,(k.flags?A:C(A))!==k.check){B.msg="incorrect data check",k.mode=30;break}z=A=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;z<32;){if(X===0)break e;X--,A+=ee[re++]<<z,z+=8}if(A!==(4294967295&k.total)){B.msg="incorrect length check",k.mode=30;break}z=A=0}k.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return g}return B.next_out=oe,B.avail_out=se,B.next_in=re,B.avail_in=X,k.hold=A,k.bits=z,(k.wsize||le!==B.avail_out&&k.mode<30&&(k.mode<27||Z!==4))&&we(B,B.output,B.next_out,le-B.avail_out)?(k.mode=31,-4):(pe-=B.avail_in,le-=B.avail_out,B.total_in+=pe,B.total_out+=le,k.total+=le,k.wrap&&le&&(B.adler=k.check=k.flags?d(k.check,ke,le,B.next_out-le):u(k.check,ke,le,B.next_out-le)),B.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(pe==0&&le===0||Z===4)&&ie===O&&(ie=-5),ie)},l.inflateEnd=function(B){if(!B||!B.state)return g;var Z=B.state;return Z.window&&(Z.window=null),B.state=null,O},l.inflateGetHeader=function(B,Z){var k;return B&&B.state?(2&(k=B.state).wrap)==0?g:((k.head=Z).done=!1,O):g},l.inflateSetDictionary=function(B,Z){var k,ee=Z.length;return B&&B.state?(k=B.state).wrap!==0&&k.mode!==11?g:k.mode===11&&u(1,Z,ee,0)!==k.check?-3:we(B,Z,ee,ee)?(k.mode=31,-4):(k.havedict=1,O):g},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,l){var a=n("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(b,E,O,g,T,_,x,C){var R,j,F,$,K,G,ne,Q,de,we=C.bits,B=0,Z=0,k=0,ee=0,ke=0,re=0,oe=0,X=0,se=0,A=0,z=null,pe=0,le=new a.Buf16(16),ae=new a.Buf16(16),Oe=null,je=0;for(B=0;B<=15;B++)le[B]=0;for(Z=0;Z<g;Z++)le[E[O+Z]]++;for(ke=we,ee=15;1<=ee&&le[ee]===0;ee--);if(ee<ke&&(ke=ee),ee===0)return T[_++]=20971520,T[_++]=20971520,C.bits=1,0;for(k=1;k<ee&&le[k]===0;k++);for(ke<k&&(ke=k),B=X=1;B<=15;B++)if(X<<=1,(X-=le[B])<0)return-1;if(0<X&&(b===0||ee!==1))return-1;for(ae[1]=0,B=1;B<15;B++)ae[B+1]=ae[B]+le[B];for(Z=0;Z<g;Z++)E[O+Z]!==0&&(x[ae[E[O+Z]]++]=Z);if(G=b===0?(z=Oe=x,19):b===1?(z=u,pe-=257,Oe=d,je-=257,256):(z=f,Oe=m,-1),B=k,K=_,oe=Z=A=0,F=-1,$=(se=1<<(re=ke))-1,b===1&&852<se||b===2&&592<se)return 1;for(;;){for(ne=B-oe,de=x[Z]<G?(Q=0,x[Z]):x[Z]>G?(Q=Oe[je+x[Z]],z[pe+x[Z]]):(Q=96,0),R=1<<B-oe,k=j=1<<re;T[K+(A>>oe)+(j-=R)]=ne<<24|Q<<16|de|0,j!==0;);for(R=1<<B-1;A&R;)R>>=1;if(R!==0?(A&=R-1,A+=R):A=0,Z++,--le[B]==0){if(B===ee)break;B=E[O+x[Z]]}if(ke<B&&(A&$)!==F){for(oe===0&&(oe=ke),K+=k,X=1<<(re=B-oe);re+oe<ee&&!((X-=le[re+oe])<=0);)re++,X<<=1;if(se+=1<<re,b===1&&852<se||b===2&&592<se)return 1;T[F=A&$]=ke<<24|re<<16|K-_|0}}return A!==0&&(T[K+A]=B-oe<<24|64<<16|0),C.bits=ke,0}},{"../utils/common":41}],51:[function(n,s,l){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,l){var a=n("../utils/common"),u=0,d=1;function f(D){for(var V=D.length;0<=--V;)D[V]=0}var m=0,b=29,E=256,O=E+1+b,g=30,T=19,_=2*O+1,x=15,C=16,R=7,j=256,F=16,$=17,K=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],we=new Array(2*(O+2));f(we);var B=new Array(2*g);f(B);var Z=new Array(512);f(Z);var k=new Array(256);f(k);var ee=new Array(b);f(ee);var ke,re,oe,X=new Array(g);function se(D,V,ce,w,y){this.static_tree=D,this.extra_bits=V,this.extra_base=ce,this.elems=w,this.max_length=y,this.has_stree=D&&D.length}function A(D,V){this.dyn_tree=D,this.max_code=0,this.stat_desc=V}function z(D){return D<256?Z[D]:Z[256+(D>>>7)]}function pe(D,V){D.pending_buf[D.pending++]=255&V,D.pending_buf[D.pending++]=V>>>8&255}function le(D,V,ce){D.bi_valid>C-ce?(D.bi_buf|=V<<D.bi_valid&65535,pe(D,D.bi_buf),D.bi_buf=V>>C-D.bi_valid,D.bi_valid+=ce-C):(D.bi_buf|=V<<D.bi_valid&65535,D.bi_valid+=ce)}function ae(D,V,ce){le(D,ce[2*V],ce[2*V+1])}function Oe(D,V){for(var ce=0;ce|=1&D,D>>>=1,ce<<=1,0<--V;);return ce>>>1}function je(D,V,ce){var w,y,I=new Array(x+1),P=0;for(w=1;w<=x;w++)I[w]=P=P+ce[w-1]<<1;for(y=0;y<=V;y++){var N=D[2*y+1];N!==0&&(D[2*y]=Oe(I[N]++,N))}}function be(D){var V;for(V=0;V<O;V++)D.dyn_ltree[2*V]=0;for(V=0;V<g;V++)D.dyn_dtree[2*V]=0;for(V=0;V<T;V++)D.bl_tree[2*V]=0;D.dyn_ltree[2*j]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function Ee(D){8<D.bi_valid?pe(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function ze(D,V,ce,w){var y=2*V,I=2*ce;return D[y]<D[I]||D[y]===D[I]&&w[V]<=w[ce]}function We(D,V,ce){for(var w=D.heap[ce],y=ce<<1;y<=D.heap_len&&(y<D.heap_len&&ze(V,D.heap[y+1],D.heap[y],D.depth)&&y++,!ze(V,w,D.heap[y],D.depth));)D.heap[ce]=D.heap[y],ce=y,y<<=1;D.heap[ce]=w}function bt(D,V,ce){var w,y,I,P,N=0;if(D.last_lit!==0)for(;w=D.pending_buf[D.d_buf+2*N]<<8|D.pending_buf[D.d_buf+2*N+1],y=D.pending_buf[D.l_buf+N],N++,w===0?ae(D,y,V):(ae(D,(I=k[y])+E+1,V),(P=G[I])!==0&&le(D,y-=ee[I],P),ae(D,I=z(--w),ce),(P=ne[I])!==0&&le(D,w-=X[I],P)),N<D.last_lit;);ae(D,j,V)}function ot(D,V){var ce,w,y,I=V.dyn_tree,P=V.stat_desc.static_tree,N=V.stat_desc.has_stree,q=V.stat_desc.elems,ge=-1;for(D.heap_len=0,D.heap_max=_,ce=0;ce<q;ce++)I[2*ce]!==0?(D.heap[++D.heap_len]=ge=ce,D.depth[ce]=0):I[2*ce+1]=0;for(;D.heap_len<2;)I[2*(y=D.heap[++D.heap_len]=ge<2?++ge:0)]=1,D.depth[y]=0,D.opt_len--,N&&(D.static_len-=P[2*y+1]);for(V.max_code=ge,ce=D.heap_len>>1;1<=ce;ce--)We(D,I,ce);for(y=q;ce=D.heap[1],D.heap[1]=D.heap[D.heap_len--],We(D,I,1),w=D.heap[1],D.heap[--D.heap_max]=ce,D.heap[--D.heap_max]=w,I[2*y]=I[2*ce]+I[2*w],D.depth[y]=(D.depth[ce]>=D.depth[w]?D.depth[ce]:D.depth[w])+1,I[2*ce+1]=I[2*w+1]=y,D.heap[1]=y++,We(D,I,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],(function(ye,Ue){var Je,Le,qt,Fe,mt,Vn,Rt=Ue.dyn_tree,ln=Ue.max_code,qn=Ue.stat_desc.static_tree,Hn=Ue.stat_desc.has_stree,Kn=Ue.stat_desc.extra_bits,lr=Ue.stat_desc.extra_base,Lt=Ue.stat_desc.max_length,Fr=0;for(Fe=0;Fe<=x;Fe++)ye.bl_count[Fe]=0;for(Rt[2*ye.heap[ye.heap_max]+1]=0,Je=ye.heap_max+1;Je<_;Je++)Lt<(Fe=Rt[2*Rt[2*(Le=ye.heap[Je])+1]+1]+1)&&(Fe=Lt,Fr++),Rt[2*Le+1]=Fe,ln<Le||(ye.bl_count[Fe]++,mt=0,lr<=Le&&(mt=Kn[Le-lr]),Vn=Rt[2*Le],ye.opt_len+=Vn*(Fe+mt),Hn&&(ye.static_len+=Vn*(qn[2*Le+1]+mt)));if(Fr!==0){do{for(Fe=Lt-1;ye.bl_count[Fe]===0;)Fe--;ye.bl_count[Fe]--,ye.bl_count[Fe+1]+=2,ye.bl_count[Lt]--,Fr-=2}while(0<Fr);for(Fe=Lt;Fe!==0;Fe--)for(Le=ye.bl_count[Fe];Le!==0;)ln<(qt=ye.heap[--Je])||(Rt[2*qt+1]!==Fe&&(ye.opt_len+=(Fe-Rt[2*qt+1])*Rt[2*qt],Rt[2*qt+1]=Fe),Le--)}})(D,V),je(I,ge,D.bl_count)}function v(D,V,ce){var w,y,I=-1,P=V[1],N=0,q=7,ge=4;for(P===0&&(q=138,ge=3),V[2*(ce+1)+1]=65535,w=0;w<=ce;w++)y=P,P=V[2*(w+1)+1],++N<q&&y===P||(N<ge?D.bl_tree[2*y]+=N:y!==0?(y!==I&&D.bl_tree[2*y]++,D.bl_tree[2*F]++):N<=10?D.bl_tree[2*$]++:D.bl_tree[2*K]++,I=y,ge=(N=0)===P?(q=138,3):y===P?(q=6,3):(q=7,4))}function ie(D,V,ce){var w,y,I=-1,P=V[1],N=0,q=7,ge=4;for(P===0&&(q=138,ge=3),w=0;w<=ce;w++)if(y=P,P=V[2*(w+1)+1],!(++N<q&&y===P)){if(N<ge)for(;ae(D,y,D.bl_tree),--N!=0;);else y!==0?(y!==I&&(ae(D,y,D.bl_tree),N--),ae(D,F,D.bl_tree),le(D,N-3,2)):N<=10?(ae(D,$,D.bl_tree),le(D,N-3,3)):(ae(D,K,D.bl_tree),le(D,N-11,7));I=y,ge=(N=0)===P?(q=138,3):y===P?(q=6,3):(q=7,4)}}f(X);var te=!1;function U(D,V,ce,w){le(D,(m<<1)+(w?1:0),3),(function(y,I,P,N){Ee(y),pe(y,P),pe(y,~P),a.arraySet(y.pending_buf,y.window,I,P,y.pending),y.pending+=P})(D,V,ce)}l._tr_init=function(D){te||((function(){var V,ce,w,y,I,P=new Array(x+1);for(y=w=0;y<b-1;y++)for(ee[y]=w,V=0;V<1<<G[y];V++)k[w++]=y;for(k[w-1]=y,y=I=0;y<16;y++)for(X[y]=I,V=0;V<1<<ne[y];V++)Z[I++]=y;for(I>>=7;y<g;y++)for(X[y]=I<<7,V=0;V<1<<ne[y]-7;V++)Z[256+I++]=y;for(ce=0;ce<=x;ce++)P[ce]=0;for(V=0;V<=143;)we[2*V+1]=8,V++,P[8]++;for(;V<=255;)we[2*V+1]=9,V++,P[9]++;for(;V<=279;)we[2*V+1]=7,V++,P[7]++;for(;V<=287;)we[2*V+1]=8,V++,P[8]++;for(je(we,O+1,P),V=0;V<g;V++)B[2*V+1]=5,B[2*V]=Oe(V,5);ke=new se(we,G,E+1,O,x),re=new se(B,ne,0,g,x),oe=new se(new Array(0),Q,0,T,R)})(),te=!0),D.l_desc=new A(D.dyn_ltree,ke),D.d_desc=new A(D.dyn_dtree,re),D.bl_desc=new A(D.bl_tree,oe),D.bi_buf=0,D.bi_valid=0,be(D)},l._tr_stored_block=U,l._tr_flush_block=function(D,V,ce,w){var y,I,P=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=(function(N){var q,ge=4093624447;for(q=0;q<=31;q++,ge>>>=1)if(1&ge&&N.dyn_ltree[2*q]!==0)return u;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return d;for(q=32;q<E;q++)if(N.dyn_ltree[2*q]!==0)return d;return u})(D)),ot(D,D.l_desc),ot(D,D.d_desc),P=(function(N){var q;for(v(N,N.dyn_ltree,N.l_desc.max_code),v(N,N.dyn_dtree,N.d_desc.max_code),ot(N,N.bl_desc),q=T-1;3<=q&&N.bl_tree[2*de[q]+1]===0;q--);return N.opt_len+=3*(q+1)+5+5+4,q})(D),y=D.opt_len+3+7>>>3,(I=D.static_len+3+7>>>3)<=y&&(y=I)):y=I=ce+5,ce+4<=y&&V!==-1?U(D,V,ce,w):D.strategy===4||I===y?(le(D,2+(w?1:0),3),bt(D,we,B)):(le(D,4+(w?1:0),3),(function(N,q,ge,ye){var Ue;for(le(N,q-257,5),le(N,ge-1,5),le(N,ye-4,4),Ue=0;Ue<ye;Ue++)le(N,N.bl_tree[2*de[Ue]+1],3);ie(N,N.dyn_ltree,q-1),ie(N,N.dyn_dtree,ge-1)})(D,D.l_desc.max_code+1,D.d_desc.max_code+1,P+1),bt(D,D.dyn_ltree,D.dyn_dtree)),be(D),w&&Ee(D)},l._tr_tally=function(D,V,ce){return D.pending_buf[D.d_buf+2*D.last_lit]=V>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&V,D.pending_buf[D.l_buf+D.last_lit]=255&ce,D.last_lit++,V===0?D.dyn_ltree[2*ce]++:(D.matches++,V--,D.dyn_ltree[2*(k[ce]+E+1)]++,D.dyn_dtree[2*z(V)]++),D.last_lit===D.lit_bufsize-1},l._tr_align=function(D){le(D,2,3),ae(D,j,we),(function(V){V.bi_valid===16?(pe(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)})(D)}},{"../utils/common":41}],53:[function(n,s,l){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,l){(function(a){(function(u,d){if(!u.setImmediate){var f,m,b,E,O=1,g={},T=!1,_=u.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(u);x=x&&x.setTimeout?x:u,f={}.toString.call(u.process)==="[object process]"?function(F){process.nextTick(function(){R(F)})}:(function(){if(u.postMessage&&!u.importScripts){var F=!0,$=u.onmessage;return u.onmessage=function(){F=!1},u.postMessage("","*"),u.onmessage=$,F}})()?(E="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",j,!1):u.attachEvent("onmessage",j),function(F){u.postMessage(E+F,"*")}):u.MessageChannel?((b=new MessageChannel).port1.onmessage=function(F){R(F.data)},function(F){b.port2.postMessage(F)}):_&&"onreadystatechange"in _.createElement("script")?(m=_.documentElement,function(F){var $=_.createElement("script");$.onreadystatechange=function(){R(F),$.onreadystatechange=null,m.removeChild($),$=null},m.appendChild($)}):function(F){setTimeout(R,0,F)},x.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var $=new Array(arguments.length-1),K=0;K<$.length;K++)$[K]=arguments[K+1];var G={callback:F,args:$};return g[O]=G,f(O),O++},x.clearImmediate=C}function C(F){delete g[F]}function R(F){if(T)setTimeout(R,0,F);else{var $=g[F];if($){T=!0;try{(function(K){var G=K.callback,ne=K.args;switch(ne.length){case 0:G();break;case 1:G(ne[0]);break;case 2:G(ne[0],ne[1]);break;case 3:G(ne[0],ne[1],ne[2]);break;default:G.apply(d,ne)}})($)}finally{C(F),T=!1}}}}function j(F){F.source===u&&typeof F.data=="string"&&F.data.indexOf(E)===0&&R(+F.data.slice(E.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ks<"u"?Ks:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(rl)),rl.exports}var zm=Nm();const Um=xl(zm);function Lm({onUploadComplete:c}){const[r,n]=nt.useState(!1),[s,l]=nt.useState(""),[a,u]=nt.useState(!1),d=nt.useCallback(O=>{O.preventDefault(),n(!0)},[]),f=nt.useCallback(O=>{O.preventDefault(),n(!1)},[]),m=async O=>{if(!s.trim()){alert("Please enter a series name");return}u(!0);const g=[];for(let T=0;T<O.length;T++){const _=O[T];if(_.name.endsWith(".zip")){const C=await new Um().loadAsync(_);for(const[R,j]of Object.entries(C.files))if(!j.dir&&(R.endsWith(".dcm")||!R.includes("."))){const F=await j.async("blob"),$=new File([F],R,{type:"application/dicom"});g.push($)}}else(_.name.endsWith(".dcm")||_.type==="application/dicom")&&g.push(_)}g.length>0?c(g,s):(alert("No DICOM files found"),u(!1))},b=nt.useCallback(async O=>{O.preventDefault(),n(!1);const g=O.dataTransfer.files;await m(g)},[s]),E=async O=>{O.target.files&&await m(O.target.files)};return ue.jsxs("div",{className:"upload-container",children:[ue.jsxs("div",{className:"upload-header",children:[ue.jsx("h2",{children:"Upload DICOM Files"}),ue.jsx("p",{children:"Upload individual DICOM files, folders, or ZIP archives"})]}),ue.jsx("input",{type:"text",placeholder:"Enter series name (e.g., Chest CT, Abdomen MRI)",value:s,onChange:O=>l(O.target.value),className:"series-input",disabled:a}),ue.jsx("div",{className:`dropzone ${r?"dragging":""}`,onDragOver:d,onDragLeave:f,onDrop:b,children:ue.jsxs("div",{className:"dropzone-content",children:[ue.jsx("svg",{className:"upload-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),ue.jsx("p",{className:"dropzone-text",children:a?"Processing files...":"Drag and drop DICOM files or folders here"}),ue.jsx("p",{className:"dropzone-subtext",children:"or"}),ue.jsxs("label",{className:"file-select-btn",children:[ue.jsx("input",{type:"file",multiple:!0,accept:".dcm,.zip,application/dicom",onChange:E,disabled:a,style:{display:"none"}}),"Browse Files"]})]})}),ue.jsxs("div",{className:"supported-formats",children:[ue.jsx("h4",{children:"Supported Formats:"}),ue.jsxs("ul",{children:[ue.jsx("li",{children:".dcm files (DICOM)"}),ue.jsx("li",{children:".zip archives containing DICOM files"}),ue.jsx("li",{children:"Multiple files or folders"})]})]})]})}function Bm({slices:c,metadata:r}){const[n,s]=nt.useState(0),[l,a]=nt.useState(1),[u,d]=nt.useState(1),f=nt.useRef(null);nt.useEffect(()=>{c.length>0&&s(Math.floor(c.length/2))},[c]),nt.useEffect(()=>{if(f.current&&c.length>0&&n<c.length){const E=f.current,O=E.getContext("2d");if(!O)return;const g=c[n];E.width=g.width,E.height=g.height;const T=O.createImageData(g.width,g.height),_=g.data,x=T.data;for(let C=0;C<_.length;C+=4){const R=_[C],j=_[C+1],F=_[C+2],$=_[C+3];x[C]=Math.min(255,Math.max(0,(R-128)*u+128+(l-1)*128)),x[C+1]=Math.min(255,Math.max(0,(j-128)*u+128+(l-1)*128)),x[C+2]=Math.min(255,Math.max(0,(F-128)*u+128+(l-1)*128)),x[C+3]=$}O.putImageData(T,0,0)}},[n,c,l,u]);const m=E=>{s(parseInt(E.target.value))},b=E=>{E.preventDefault();const O=E.deltaY>0?1:-1;s(g=>Math.max(0,Math.min(c.length-1,g+O)))};return c.length===0?ue.jsx("div",{className:"slice-viewer-empty",children:"No slices to display"}):ue.jsxs("div",{className:"slice-viewer",children:[ue.jsxs("div",{className:"slice-viewer-header",children:[ue.jsx("h3",{children:"2D Slice Viewer"}),ue.jsxs("div",{className:"slice-info",children:["Slice ",n+1," of ",c.length]})]}),ue.jsx("div",{className:"canvas-container",onWheel:b,children:ue.jsx("canvas",{ref:f,className:"slice-canvas"})}),ue.jsxs("div",{className:"viewer-controls",children:[ue.jsx("div",{className:"control-group",children:ue.jsxs("label",{children:["Slice Position",ue.jsx("input",{type:"range",min:"0",max:c.length-1,value:n,onChange:m,className:"slider"})]})}),ue.jsx("div",{className:"control-group",children:ue.jsxs("label",{children:["Brightness",ue.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:l,onChange:E=>a(parseFloat(E.target.value)),className:"slider"})]})}),ue.jsx("div",{className:"control-group",children:ue.jsxs("label",{children:["Contrast",ue.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:u,onChange:E=>d(parseFloat(E.target.value)),className:"slider"})]})}),ue.jsx("button",{className:"reset-btn",onClick:()=>{a(1),d(1)},children:"Reset View"})]}),r&&ue.jsxs("div",{className:"metadata-panel",children:[ue.jsx("h4",{children:"DICOM Metadata"}),ue.jsxs("div",{className:"metadata-grid",children:[r.patientName&&ue.jsxs("div",{children:[ue.jsx("strong",{children:"Patient:"})," ",r.patientName]}),r.studyDate&&ue.jsxs("div",{children:[ue.jsx("strong",{children:"Study Date:"})," ",r.studyDate]}),r.modality&&ue.jsxs("div",{children:[ue.jsx("strong",{children:"Modality:"})," ",r.modality]}),r.bodyPartExamined&&ue.jsxs("div",{children:[ue.jsx("strong",{children:"Body Part:"})," ",r.bodyPartExamined]}),r.seriesDescription&&ue.jsxs("div",{children:[ue.jsx("strong",{children:"Series:"})," ",r.seriesDescription]})]})]})]})}var ih,sh,oh;const Fm=(oh=(sh=(ih=window.vtk)==null?void 0:ih.Common)==null?void 0:sh.DataModel)==null?void 0:oh.ImageData;var ah,lh,uh;const $m=(uh=(lh=(ah=window.vtk)==null?void 0:ah.Rendering)==null?void 0:lh.Core)==null?void 0:uh.Volume;var ch,dh,hh;const Mm=(hh=(dh=(ch=window.vtk)==null?void 0:ch.Rendering)==null?void 0:dh.Core)==null?void 0:hh.VolumeMapper;var fh,ph,mh;const Wm=(mh=(ph=(fh=window.vtk)==null?void 0:fh.Rendering)==null?void 0:ph.Core)==null?void 0:mh.ColorTransferFunction;var gh,vh,yh;const Vm=(yh=(vh=(gh=window.vtk)==null?void 0:gh.Common)==null?void 0:vh.DataModel)==null?void 0:yh.PiecewiseFunction;var wh,_h,kh;const qm=(kh=(_h=(wh=window.vtk)==null?void 0:wh.Rendering)==null?void 0:_h.Core)==null?void 0:kh.Renderer;var bh,Sh,Eh;const Hm=(Eh=(Sh=(bh=window.vtk)==null?void 0:bh.Rendering)==null?void 0:Sh.Core)==null?void 0:Eh.RenderWindow;var xh,Oh,Ph;const Km=(Ph=(Oh=(xh=window.vtk)==null?void 0:xh.Rendering)==null?void 0:Oh.Core)==null?void 0:Ph.RenderWindowInteractor;var Ch,Th,Ah;const Gm=(Ah=(Th=(Ch=window.vtk)==null?void 0:Ch.Interaction)==null?void 0:Th.Style)==null?void 0:Ah.InteractorStyleTrackballCamera;var Rh,Ih,jh;const Jm=(jh=(Ih=(Rh=window.vtk)==null?void 0:Rh.Rendering)==null?void 0:Ih.OpenGL)==null?void 0:jh.RenderWindow,Zm={chest:{windowWidth:1500,windowCenter:-600},abdomen:{windowWidth:350,windowCenter:40},upper_abdomen:{windowWidth:350,windowCenter:40},full_body:{windowWidth:350,windowCenter:40},human_neck:{windowWidth:350,windowCenter:40},unknown:{windowWidth:350,windowCenter:40}};class Qm{constructor(r){Rn(this,"renderer");Rn(this,"renderWindow");Rn(this,"openglRenderWindow");Rn(this,"interactor");Rn(this,"volume");this.renderWindow=Hm.newInstance(),this.renderer=qm.newInstance(),this.renderWindow.addRenderer(this.renderer),this.openglRenderWindow=Jm.newInstance(),this.renderWindow.addView(this.openglRenderWindow),this.openglRenderWindow.setContainer(r),this.interactor=Km.newInstance(),this.interactor.setView(this.openglRenderWindow),this.interactor.initialize(),this.interactor.bindEvents(r);const n=Gm.newInstance();this.interactor.setInteractorStyle(n),this.renderer.setBackground(.1,.1,.1);const{width:s,height:l}=r.getBoundingClientRect();this.openglRenderWindow.setSize(s,l)}renderVolume(r,n,s){const l=Fm.newInstance();l.setDimensions(n),l.setSpacing(1,1,1),l.setOrigin(0,0,0),l.getPointData().getScalars().setData(r);const u=Mm.newInstance();u.setInputData(l);const d=Zm[s],f=d.windowCenter-d.windowWidth/2,m=d.windowCenter+d.windowWidth/2,b=Wm.newInstance();b.addRGBPoint(f,0,0,0),b.addRGBPoint(d.windowCenter,1,.76,.65),b.addRGBPoint(m,1,1,1);const E=Vm.newInstance();E.addPoint(f,0),E.addPoint(d.windowCenter,.2),E.addPoint(m,1),this.volume=$m.newInstance(),this.volume.setMapper(u),this.volume.getProperty().setRGBTransferFunction(0,b),this.volume.getProperty().setScalarOpacity(0,E),this.volume.getProperty().setInterpolationTypeToLinear(),this.volume.getProperty().setShade(!0),this.renderer.addVolume(this.volume),this.renderer.resetCamera(),this.renderWindow.render()}resize(){if(this.openglRenderWindow&&this.openglRenderWindow.getContainer()){const r=this.openglRenderWindow.getContainer(),{width:n,height:s}=r.getBoundingClientRect();this.openglRenderWindow.setSize(n,s),this.renderWindow.render()}}destroy(){this.interactor&&this.interactor.unbindEvents(),this.openglRenderWindow&&this.openglRenderWindow.delete(),this.renderWindow&&this.renderWindow.delete(),this.renderer&&this.renderer.delete()}}function Ym({volumeData:c,dimensions:r,bodyRegion:n}){const s=nt.useRef(null),l=nt.useRef(null);return nt.useEffect(()=>{if(!s.current)return;l.current=new Qm(s.current),l.current.renderVolume(c,r,n);const a=()=>{l.current&&l.current.resize()};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),l.current&&l.current.destroy()}},[c,r,n]),ue.jsxs("div",{className:"volume-viewer",children:[ue.jsxs("div",{className:"volume-viewer-header",children:[ue.jsx("h3",{children:"3D Volume Rendering"}),ue.jsx("div",{className:"region-badge",children:n.replace("_"," ").toUpperCase()})]}),ue.jsx("div",{ref:s,className:"volume-container",style:{width:"100%",height:"600px"}}),ue.jsxs("div",{className:"volume-instructions",children:[ue.jsx("p",{children:ue.jsx("strong",{children:"Controls:"})}),ue.jsxs("ul",{children:[ue.jsx("li",{children:"Left click + drag: Rotate"}),ue.jsx("li",{children:"Right click + drag: Pan"}),ue.jsx("li",{children:"Scroll: Zoom"})]})]})]})}var so={exports:{}};const Xm={},eg=Object.freeze(Object.defineProperty({__proto__:null,default:Xm},Symbol.toStringTag,{value:"Module"})),tg=Dh(eg);/*! dicom-parser - 1.8.12 - 2023-02-20 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */var rg=so.exports,Cd;function ng(){return Cd||(Cd=1,(function(c,r){(function(n,s){c.exports=s(tg)})(rg,function(n){return l=[function(u,d){u.exports=n},function(u,d,f){f.r(d),f.d(d,"isStringVr",function(){return b}),f.d(d,"isPrivateTag",function(){return E}),f.d(d,"parsePN",function(){return O}),f.d(d,"parseTM",function(){return g}),f.d(d,"parseDA",function(){return _}),f.d(d,"explicitElementToString",function(){return x}),f.d(d,"explicitDataSetToJS",function(){return C}),f.d(d,"createJPEGBasicOffsetTable",function(){return F}),f.d(d,"parseDicomDataSetExplicit",function(){return z}),f.d(d,"parseDicomDataSetImplicit",function(){return pe}),f.d(d,"readFixedString",function(){return ne}),f.d(d,"alloc",function(){return le}),f.d(d,"version",function(){return ae}),f.d(d,"bigEndianByteArrayParser",function(){return Oe}),f.d(d,"ByteStream",function(){return Ee}),f.d(d,"sharedCopy",function(){return je}),f.d(d,"DataSet",function(){return we}),f.d(d,"findAndSetUNElementLength",function(){return G}),f.d(d,"findEndOfEncapsulatedElement",function(){return K}),f.d(d,"findItemDelimitationItemAndSetElementLength",function(){return B}),f.d(d,"littleEndianByteArrayParser",function(){return ze}),f.d(d,"parseDicom",function(){return ot}),f.d(d,"readDicomElementExplicit",function(){return A}),f.d(d,"readDicomElementImplicit",function(){return k}),f.d(d,"readEncapsulatedImageFrame",function(){return D}),f.d(d,"readEncapsulatedPixelData",function(){return ce}),f.d(d,"readEncapsulatedPixelDataFromFragments",function(){return ie}),f.d(d,"readPart10Header",function(){return We}),f.d(d,"readSequenceItemsExplicit",function(){return X}),f.d(d,"readSequenceItemsImplicit",function(){return re}),f.d(d,"readSequenceItem",function(){return ee}),f.d(d,"readTag",function(){return $});var m={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},b=function(w){return m[w]},E=function(w){if(w=parseInt(w[4],16),isNaN(w))throw"dicomParser.isPrivateTag: cannot parse last character of group";return w%2==1},O=function(w){if(w!==void 0)return w=w.split("^"),{familyName:w[0],givenName:w[1],middleName:w[2],prefix:w[3],suffix:w[4]}};function g(w,y){if(2<=w.length){var I=parseInt(w.substring(0,2),10),P=4<=w.length?parseInt(w.substring(2,4),10):void 0,N=6<=w.length?parseInt(w.substring(4,6),10):void 0,q=8<=w.length?w.substring(7,13):void 0,q=q?parseInt(q,10)*Math.pow(10,6-q.length):void 0;if(y&&(isNaN(I)||P!==void 0&&isNaN(P)||N!==void 0&&isNaN(N)||q!==void 0&&isNaN(q)||I<0||23<I||P&&(P<0||59<P)||N&&(N<0||59<N)||q&&(q<0||999999<q)))throw"invalid TM '".concat(w,"'");return{hours:I,minutes:P,seconds:N,fractionalSeconds:q}}if(y)throw"invalid TM '".concat(w,"'")}function T(w,y,I){return!isNaN(I)&&0<y&&y<=12&&0<w&&w<=(function(P,N){switch(P){case 2:return N%4==0&&N%100||N%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}})(y,I)}function _(w,y){if(w&&w.length===8){var I=parseInt(w.substring(0,4),10),P=parseInt(w.substring(4,6),10),N=parseInt(w.substring(6,8),10);if(y&&T(N,P,I)!==!0)throw"invalid DA '".concat(w,"'");return{year:I,month:P,day:N}}if(y)throw"invalid DA '".concat(w,"'")}function x(w,y){if(w===void 0||y===void 0)throw"dicomParser.explicitElementToString: missing required parameters";if(y.vr===void 0)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var I,P=y.vr,N=y.tag;function q(ye,Ue){for(var Je="",Le=0;Le<ye;Le++)Le!==0&&(Je+="/"),Je+=Ue.call(w,N,Le).toString();return Je}if(b(P)===!0)I=w.string(N);else{if(P==="AT"){var ge=w.uint32(N);return ge===void 0?void 0:"x".concat((ge=ge<0?4294967295+ge+1:ge).toString(16).toUpperCase())}P==="US"?I=q(y.length/2,w.uint16):P==="SS"?I=q(y.length/2,w.int16):P==="UL"?I=q(y.length/4,w.uint32):P==="SL"?I=q(y.length/4,w.int32):P==="FD"?I=q(y.length/8,w.double):P==="FL"&&(I=q(y.length/4,w.float))}return I}function C(w,y){if(w===void 0)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";y=y||{omitPrivateAttibutes:!0,maxElementLength:128};var I,P={};for(I in w.elements){var N=w.elements[I];if(y.omitPrivateAttibutes!==!0||!E(I))if(N.items){for(var q=[],ge=0;ge<N.items.length;ge++)q.push(C(N.items[ge].dataSet,y));P[I]=q}else{var ye=void 0;N.length<y.maxElementLength&&(ye=x(w,N)),P[I]=ye!==void 0?ye:{dataOffset:N.dataOffset,length:N.length}}}return P}function R(w,y){return w.byteArray[y]===255&&w.byteArray[y+1]===217}function j(w,y,I){for(var P,N,q=I;q<y.fragments.length;q++)if(P=w,N=q,N=y.fragments[N],!(!R(P,N.position+N.length-2)&&!R(P,N.position+N.length-3)))return q}function F(w,y,I){if(w===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(y===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if(y.tag!=="x7fe00010")throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(y.encapsulatedPixelData!==!0||y.hadUndefinedLength!==!0||y.basicOffsetTable===void 0||y.fragments===void 0||y.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(I&&I.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";I=I||y.fragments;for(var P=[],N=0;;){P.push(y.fragments[N].offset);var q=j(w,y,N);if(q===void 0||q===y.fragments.length-1)return P;N=q+1}}function $(I){if(I===void 0)throw"dicomParser.readTag: missing required parameter 'byteStream'";var y=256*I.readUint16()*256,I=I.readUint16();return"x".concat("00000000".concat((y+I).toString(16)).substr(-8))}function K(w,y,I){if(w===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(y===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(y.encapsulatedPixelData=!0,y.basicOffsetTable=[],y.fragments=[],$(w)!=="xfffee000")throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var P=w.readUint32()/4,N=0;N<P;N++){var q=w.readUint32();y.basicOffsetTable.push(q)}for(var ge=w.position;w.position<w.byteArray.length;){var ye=$(w),Ue=w.readUint32();if(ye==="xfffee0dd")return w.seek(Ue),void(y.length=w.position-y.dataOffset);if(ye!=="xfffee000")return I&&I.push("unexpected tag ".concat(ye," while searching for end of pixel data element with undefined length")),Ue>w.byteArray.length-w.position&&(Ue=w.byteArray.length-w.position),y.fragments.push({offset:w.position-ge-8,position:w.position,length:Ue}),w.seek(Ue),void(y.length=w.position-y.dataOffset);y.fragments.push({offset:w.position-ge-8,position:w.position,length:Ue}),w.seek(Ue)}I&&I.push("pixel data element ".concat(y.tag," missing sequence delimiter tag xfffee0dd"))}function G(w,y){if(w===void 0)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var I=w.byteArray.length-8;w.position<=I;)if(w.readUint16()===65534){var P=w.readUint16();if(P===57565)return w.readUint32()!==0&&w.warnings("encountered non zero length following item delimiter at position ".concat(w.position-4," while reading element of undefined length with tag ").concat(y.tag)),void(y.length=w.position-y.dataOffset)}y.length=w.byteArray.length-y.dataOffset,w.seek(w.byteArray.length-w.position)}function ne(w,y,I){if(I<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(y+I>w.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var P,N="",q=0;q<I;q++){if((P=w[y+q])===0)return y+=I,N;N+=String.fromCharCode(P)}return N}function Q(w,y){for(var I=0;I<y.length;I++){var P=y[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}function de(w,y){return w.parser!==void 0?w.parser:y}var we=(function(){function w(P,N,q){(function(ge,ye){if(!(ge instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,w),this.byteArrayParser=P,this.byteArray=N,this.elements=q}var y,I;return y=w,(I=[{key:"uint16",value:function(P,N){if(P=this.elements[P],N=N!==void 0?N:0,P&&P.length!==0)return de(P,this.byteArrayParser).readUint16(this.byteArray,P.dataOffset+2*N)}},{key:"int16",value:function(P,N){if(P=this.elements[P],N=N!==void 0?N:0,P&&P.length!==0)return de(P,this.byteArrayParser).readInt16(this.byteArray,P.dataOffset+2*N)}},{key:"uint32",value:function(P,N){if(P=this.elements[P],N=N!==void 0?N:0,P&&P.length!==0)return de(P,this.byteArrayParser).readUint32(this.byteArray,P.dataOffset+4*N)}},{key:"int32",value:function(P,N){if(P=this.elements[P],N=N!==void 0?N:0,P&&P.length!==0)return de(P,this.byteArrayParser).readInt32(this.byteArray,P.dataOffset+4*N)}},{key:"float",value:function(P,N){if(P=this.elements[P],N=N!==void 0?N:0,P&&P.length!==0)return de(P,this.byteArrayParser).readFloat(this.byteArray,P.dataOffset+4*N)}},{key:"double",value:function(P,N){if(P=this.elements[P],N=N!==void 0?N:0,P&&P.length!==0)return de(P,this.byteArrayParser).readDouble(this.byteArray,P.dataOffset+8*N)}},{key:"numStringValues",value:function(P){if(P=this.elements[P],P&&0<P.length)return P=ne(this.byteArray,P.dataOffset,P.length).match(/\\/g),P===null?1:P.length+1}},{key:"string",value:function(P,N){if(P=this.elements[P],P&&P.Value)return P.Value;if(P&&0<P.length)return P=ne(this.byteArray,P.dataOffset,P.length),0<=N?P.split("\\")[N].trim():P.trim()}},{key:"text",value:function(P,N){if(P=this.elements[P],P&&0<P.length)return P=ne(this.byteArray,P.dataOffset,P.length),0<=N?P.split("\\")[N].replace(/ +$/,""):P.replace(/ +$/,"")}},{key:"floatString",value:function(P,N){var q=this.elements[P];if(q&&0<q.length&&(N=this.string(P,N=N!==void 0?N:0),N!==void 0))return parseFloat(N)}},{key:"intString",value:function(P,N){var q=this.elements[P];if(q&&0<q.length&&(N=this.string(P,N=N!==void 0?N:0),N!==void 0))return parseInt(N)}},{key:"attributeTag",value:function(P){var N=this.elements[P];if(N&&N.length===4){var q=de(N,this.byteArrayParser).readUint16,P=this.byteArray,N=N.dataOffset;return"x".concat("00000000".concat((256*q(P,N)*256+q(P,N+2)).toString(16)).substr(-8))}}}])&&Q(y.prototype,I),Object.defineProperty(y,"prototype",{writable:!1}),w})();function B(w,y){if(w===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var I=w.byteArray.length-8;w.position<=I;)if(w.readUint16()===65534){var P=w.readUint16();if(P===57357)return w.readUint32()!==0&&w.warnings("encountered non zero length following item delimiter at position ".concat(w.position-4," while reading element of undefined length with tag ").concat(y.tag)),void(y.length=w.position-y.dataOffset)}y.length=w.byteArray.length-y.dataOffset,w.seek(w.byteArray.length-w.position)}var Z=function(w,y){return w.vr!==void 0?w.vr==="SQ":y.position+4<=y.byteArray.length?(w=$(y),y.seek(-4),w==="xfffee000"||w==="xfffee0dd"):(y.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1)};function k(w,y,I){if(w===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var P=$(w),P={tag:P,vr:I!==void 0?I(P):void 0,length:w.readUint32(),dataOffset:w.position};return P.length===4294967295&&(P.hadUndefinedLength=!0),P.tag===y||(!Z(P,w)||E(P.tag)&&!P.hadUndefinedLength?P.hadUndefinedLength?B(w,P):w.seek(P.length):(re(w,P,I),E(P.tag)&&(P.items=void 0))),P}function ee(w){if(w===void 0)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var y={tag:$(w),length:w.readUint32(),dataOffset:w.position};if(y.tag!=="xfffee000")throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset ".concat(w.position);return y}function ke(w,y){var I=ee(w);return I.length===4294967295?(I.hadUndefinedLength=!0,I.dataSet=(function(P,N){for(var q={};P.position<P.byteArray.length;){var ge=k(P,void 0,N);if((q[ge.tag]=ge).tag==="xfffee00d")return new we(P.byteArrayParser,P.byteArray,q)}return P.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new we(P.byteArrayParser,P.byteArray,q)})(w,y),I.length=w.position-I.dataOffset):(I.dataSet=new we(w.byteArrayParser,w.byteArray,{}),pe(I.dataSet,w,w.position+I.length,{vrCallback:y})),I}function re(w,y,I){if(w===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(y===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";y.items=[],(y.length===4294967295?function(P,N,q){for(;P.position+4<=P.byteArray.length;){var ge=$(P);if(P.seek(-4),ge==="xfffee0dd")return N.length=P.position-N.dataOffset,P.seek(8);ge=ke(P,q),N.items.push(ge)}P.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),N.length=P.byteArray.length-N.dataOffset}:function(P,N,q){for(var ge=N.dataOffset+N.length;P.position<ge;){var ye=ke(P,q);N.items.push(ye)}})(w,y,I)}function oe(w,y){var I=ee(w);return I.length===4294967295?(I.hadUndefinedLength=!0,I.dataSet=(function(P,N){for(var q={};P.position<P.byteArray.length;){var ge=A(P,N);if((q[ge.tag]=ge).tag==="xfffee00d")return new we(P.byteArrayParser,P.byteArray,q)}return N.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new we(P.byteArrayParser,P.byteArray,q)})(w,y),I.length=w.position-I.dataOffset):(I.dataSet=new we(w.byteArrayParser,w.byteArray,{}),z(I.dataSet,w,w.position+I.length)),I}function X(w,y,I){if(w===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(y===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";y.items=[],(y.length===4294967295?function(P,N,q){for(;P.position+4<=P.byteArray.length;){var ge=$(P);if(P.seek(-4),ge==="xfffee0dd")return N.length=P.position-N.dataOffset,P.seek(8);ge=oe(P,q),N.items.push(ge)}q.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),N.length=P.position-N.dataOffset}:function(P,N,q){for(var ge=N.dataOffset+N.length;P.position<ge;){var ye=oe(P,q);N.items.push(ye)}})(w,y,I)}var se=function(w){return w==="OB"||w==="OD"||w==="OL"||w==="OW"||w==="SQ"||w==="OF"||w==="UC"||w==="UR"||w==="UT"||w==="UN"?4:2};function A(w,y,I){if(w===void 0)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var P={tag:$(w),vr:w.readFixedString(2)};return se(P.vr)===2?P.length=w.readUint16():(w.seek(2),P.length=w.readUint32()),P.dataOffset=w.position,P.length===4294967295&&(P.hadUndefinedLength=!0),P.tag===I||(P.vr==="SQ"?X(w,P,y):P.length===4294967295?P.tag==="x7fe00010"?K(w,P,y):(P.vr==="UN"?re:B)(w,P):w.seek(P.length)),P}function z(w,y,I){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(I=I===void 0?y.byteArray.length:I,y===void 0)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(I<y.position||I>y.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var N=w.elements;y.position<I;){var q=A(y,w.warnings,P.untilTag);if((N[q.tag]=q).tag===P.untilTag)return}if(y.position>I)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function pe(w,y,I){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(I=I===void 0?w.byteArray.length:I,y===void 0)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(I<y.position||I>y.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var N=w.elements;y.position<I;){var q=k(y,P.untilTag,P.vrCallback);if((N[q.tag]=q).tag===P.untilTag)return}}function le(w,y){if(typeof Buffer<"u"&&w instanceof Buffer)return Buffer.alloc(y);if(w instanceof Uint8Array)return new Uint8Array(y);throw"dicomParser.alloc: unknown type for byteArray"}var ae="1.8.12",Oe={readUint16:function(w,y){if(y<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(y+2>w.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(w[y]<<8)+w[y+1]},readInt16:function(w,y){if(y<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(y+2>w.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";return y=(w[y]<<8)+w[y+1],y=32768&y?y-65535-1:y},readUint32:function(w,y){if(y<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(y+4>w.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*w[y]+w[y+1])+w[y+2])+w[y+3]},readInt32:function(w,y){if(y<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(y+4>w.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(w[y]<<24)+(w[y+1]<<16)+(w[y+2]<<8)+w[y+3]},readFloat:function(w,y){if(y<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(y+4>w.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var I=new Uint8Array(4);return I[3]=w[y],I[2]=w[y+1],I[1]=w[y+2],I[0]=w[y+3],new Float32Array(I.buffer)[0]},readDouble:function(w,y){if(y<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(y+8>w.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var I=new Uint8Array(8);return I[7]=w[y],I[6]=w[y+1],I[5]=w[y+2],I[4]=w[y+3],I[3]=w[y+4],I[2]=w[y+5],I[1]=w[y+6],I[0]=w[y+7],new Float64Array(I.buffer)[0]}};function je(w,y,I){if(typeof Buffer<"u"&&w instanceof Buffer)return w.slice(y,y+I);if(w instanceof Uint8Array)return new Uint8Array(w.buffer,w.byteOffset+y,I);throw"dicomParser.from: unknown type for byteArray"}function be(w,y){for(var I=0;I<y.length;I++){var P=y[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}var Ee=(function(){function w(P,N,q){if((function(ge,ye){if(!(ge instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,w),P===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(N===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(!(N instanceof Uint8Array)&&(typeof Buffer>"u"||!(N instanceof Buffer)))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(q<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(q>=N.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=P,this.byteArray=N,this.position=q||0,this.warnings=[]}var y,I;return y=w,(I=[{key:"seek",value:function(P){if(this.position+P<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=P}},{key:"readByteStream",value:function(P){if(this.position+P>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var N=je(this.byteArray,this.position,P);return this.position+=P,new w(this.byteArrayParser,N)}},{key:"getSize",value:function(){return this.byteArray.length}},{key:"readUint16",value:function(){var P=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,P}},{key:"readUint32",value:function(){var P=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,P}},{key:"readFixedString",value:function(P){var N=ne(this.byteArray,this.position,P);return this.position+=P,N}}])&&be(y.prototype,I),Object.defineProperty(y,"prototype",{writable:!1}),w})(),ze={readUint16:function(w,y){if(y<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(y+2>w.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return w[y]+256*w[y+1]},readInt16:function(w,y){if(y<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(y+2>w.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";return y=w[y]+(w[y+1]<<8),y=32768&y?y-65535-1:y},readUint32:function(w,y){if(y<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(y+4>w.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return w[y]+256*w[y+1]+256*w[y+2]*256+256*w[y+3]*256*256},readInt32:function(w,y){if(y<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(y+4>w.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return w[y]+(w[y+1]<<8)+(w[y+2]<<16)+(w[y+3]<<24)},readFloat:function(w,y){if(y<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(y+4>w.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var I=new Uint8Array(4);return I[0]=w[y],I[1]=w[y+1],I[2]=w[y+2],I[3]=w[y+3],new Float32Array(I.buffer)[0]},readDouble:function(w,y){if(y<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(y+8>w.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var I=new Uint8Array(8);return I[0]=w[y],I[1]=w[y+1],I[2]=w[y+2],I[3]=w[y+3],I[4]=w[y+4],I[5]=w[y+5],I[6]=w[y+6],I[7]=w[y+7],new Float64Array(I.buffer)[0]}};function We(w){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(w===void 0)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var I=y.TransferSyntaxUID,P=new Ee(ze,w);return(function(){var N=(function(){if(P.getSize()<=132&&I)return!1;if(P.seek(128),P.readFixedString(4)==="DICM")return!0;if(!(y||{}).TransferSyntaxUID)throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";return P.seek(0),!1})(),q=[],ge={};if(!N)return P.position=0,{elements:{x00020010:{tag:"x00020010",vr:"UI",Value:I}},warnings:q};for(;P.position<P.byteArray.length;){var ye=P.position,Ue=A(P,q);if("x0002ffff"<Ue.tag){P.position=ye;break}Ue.parser=ze,ge[Ue.tag]=Ue}return(N=new we(P.byteArrayParser,P.byteArray,ge)).warnings=P.warnings,N.position=P.position,N})()}var bt="1.2.840.10008.1.2.2";function ot(w){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(w===void 0)throw new Error("dicomParser.parseDicom: missing required parameter 'byteArray'");var I,P=function(q){if(q.elements.x00020010===void 0)throw new Error("dicomParser.parseDicom: missing required meta header attribute 0002,0010");return q=q.elements.x00020010,q&&q.Value||ne(w,q.dataOffset,q.length)};function N(Ue){var ye=P(Ue),ge=ye!=="1.2.840.10008.1.2",ye=(function(Je,Le){var qt=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";if(Je!=="1.2.840.10008.1.2.1.99")return new Ee(Je===bt?Oe:ze,w,Le);if(y&&y.inflater)return Je=y.inflater(w,Le),new Ee(ze,Je,0);if(qt==!0){var Fe=f(0),mt=je(w,Le,w.length-Le),Fe=Fe.inflateRawSync(mt),mt=le(w,Fe.length+Le);return w.copy(mt,0,0,Le),Fe.copy(mt,Le),new Ee(ze,mt,0)}if(typeof pako>"u")throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";return Fe=w.slice(Le),mt=pako.inflateRaw(Fe),(Fe=le(w,mt.length+Le)).set(w.slice(0,Le),0),Fe.set(mt,Le),new Ee(ze,Fe,0)})(ye,Ue.position),Ue=new we(ye.byteArrayParser,ye.byteArray,{});Ue.warnings=ye.warnings;try{(ge?z:pe)(Ue,ye,ye.byteArray.length,y)}catch(Je){throw{exception:Je,dataSet:Ue}}return Ue}return(function(q,ge){for(var ye in q.elements)q.elements.hasOwnProperty(ye)&&(ge.elements[ye]=q.elements[ye]);return q.warnings!==void 0&&(ge.warnings=q.warnings.concat(ge.warnings)),ge})(I=We(w,y),N(I))}var v=function(w,y,I){for(var P=0,N=y;N<y+I;N++)P+=w[N].length;return P};function ie(w,ge,I,P,N){if(N=N||ge.fragments,w===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(ge===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(I===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if((P=P||1)===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if(ge.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(ge.encapsulatedPixelData!==!0||ge.hadUndefinedLength!==!0||ge.basicOffsetTable===void 0||ge.fragments===void 0||ge.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(I<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(I>=ge.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(P<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(I+P>ge.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var q=new Ee(w.byteArrayParser,w.byteArray,ge.dataOffset),ge=ee(q);if(ge.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";q.seek(ge.length);var ye=q.position;if(P===1)return je(q.byteArray,ye+N[I].offset+8,N[I].length);for(var ge=v(N,I,P),Ue=le(q.byteArray,ge),Je=0,Le=I;Le<I+P;Le++)for(var qt=ye+N[Le].offset+8,Fe=0;Fe<N[Le].length;Fe++)Ue[Je++]=q.byteArray[qt++];return Ue}var te=function(w,y){for(var I=0;I<w.length;I++)if(w[I].offset===y)return I},U=function(w,y,I,P){if(w===y.length-1)return I.length-P;for(var N=y[w+1],q=P+1;q<I.length;q++)if(I[q].offset===N)return q-P;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function D(w,y,I,P,N){if(P=P||y.basicOffsetTable,N=N||y.fragments,w===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(y===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(I===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(P===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if(y.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(y.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(y.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(y.fragments===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(P.length===0)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(I<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(I>=P.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var q=P[I],q=te(N,q);if(q===void 0)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return ie(w,y,q,U(I,P,N,q),N)}var V=!1;function ce(w,y,I){if(V||(V=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),w===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(y===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(I===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if(y.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(y.encapsulatedPixelData!==!0||y.hadUndefinedLength!==!0||y.basicOffsetTable===void 0||y.fragments===void 0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(I<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return y.basicOffsetTable.length!==0?D(w,y,I):ie(w,y,0,y.fragments.length)}d.default={isStringVr:b,isPrivateTag:E,parsePN:O,parseTM:g,parseDA:_,explicitElementToString:x,explicitDataSetToJS:C,createJPEGBasicOffsetTable:F,parseDicomDataSetExplicit:z,parseDicomDataSetImplicit:pe,readFixedString:ne,alloc:le,version:ae,bigEndianByteArrayParser:Oe,ByteStream:Ee,sharedCopy:je,DataSet:we,findAndSetUNElementLength:G,findEndOfEncapsulatedElement:K,findItemDelimitationItemAndSetElementLength:B,littleEndianByteArrayParser:ze,parseDicom:ot,readDicomElementExplicit:A,readDicomElementImplicit:k,readEncapsulatedImageFrame:D,readEncapsulatedPixelData:ce,readEncapsulatedPixelDataFromFragments:ie,readPart10Header:We,readSequenceItemsExplicit:X,readSequenceItemsImplicit:re,readSequenceItem:ee,readTag:$,LEI:"1.2.840.10008.1.2",LEE:"1.2.840.10008.1.2.1"}}],a={},s.m=l,s.c=a,s.d=function(u,d,f){s.o(u,d)||Object.defineProperty(u,d,{enumerable:!0,get:f})},s.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},s.t=function(u,d){if(1&d&&(u=s(u)),8&d||4&d&&typeof u=="object"&&u&&u.__esModule)return u;var f=Object.create(null);if(s.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&d&&typeof u!="string")for(var m in u)s.d(f,m,(function(b){return u[b]}).bind(null,m));return f},s.n=function(u){var d=u&&u.__esModule?function(){return u.default}:function(){return u};return s.d(d,"a",d),d},s.o=function(u,d){return Object.prototype.hasOwnProperty.call(u,d)},s.p="",s(s.s=1);function s(u){if(a[u])return a[u].exports;var d=a[u]={i:u,l:!1,exports:{}};return l[u].call(d.exports,d,d.exports,s),d.l=!0,d.exports}var l,a})})(so)),so.exports}var ig=ng();const Nh=xl(ig);function Td(c){try{const r=new Uint8Array(c),n=Nh.parseDicom(r),s={patientName:In(n,"x00100010"),studyDate:In(n,"x00080020"),modality:In(n,"x00080060"),bodyPartExamined:In(n,"x00180015"),seriesDescription:In(n,"x0008103e"),rows:Ii(n,"x00280010"),columns:Ii(n,"x00280011"),sliceThickness:Ii(n,"x00180050")},l=In(n,"x00280030");return l&&(s.pixelSpacing=l.split("\\").map(Number)),s}catch(r){return console.error("Error parsing DICOM:",r),{}}}function In(c,r){try{if(c.elements[r])return c.string(r)}catch{return}}function Ii(c,r){try{if(c.elements[r]){const s=c.string(r);return s?parseFloat(s):void 0}}catch{return}}function sg(c,r){const n=`${c.bodyPartExamined||""} ${c.seriesDescription||""} ${r}`.toLowerCase();return n.includes("chest")||n.includes("thorax")||n.includes("lung")?"chest":n.includes("upper abdomen")||n.includes("upper_abdomen")?"upper_abdomen":n.includes("abdomen")||n.includes("abdominal")?"abdomen":n.includes("neck")||n.includes("cervical")?"human_neck":n.includes("full body")||n.includes("whole body")?"full_body":"unknown"}function og(c){try{const r=new Uint8Array(c),n=Nh.parseDicom(r),s=n.elements.x7fe00010;if(!s)return null;const l=Ii(n,"x00280010")||0,a=Ii(n,"x00280011")||0;return new Uint16Array(n.byteArray.buffer,s.dataOffset,s.length/2).slice(0,l*a)}catch(r){return console.error("Error extracting pixel data:",r),null}}var hl=function(c,r){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])},hl(c,r)};function zh(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");hl(c,r);function n(){this.constructor=c}c.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var oo=function(){return oo=Object.assign||function(r){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},oo.apply(this,arguments)};function Mn(c,r){var n={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&r.indexOf(s)<0&&(n[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(c);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(c,s[l])&&(n[s[l]]=c[s[l]]);return n}function Uh(c,r,n,s){var l=arguments.length,a=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,n):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(c,r,n,s);else for(var d=c.length-1;d>=0;d--)(u=c[d])&&(a=(l<3?u(a):l>3?u(r,n,a):u(r,n))||a);return l>3&&a&&Object.defineProperty(r,n,a),a}function Lh(c,r){return function(n,s){r(n,s,c)}}function Bh(c,r,n,s,l,a){function u(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=s.kind,f=d==="getter"?"get":d==="setter"?"set":"value",m=!r&&c?s.static?c:c.prototype:null,b=r||(m?Object.getOwnPropertyDescriptor(m,s.name):{}),E,O=!1,g=n.length-1;g>=0;g--){var T={};for(var _ in s)T[_]=_==="access"?{}:s[_];for(var _ in s.access)T.access[_]=s.access[_];T.addInitializer=function(C){if(O)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(C||null))};var x=(0,n[g])(d==="accessor"?{get:b.get,set:b.set}:b[f],T);if(d==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(E=u(x.get))&&(b.get=E),(E=u(x.set))&&(b.set=E),(E=u(x.init))&&l.unshift(E)}else(E=u(x))&&(d==="field"?l.unshift(E):b[f]=E)}m&&Object.defineProperty(m,s.name,b),O=!0}function Fh(c,r,n){for(var s=arguments.length>2,l=0;l<r.length;l++)n=s?r[l].call(c,n):r[l].call(c);return s?n:void 0}function $h(c){return typeof c=="symbol"?c:"".concat(c)}function Mh(c,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(c,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Wh(c,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,r)}function Te(c,r,n,s){function l(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(b){try{m(s.next(b))}catch(E){u(E)}}function f(b){try{m(s.throw(b))}catch(E){u(E)}}function m(b){b.done?a(b.value):l(b.value).then(d,f)}m((s=s.apply(c,r||[])).next())})}function Vh(c,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,l,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(b){return f([m,b])}}function f(m){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(s=1,l&&(a=m[0]&2?l.return:m[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,m[1])).done)return a;switch(l=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,l=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=r.call(c,n)}catch(b){m=[6,b],l=0}finally{s=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var ho=Object.create?(function(c,r,n,s){s===void 0&&(s=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(c,s,l)}):(function(c,r,n,s){s===void 0&&(s=n),c[s]=r[n]});function qh(c,r){for(var n in c)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&ho(r,c,n)}function ao(c){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&c[r],s=0;if(n)return n.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&s>=c.length&&(c=void 0),{value:c&&c[s++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pl(c,r){var n=typeof Symbol=="function"&&c[Symbol.iterator];if(!n)return c;var s=n.call(c),l,a=[],u;try{for(;(r===void 0||r-- >0)&&!(l=s.next()).done;)a.push(l.value)}catch(d){u={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(u)throw u.error}}return a}function Hh(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(Pl(arguments[r]));return c}function Kh(){for(var c=0,r=0,n=arguments.length;r<n;r++)c+=arguments[r].length;for(var s=Array(c),l=0,r=0;r<n;r++)for(var a=arguments[r],u=0,d=a.length;u<d;u++,l++)s[l]=a[u];return s}function Gh(c,r,n){if(n||arguments.length===2)for(var s=0,l=r.length,a;s<l;s++)(a||!(s in r))&&(a||(a=Array.prototype.slice.call(r,0,s)),a[s]=r[s]);return c.concat(a||Array.prototype.slice.call(r))}function $n(c){return this instanceof $n?(this.v=c,this):new $n(c)}function Jh(c,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(c,r||[]),l,a=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(g){return function(T){return Promise.resolve(T).then(g,E)}}function d(g,T){s[g]&&(l[g]=function(_){return new Promise(function(x,C){a.push([g,_,x,C])>1||f(g,_)})},T&&(l[g]=T(l[g])))}function f(g,T){try{m(s[g](T))}catch(_){O(a[0][3],_)}}function m(g){g.value instanceof $n?Promise.resolve(g.value.v).then(b,E):O(a[0][2],g)}function b(g){f("next",g)}function E(g){f("throw",g)}function O(g,T){g(T),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Zh(c){var r,n;return r={},s("next"),s("throw",function(l){throw l}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(l,a){r[l]=c[l]?function(u){return(n=!n)?{value:$n(c[l](u)),done:!1}:a?a(u):u}:a}}function Qh(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=c[Symbol.asyncIterator],n;return r?r.call(c):(c=typeof ao=="function"?ao(c):c[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=c[a]&&function(u){return new Promise(function(d,f){u=c[a](u),l(d,f,u.done,u.value)})}}function l(a,u,d,f){Promise.resolve(f).then(function(m){a({value:m,done:d})},u)}}function Yh(c,r){return Object.defineProperty?Object.defineProperty(c,"raw",{value:r}):c.raw=r,c}var ag=Object.create?(function(c,r){Object.defineProperty(c,"default",{enumerable:!0,value:r})}):function(c,r){c.default=r},fl=function(c){return fl=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},fl(c)};function Xh(c){if(c&&c.__esModule)return c;var r={};if(c!=null)for(var n=fl(c),s=0;s<n.length;s++)n[s]!=="default"&&ho(r,c,n[s]);return ag(r,c),r}function ef(c){return c&&c.__esModule?c:{default:c}}function tf(c,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?c!==r||!s:!r.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(c):s?s.value:r.get(c)}function rf(c,r,n,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?c!==r||!l:!r.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(c,n):l?l.value=n:r.set(c,n),n}function nf(c,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof c=="function"?r===c:c.has(r)}function sf(c,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],n&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(a){return Promise.reject(a)}}),c.stack.push({value:r,dispose:s,async:n})}else n&&c.stack.push({async:!0});return r}var lg=typeof SuppressedError=="function"?SuppressedError:function(c,r,n){var s=new Error(n);return s.name="SuppressedError",s.error=c,s.suppressed=r,s};function of(c){function r(a){c.error=c.hasError?new lg(a,c.error,"An error was suppressed during disposal."):a,c.hasError=!0}var n,s=0;function l(){for(;n=c.stack.pop();)try{if(!n.async&&s===1)return s=0,c.stack.push(n),Promise.resolve().then(l);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(a).then(l,function(u){return r(u),l()})}else s|=1}catch(u){r(u)}if(s===1)return c.hasError?Promise.reject(c.error):Promise.resolve();if(c.hasError)throw c.error}return l()}function af(c,r){return typeof c=="string"&&/^\.\.?\//.test(c)?c.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,l,a,u){return s?r?".jsx":".js":l&&(!a||!u)?n:l+a+"."+u.toLowerCase()+"js"}):c}const ug={__extends:zh,__assign:oo,__rest:Mn,__decorate:Uh,__param:Lh,__esDecorate:Bh,__runInitializers:Fh,__propKey:$h,__setFunctionName:Mh,__metadata:Wh,__awaiter:Te,__generator:Vh,__createBinding:ho,__exportStar:qh,__values:ao,__read:Pl,__spread:Hh,__spreadArrays:Kh,__spreadArray:Gh,__await:$n,__asyncGenerator:Jh,__asyncDelegator:Zh,__asyncValues:Qh,__makeTemplateObject:Yh,__importStar:Xh,__importDefault:ef,__classPrivateFieldGet:tf,__classPrivateFieldSet:rf,__classPrivateFieldIn:nf,__addDisposableResource:sf,__disposeResources:of,__rewriteRelativeImportExtension:af},cg=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sf,get __assign(){return oo},__asyncDelegator:Zh,__asyncGenerator:Jh,__asyncValues:Qh,__await:$n,__awaiter:Te,__classPrivateFieldGet:tf,__classPrivateFieldIn:nf,__classPrivateFieldSet:rf,__createBinding:ho,__decorate:Uh,__disposeResources:of,__esDecorate:Bh,__exportStar:qh,__extends:zh,__generator:Vh,__importDefault:ef,__importStar:Xh,__makeTemplateObject:Yh,__metadata:Wh,__param:Lh,__propKey:$h,__read:Pl,__rest:Mn,__rewriteRelativeImportExtension:af,__runInitializers:Fh,__setFunctionName:Mh,__spread:Hh,__spreadArray:Gh,__spreadArrays:Kh,__values:ao,default:ug},Symbol.toStringTag,{value:"Module"})),dg=c=>c?(...r)=>c(...r):(...r)=>fetch(...r);class Cl extends Error{constructor(r,n="FunctionsError",s){super(r),this.name=n,this.context=s}}class Ad extends Cl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Rd extends Cl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Id extends Cl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var pl;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(pl||(pl={}));class hg{constructor(r,{headers:n={},customFetch:s,region:l=pl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=dg(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Te(this,arguments,void 0,function*(n,s={}){var l;try{const{headers:a,method:u,body:d,signal:f}=s;let m={},{region:b}=s;b||(b=this.region);const E=new URL(`${this.url}/${n}`);b&&b!=="any"&&(m["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let O;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",O=d):typeof d=="string"?(m["Content-Type"]="text/plain",O=d):typeof FormData<"u"&&d instanceof FormData?O=d:(m["Content-Type"]="application/json",O=JSON.stringify(d)):O=d;const g=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:O,signal:f}).catch(C=>{throw C.name==="AbortError"?C:new Ad(C)}),T=g.headers.get("x-relay-error");if(T&&T==="true")throw new Rd(g);if(!g.ok)throw new Id(g);let _=((l=g.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield g.json():_==="application/octet-stream"||_==="application/pdf"?x=yield g.blob():_==="text/event-stream"?x=g:_==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Ad(a)}:{data:null,error:a,response:a instanceof Id||a instanceof Rd?a.context:void 0}}})}}var _t={};const Wn=Dh(cg);var Zs={},Qs={},Ys={},Xs={},eo={},to={},jd;function lf(){if(jd)return to;jd=1,Object.defineProperty(to,"__esModule",{value:!0});class c extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return to.default=c,to}var Dd;function uf(){if(Dd)return eo;Dd=1,Object.defineProperty(eo,"__esModule",{value:!0});const r=Wn.__importDefault(lf());class n{constructor(l){var a,u;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(u=l.isMaybeSingle)!==null&&u!==void 0?u:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,b,E,O;let g=null,T=null,_=null,x=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const $=await f.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?T=$:T=JSON.parse($))}const j=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),F=(E=f.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");j&&F&&F.length>1&&(_=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(g={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,_=null,x=406,C="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const j=await f.text();try{g=JSON.parse(j),Array.isArray(g)&&f.status===404&&(T=[],g=null,x=200,C="OK")}catch{f.status===404&&j===""?(x=204,C="No Content"):g={message:j}}if(g&&this.isMaybeSingle&&(!((O=g==null?void 0:g.details)===null||O===void 0)&&O.includes("0 rows"))&&(g=null,x=200,C="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:T,count:_,status:x,statusText:C}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,b,E;return{error:{message:`${(m=f==null?void 0:f.name)!==null&&m!==void 0?m:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(b=f==null?void 0:f.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(E=f==null?void 0:f.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}}return eo.default=n,eo}var Nd;function cf(){if(Nd)return Xs;Nd=1,Object.defineProperty(Xs,"__esModule",{value:!0});const r=Wn.__importDefault(uf());class n extends r.default{select(l){let a=!1;const u=(l??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",b=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${b?`${b},`:""}${l}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${l}`),this}range(l,a,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this.url.searchParams.set(m,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var b;const E=[l?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),O=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${O}"; options=${E};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Xs.default=n,Xs}var zd;function Tl(){if(zd)return Ys;zd=1,Object.defineProperty(Ys,"__esModule",{value:!0});const r=Wn.__importDefault(cf()),n=new RegExp("[,()]");class s extends r.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const b=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${m}fts${b}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return Ys.default=s,Ys}var Ud;function df(){if(Ud)return Qs;Ud=1,Object.defineProperty(Qs,"__esModule",{value:!0});const r=Wn.__importDefault(Tl());class n{constructor(l,{headers:a={},schema:u,fetch:d}){this.url=l,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(l,a){const{head:u=!1,count:d}=a??{},f=u?"HEAD":"GET";let m=!1;const b=(l??"*").split("").map(E=>/\s/.test(E)&&!m?"":(E==='"'&&(m=!m),E)).join("");return this.url.searchParams.set("select",b),d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:u=!0}={}){var d;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(m.length>0){const b=[...new Set(m)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var m;const b="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const E=l.reduce((O,g)=>O.concat(Object.keys(g)),[]);if(E.length>0){const O=[...new Set(E)].map(g=>`"${g}"`);this.url.searchParams.set("columns",O.join(","))}}return new r.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var a;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Qs.default=n,Qs}var Ld;function fg(){if(Ld)return Zs;Ld=1,Object.defineProperty(Zs,"__esModule",{value:!0});const c=Wn,r=c.__importDefault(df()),n=c.__importDefault(Tl());class s{constructor(a,{headers:u={},schema:d,fetch:f}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(a){const u=new URL(`${this.url}/${a}`);return new r.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:f=!1,count:m}={}){var b;let E;const O=new URL(`${this.url}/rpc/${a}`);let g;d||f?(E=d?"HEAD":"GET",Object.entries(u).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{O.searchParams.append(_,x)})):(E="POST",g=u);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new n.default({method:E,url:O,headers:T,schema:this.schemaName,body:g,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Zs.default=s,Zs}var Bd;function pg(){if(Bd)return _t;Bd=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const c=Wn,r=c.__importDefault(fg());_t.PostgrestClient=r.default;const n=c.__importDefault(df());_t.PostgrestQueryBuilder=n.default;const s=c.__importDefault(Tl());_t.PostgrestFilterBuilder=s.default;const l=c.__importDefault(cf());_t.PostgrestTransformBuilder=l.default;const a=c.__importDefault(uf());_t.PostgrestBuilder=a.default;const u=c.__importDefault(lf());return _t.PostgrestError=u.default,_t.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:a.default,PostgrestError:u.default},_t}var hf=pg();const ff=xl(hf),mg=xm({__proto__:null,default:ff},[hf]),{PostgrestClient:gg,PostgrestQueryBuilder:A0,PostgrestFilterBuilder:R0,PostgrestTransformBuilder:I0,PostgrestBuilder:j0,PostgrestError:D0}=ff||mg;class vg{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const s=this.getWebSocketConstructor();return new s(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const yg="2.80.0",wg=`realtime-js/${yg}`,_g="1.0.0",ml=1e4,kg=1e3,bg=100;var ji;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(ji||(ji={}));var ut;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(ut||(ut={}));var rr;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(rr||(rr={}));var gl;(function(c){c.websocket="websocket"})(gl||(gl={}));var sn;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})(sn||(sn={}));class Sg{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),s=new TextDecoder;return this._decodeBroadcast(r,n,s)}_decodeBroadcast(r,n,s){const l=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(r.slice(u,u+l));u=u+l;const f=s.decode(r.slice(u,u+a));u=u+a;const m=JSON.parse(s.decode(r.slice(u,r.byteLength)));return{ref:null,topic:d,event:f,payload:m}}}class pf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(He||(He={}));const Fd=(c,r,n={})=>{var s;const l=(s=n.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((a,u)=>(a[u]=Eg(u,c,r,l),a),{}):{}},Eg=(c,r,n,s)=>{const l=r.find(d=>d.name===c),a=l==null?void 0:l.type,u=n[c];return a&&!s.includes(a)?mf(a,u):vl(u)},mf=(c,r)=>{if(c.charAt(0)==="_"){const n=c.slice(1,c.length);return Cg(r,n)}switch(c){case He.bool:return xg(r);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Og(r);case He.json:case He.jsonb:return Pg(r);case He.timestamp:return Tg(r);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return vl(r);default:return vl(r)}},vl=c=>c,xg=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},Og=c=>{if(typeof c=="string"){const r=parseFloat(c);if(!Number.isNaN(r))return r}return c},Pg=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(r){return console.log(`JSON parse error: ${r}`),c}return c},Cg=(c,r)=>{if(typeof c!="string")return c;const n=c.length-1,s=c[n];if(c[0]==="{"&&s==="}"){let a;const u=c.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>mf(r,d))}return c},Tg=c=>typeof c=="string"?c.replace(" ","T"):c,gf=c=>{const r=new URL(c);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class nl{constructor(r,n,s={},l=ml){this.channel=r,this.event=n,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var s;return this._hasReceived(r)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var $d;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})($d||($d={}));class Di{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,l,a,u),this.pendingDiffs.forEach(f=>{this.state=Di.syncDiff(this.state,f,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},l=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Di.syncDiff(this.state,l,a,u),d())}),this.onJoin((l,a,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:a,newPresences:u})}),this.onLeave((l,a,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,s,l){const a=this.cloneDeep(r),u=this.transformState(n),d={},f={};return this.map(a,(m,b)=>{u[m]||(f[m]=b)}),this.map(u,(m,b)=>{const E=a[m];if(E){const O=b.map(x=>x.presence_ref),g=E.map(x=>x.presence_ref),T=b.filter(x=>g.indexOf(x.presence_ref)<0),_=E.filter(x=>O.indexOf(x.presence_ref)<0);T.length>0&&(d[m]=T),_.length>0&&(f[m]=_)}else d[m]=b}),this.syncDiff(a,{joins:d,leaves:f},s,l)}static syncDiff(r,n,s,l){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(a,(d,f)=>{var m;const b=(m=r[d])!==null&&m!==void 0?m:[];if(r[d]=this.cloneDeep(f),b.length>0){const E=r[d].map(g=>g.presence_ref),O=b.filter(g=>E.indexOf(g.presence_ref)<0);r[d].unshift(...O)}s(d,b,f)}),this.map(u,(d,f)=>{let m=r[d];if(!m)return;const b=f.map(E=>E.presence_ref);m=m.filter(E=>b.indexOf(E.presence_ref)<0),r[d]=m,l(d,m,f),m.length===0&&delete r[d]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(s=>n(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,s)=>{const l=r[s];return"metas"in l?n[s]=l.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Md;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(Md||(Md={}));var Ni;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(Ni||(Ni={}));var vr;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class Al{constructor(r,n={config:{}},s){var l,a;if(this.topic=r,this.params=n,this.socket=s,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nl(this,rr.join,this.params,this.timeout),this.rejoinTimer=new pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Di(this),this.broadcastEndpointURL=gf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var s,l,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,m=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&l!==void 0?l:[],b=!!this.bindings[Ni.PRESENCE]&&this.bindings[Ni.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,E={},O={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:b}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(g=>r==null?void 0:r(vr.CHANNEL_ERROR,g)),this._onClose(()=>r==null?void 0:r(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:O},E)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var T;if(this.socket.setAuth(),g===void 0){r==null||r(vr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(T=_==null?void 0:_.length)!==null&&T!==void 0?T:0,C=[];for(let R=0;R<x;R++){const j=_[R],{filter:{event:F,schema:$,table:K,filter:G}}=j,ne=g&&g[R];if(ne&&ne.event===F&&ne.schema===$&&ne.table===K&&ne.filter===G)C.push(Object.assign(Object.assign({},j),{id:ne.id}));else{this.unsubscribe(),this.state=ut.errored,r==null||r(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,r&&r(vr.SUBSCRIBED);return}}).receive("error",g=>{this.state=ut.errored,r==null||r(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,s){return this.state===ut.joined&&r===Ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,s)}async httpSend(r,n,s={}){var l;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(r,n={}){var s,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=r,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,f;const m=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new nl(this,rr.leave,{},r),s.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(r,n,s){const l=new AbortController,a=setTimeout(()=>l.abort(),s),u=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(a),u}_push(r,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new nl(this,r,n,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>bg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,s){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,s){var l,a;const u=r.toLocaleLowerCase(),{close:d,error:f,leave:m,join:b}=rr;if(s&&[d,f,m,b].indexOf(u)>=0&&s!==this._joinRef())return;let O=this._onMessage(u,n,s);if(n&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(g=>{var T,_,x;return((T=g.filter)===null||T===void 0?void 0:T.event)==="*"||((x=(_=g.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===u}).map(g=>g.callback(O,s)):(a=this.bindings[u])===null||a===void 0||a.filter(g=>{var T,_,x,C,R,j;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in g){const F=g.id,$=(T=g.filter)===null||T===void 0?void 0:T.event;return F&&((_=n.ids)===null||_===void 0?void 0:_.includes(F))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const F=(R=(C=g==null?void 0:g.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return F==="*"||F===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===u}).map(g=>{if(typeof O=="object"&&"ids"in O){const T=O.data,{schema:_,table:x,commit_timestamp:C,type:R,errors:j}=T;O=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:C,eventType:R,new:{},old:{},errors:j}),this._getPayloadRecords(T))}g.callback(O,s)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,s){const l=r.toLocaleLowerCase(),a={type:l,filter:n,callback:s};return this.bindings[l]?this.bindings[l].push(a):this.bindings[l]=[a],this}_off(r,n){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var a;return!(((a=l.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Al.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const s in r)if(r[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(rr.close,{},r)}_onError(r){this._on(rr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Fd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Fd(r.columns,r.old_record)),n}}const il=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ag=[1e3,2e3,5e3,1e4],Rg=1e4,Ig=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jg{constructor(r,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ml,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=il,this.ref=0,this.reconnectTimer=null,this.logger=il,this.conn=null,this.sendBuffer=[],this.serializer=new Sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${gl.websocket}`,this.httpEndpoint=gf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_g}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,s){this.logger(r,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return sn.Connecting;case ji.open:return sn.Open;case ji.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const s=`realtime:${r}`,l=this.getChannels().find(a=>a.topic===s);if(l)return l;{const a=new Al(`realtime:${r}`,n,this);return this.channels.push(a),a}}push(r){const{topic:n,event:s,payload:l,ref:a}=r,u=()=>{this.encode(r,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${s} (${a})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(kg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:a,ref:u}=n,d=u?`(${u})`:"",f=a.status||"";this.log("receive",`${f} ${s} ${l} ${d}`.trim(),a),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(l,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(rr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const s=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${s}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const s=new Blob([Ig],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const l={access_token:n,version:wg};n&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(rr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new pf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,s,l,a,u,d,f,m,b;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(s=r==null?void 0:r.timeout)!==null&&s!==void 0?s:ml,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:ro.HEARTBEAT_INTERVAL,this.worker=(a=r==null?void 0:r.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=r==null?void 0:r.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=r==null?void 0:r.heartbeatCallback)!==null&&d!==void 0?d:il,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=r==null?void 0:r.reconnectAfterMs)!==null&&f!==void 0?f:(E=>Ag[E-1]||Rg),this.encode=(m=r==null?void 0:r.encode)!==null&&m!==void 0?m:((E,O)=>O(JSON.stringify(E))),this.decode=(b=r==null?void 0:r.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class Rl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Xe(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class Dg extends Rl{constructor(r,n,s){super(r),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yl extends Rl{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const Il=c=>c?(...r)=>c(...r):(...r)=>fetch(...r),Ng=()=>Response,wl=c=>{if(Array.isArray(c))return c.map(n=>wl(n));if(typeof c=="function"||c!==Object(c))return c;const r={};return Object.entries(c).forEach(([n,s])=>{const l=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));r[l]=wl(s)}),r},zg=c=>{if(typeof c!="object"||c===null)return!1;const r=Object.getPrototypeOf(c);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)},sl=c=>{var r;return c.msg||c.message||c.error_description||(typeof c.error=="string"?c.error:(r=c.error)===null||r===void 0?void 0:r.message)||JSON.stringify(c)},Ug=(c,r,n)=>Te(void 0,void 0,void 0,function*(){const s=yield Ng();c instanceof s&&!(n!=null&&n.noResolveJson)?c.json().then(l=>{const a=c.status||500,u=(l==null?void 0:l.statusCode)||a+"";r(new Dg(sl(l),a,u))}).catch(l=>{r(new yl(sl(l),l))}):r(new yl(sl(c),c))}),Lg=(c,r,n,s)=>{const l={method:c,headers:(r==null?void 0:r.headers)||{}};return c==="GET"||!s?l:(zg(s)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(s)):l.body=s,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Bi(c,r,n,s,l,a){return Te(this,void 0,void 0,function*(){return new Promise((u,d)=>{c(n,Lg(r,s,l,a)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>Ug(f,d,s))})})}function zi(c,r,n,s){return Te(this,void 0,void 0,function*(){return Bi(c,"GET",r,n,s)})}function tr(c,r,n,s,l){return Te(this,void 0,void 0,function*(){return Bi(c,"POST",r,s,l,n)})}function _l(c,r,n,s,l){return Te(this,void 0,void 0,function*(){return Bi(c,"PUT",r,s,l,n)})}function Bg(c,r,n,s){return Te(this,void 0,void 0,function*(){return Bi(c,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function jl(c,r,n,s,l){return Te(this,void 0,void 0,function*(){return Bi(c,"DELETE",r,s,l,n)})}class Fg{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return Te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}}var vf;class $g{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[vf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fg(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}}vf=Symbol.toStringTag;const Mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wg{constructor(r,n={},s,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=s,this.fetch=Il(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,s,l){return Te(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Wd),l);let d=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),l!=null&&l.headers&&(d=Object.assign(Object.assign({},d),l.headers));const m=this._removeEmptyFolders(n),b=this._getFinalPath(m),E=yield(r=="PUT"?_l:tr)(this.fetch,`${this.url}/object/${b}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:E.Id,fullPath:E.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}upload(r,n,s){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,s)})}uploadToSignedUrl(r,n,s,l){return Te(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(r),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:Wd.upsert},l),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",m.cacheControl)):(f=s,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType);const E=yield _l(this.fetch,d.toString(),f,{headers:b});return{data:{path:a,fullPath:E.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Xe(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(r,n){return Te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const a=yield tr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Rl("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}update(r,n,s){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,s)})}move(r,n,s){return Te(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}copy(r,n,s){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,s){return Te(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),a=yield tr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,s){return Te(this,void 0,void 0,function*(){try{const l=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"",d=this._getFinalPath(r),f=()=>zi(this.fetch,`${this.url}/${l}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new $g(f,this.shouldThrowOnError)}info(r){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const s=yield zi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wl(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}exists(r){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield Bg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s)&&s instanceof yl){const l=s.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,n){const s=this._getFinalPath(r),l=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&l.push(a);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(r){return Te(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}list(r,n,s){return Te(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Mg),n),{prefix:r||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}listV2(r,n){return Te(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const yf="2.80.0",wf={"X-Client-Info":`storage-js/${yf}`};class Vg{constructor(r,n={},s,l){this.shouldThrowOnError=!1;const a=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wf),n),this.fetch=Il(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return Te(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield zi(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}getBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}createBucket(r){return Te(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return Te(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}emptyBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class qg{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wf),n),this.fetch=Il(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBuckets(r){return Te(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const s=n.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield zi(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}}const Dl={"X-Client-Info":`storage-js/${yf}`,"Content-Type":"application/json"};class _f extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(c){return typeof c=="object"&&c!==null&&"__isStorageVectorsError"in c}class ol extends _f{constructor(r,n,s){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hg extends _f{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Vd;(function(c){c.InternalError="InternalError",c.S3VectorConflictException="S3VectorConflictException",c.S3VectorNotFoundException="S3VectorNotFoundException",c.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",c.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",c.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Vd||(Vd={}));const Nl=c=>c?(...r)=>c(...r):(...r)=>fetch(...r),Kg=c=>{if(typeof c!="object"||c===null)return!1;const r=Object.getPrototypeOf(c);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)},qd=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),Gg=(c,r,n)=>Te(void 0,void 0,void 0,function*(){if(c&&typeof c=="object"&&"status"in c&&"ok"in c&&typeof c.status=="number"&&!(n!=null&&n.noResolveJson)){const l=c.status||500,a=c;if(typeof a.json=="function")a.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||l+"";r(new ol(qd(u),l,d))}).catch(()=>{const u=l+"",d=a.statusText||`HTTP ${l} error`;r(new ol(d,l,u))});else{const u=l+"",d=a.statusText||`HTTP ${l} error`;r(new ol(d,l,u))}}else r(new Hg(qd(c),c))}),Jg=(c,r,n,s)=>{const l={method:c,headers:(r==null?void 0:r.headers)||{}};return s?(Kg(s)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),n)):l};function Zg(c,r,n,s,l,a){return Te(this,void 0,void 0,function*(){return new Promise((u,d)=>{c(n,Jg(r,s,l,a)).then(f=>{if(!f.ok)throw f;if(s!=null&&s.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>Gg(f,d,s))})})}function Ut(c,r,n,s,l){return Te(this,void 0,void 0,function*(){return Zg(c,"POST",r,s,l,n)})}class Qg{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dl),n),this.fetch=Nl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return Te(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return Te(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}listIndexes(r){return Te(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return Te(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}}class Yg{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dl),n),this.fetch=Nl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return Te(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ut(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getVectors(r){return Te(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listVectors(r){return Te(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield Ut(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}queryVectors(r){return Te(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return Te(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ut(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}}class Xg{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dl),n),this.fetch=Nl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listBuckets(){return Te(this,arguments,void 0,function*(r={}){try{return{data:yield Ut(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Te(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}}class ev extends Xg{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new tv(this.url,this.headers,r,this.fetch)}}class tv extends Qg{constructor(r,n,s,l){super(r,n,l),this.vectorBucketName=s}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Te(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Te(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Te(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Te(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new rv(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class rv extends Yg{constructor(r,n,s,l,a){super(r,n,a),this.vectorBucketName=s,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Te(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Te(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Te(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Te(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Te(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class nv extends Vg{constructor(r,n={},s,l){super(r,n,s,l)}from(r){return new Wg(this.url,this.headers,r,this.fetch)}get vectors(){return new ev(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qg(this.url+"/iceberg",this.headers,this.fetch)}}const iv="2.80.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const sv={"X-Client-Info":`supabase-js-${Ri}/${iv}`},ov={headers:sv},av={schema:"public"},lv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uv={},cv=c=>c?(...r)=>c(...r):(...r)=>fetch(...r),dv=()=>Headers,hv=(c,r,n)=>{const s=cv(n),l=dv();return async(a,u)=>{var d;const f=(d=await r())!==null&&d!==void 0?d:c;let m=new l(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",c),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(a,Object.assign(Object.assign({},u),{headers:m}))}};function fv(c){return c.endsWith("/")?c:c+"/"}function pv(c,r){var n,s;const{db:l,auth:a,realtime:u,global:d}=c,{db:f,auth:m,realtime:b,global:E}=r,O={db:Object.assign(Object.assign({},f),l),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},b),u),storage:{},global:Object.assign(Object.assign(Object.assign({},E),d),{headers:Object.assign(Object.assign({},(n=E==null?void 0:E.headers)!==null&&n!==void 0?n:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return c.accessToken?O.accessToken=c.accessToken:delete O.accessToken,O}function mv(c){const r=c==null?void 0:c.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kf="2.80.0",Ln=30*1e3,kl=3,al=kl*Ln,gv="http://localhost:9999",vv="supabase.auth.token",yv={"X-Client-Info":`gotrue-js/${kf}`},bl="X-Supabase-Api-Version",bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_v=600*1e3;class Ui extends Error{constructor(r,n,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ae(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class kv extends Ui{constructor(r,n,s){super(r,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function bv(c){return Ae(c)&&c.name==="AuthApiError"}class on extends Ui{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Br extends Ui{constructor(r,n,s,l){super(r,s,l),this.name=n,this.status=s}}class Xt extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sv(c){return Ae(c)&&c.name==="AuthSessionMissingError"}class jn extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends Br{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class io extends Br{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ev(c){return Ae(c)&&c.name==="AuthImplicitGrantRedirectError"}class Hd extends Br{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sl extends Br{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function ll(c){return Ae(c)&&c.name==="AuthRetryableFetchError"}class Kd extends Br{constructor(r,n,s){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class El extends Br{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gd=` 	
\r=`.split(""),xv=(()=>{const c=new Array(128);for(let r=0;r<c.length;r+=1)c[r]=-1;for(let r=0;r<Gd.length;r+=1)c[Gd[r].charCodeAt(0)]=-2;for(let r=0;r<lo.length;r+=1)c[lo[r].charCodeAt(0)]=r;return c})();function Jd(c,r,n){if(c!==null)for(r.queue=r.queue<<8|c,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(lo[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(lo[s]),r.queuedBits-=6}}function Sf(c,r,n){const s=xv[c];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function Zd(c){const r=[],n=u=>{r.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},a=u=>{Cv(u,s,n)};for(let u=0;u<c.length;u+=1)Sf(c.charCodeAt(u),l,a);return r.join("")}function Ov(c,r){if(c<=127){r(c);return}else if(c<=2047){r(192|c>>6),r(128|c&63);return}else if(c<=65535){r(224|c>>12),r(128|c>>6&63),r(128|c&63);return}else if(c<=1114111){r(240|c>>18),r(128|c>>12&63),r(128|c>>6&63),r(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function Pv(c,r){for(let n=0;n<c.length;n+=1){let s=c.charCodeAt(n);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(c.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Ov(s,r)}}function Cv(c,r,n){if(r.utf8seq===0){if(c<=127){n(c);return}for(let s=1;s<6;s+=1)if((c>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=c&31;else if(r.utf8seq===3)r.codepoint=c&15;else if(r.utf8seq===4)r.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|c&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Fn(c){const r=[],n={queue:0,queuedBits:0},s=l=>{r.push(l)};for(let l=0;l<c.length;l+=1)Sf(c.charCodeAt(l),n,s);return new Uint8Array(r)}function Tv(c){const r=[];return Pv(c,n=>r.push(n)),new Uint8Array(r)}function an(c){const r=[],n={queue:0,queuedBits:0},s=l=>{r.push(l)};return c.forEach(l=>Jd(l,n,s)),Jd(null,n,s),r.join("")}function Av(c){return Math.round(Date.now()/1e3)+c}function Rv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const r=Math.random()*16|0;return(c=="x"?r:r&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},Ef=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function Iv(c){const r={},n=new URL(c);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,a)=>{r[a]=l})}catch{}return n.searchParams.forEach((s,l)=>{r[l]=s}),r}const xf=c=>c?(...r)=>c(...r):(...r)=>fetch(...r),jv=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",Bn=async(c,r,n)=>{await c.setItem(r,JSON.stringify(n))},tn=async(c,r)=>{const n=await c.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ur=async(c,r)=>{await c.removeItem(r)};class fo{constructor(){this.promise=new fo.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}fo.promiseConstructor=Promise;function ul(c){const r=c.split(".");if(r.length!==3)throw new El("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!wv.test(r[s]))throw new El("JWT not in base64url format");return{header:JSON.parse(Zd(r[0])),payload:JSON.parse(Zd(r[1])),signature:Fn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Dv(c){return await new Promise(r=>{setTimeout(()=>r(null),c)})}function Nv(c,r){return new Promise((s,l)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await c(a);if(!r(a,null,u)){s(u);return}}catch(u){if(!r(a,u)){l(u);return}}})()})}function zv(c){return("0"+c.toString(16)).substr(-2)}function Uv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let l="";for(let a=0;a<56;a++)l+=n.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(r),Array.from(r,zv).join("")}async function Lv(c){const n=new TextEncoder().encode(c),s=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(s);return Array.from(l).map(a=>String.fromCharCode(a)).join("")}async function Bv(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const n=await Lv(c);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(c,r,n=!1){const s=Uv();let l=s;n&&(l+="/PASSWORD_RECOVERY"),await Bn(c,`${r}-code-verifier`,l);const a=await Bv(s);return[a,s===a?"plain":"s256"]}const Fv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $v(c){const r=c.headers.get(bl);if(!r||!r.match(Fv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Mv(c){if(!c)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(c<=r)throw new Error("JWT has expired")}function Wv(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nn(c){if(!Vv.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cl(){const c={};return new Proxy(c,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qv(c,r){return new Proxy(c,{get:(n,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,l)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,s,l)}})}function Qd(c){return JSON.parse(JSON.stringify(c))}const nn=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),Hv=[502,503,504];async function Yd(c){var r;if(!jv(c))throw new Sl(nn(c),0);if(Hv.includes(c.status))throw new Sl(nn(c),c.status);let n;try{n=await c.json()}catch(a){throw new on(nn(a),a)}let s;const l=$v(c);if(l&&l.getTime()>=bf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Kd(nn(n),c.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new Xt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Kd(nn(n),c.status,n.weak_password.reasons);throw new kv(nn(n),c.status||500,s)}const Kv=(c,r,n,s)=>{const l={method:c,headers:(r==null?void 0:r.headers)||{}};return c==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),n))};async function De(c,r,n,s){var l;const a=Object.assign({},s==null?void 0:s.headers);a[bl]||(a[bl]=bf["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const u=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Gv(c,r,n+d,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function Gv(c,r,n,s,l,a){const u=Kv(r,s,l,a);let d;try{d=await c(n,Object.assign({},u))}catch(f){throw console.error(f),new Sl(nn(f),0)}if(d.ok||await Yd(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(f){await Yd(f)}}function er(c){var r;let n=null;Qv(c)&&(n=Object.assign({},c),c.expires_at||(n.expires_at=Av(c.expires_in)));const s=(r=c.user)!==null&&r!==void 0?r:c;return{data:{session:n,user:s},error:null}}function Xd(c){const r=er(c);return!r.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(r.data.weak_password=c.weak_password),r}function Lr(c){var r;return{data:{user:(r=c.user)!==null&&r!==void 0?r:c},error:null}}function Jv(c){return{data:c,error:null}}function Zv(c){const{action_link:r,email_otp:n,hashed_token:s,redirect_to:l,verification_type:a}=c,u=Mn(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:r,email_otp:n,hashed_token:s,redirect_to:l,verification_type:a},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function eh(c){return c}function Qv(c){return c.access_token&&c.refresh_token&&c.expires_in}const dl=["global","local","others"];class Yv{constructor({url:r="",headers:n={},fetch:s}){this.url=r,this.headers=n,this.fetch=xf(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=dl[0]){if(dl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dl.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,n={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lr})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:n}=r,s=Mn(r,["options"]),l=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(l.new_email=s==null?void 0:s.newEmail,delete l.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Zv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Lr})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,s,l,a,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},b=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&a!==void 0?a:""},xform:eh});if(b.error)throw b.error;const E=await b.json(),O=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,g=(f=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return g.length>0&&(g.forEach(T=>{const _=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(T.split(";")[1].split("=")[1]);m[`${x}Page`]=_}),m.total=parseInt(O)),{data:Object.assign(Object.assign({},E),m),error:null}}catch(m){if(Ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){Nn(r);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Lr})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Nn(r);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Lr})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,n=!1){Nn(r);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lr})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){Nn(r.userId);try{const{data:n,error:s}=await De(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:s}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Nn(r.userId),Nn(r.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,s,l,a,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},b=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&a!==void 0?a:""},xform:eh});if(b.error)throw b.error;const E=await b.json(),O=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,g=(f=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return g.length>0&&(g.forEach(T=>{const _=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(T.split(";")[1].split("=")[1]);m[`${x}Page`]=_}),m.total=parseInt(O)),{data:Object.assign(Object.assign({},E),m),error:null}}catch(m){if(Ae(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(r){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}function th(c={}){return{getItem:r=>c[r]||null,setItem:(r,n)=>{c[r]=n},removeItem:r=>{delete c[r]}}}const zn={debug:!!(globalThis&&Ef()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Xv extends Of{}async function e0(c,r,n){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,l.name);try{return await n()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,l.name)}}else{if(r===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new Xv(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(zn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function t0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pf(c){if(!/^0x[a-fA-F0-9]{40}$/.test(c))throw new Error(`@supabase/auth-js: Address "${c}" is invalid.`);return c.toLowerCase()}function r0(c){return parseInt(c,16)}function n0(c){const r=new TextEncoder().encode(c);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function i0(c){var r;const{chainId:n,domain:s,expirationTime:l,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:f,resources:m,scheme:b,uri:E,version:O}=c;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(O!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${O}`);if(!((r=c.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${c.statement}`)}const g=Pf(c.address),T=b?`${b}://${s}`:s,_=c.statement?`${c.statement}
`:"",x=`${T} wants you to sign in with your Ethereum account:
${g}

${_}`;let C=`URI: ${E}
Version: ${O}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(l&&(C+=`
Expiration Time: ${l.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),f&&(C+=`
Request ID: ${f}`),m){let R=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);R+=`
- ${j}`}C+=R}return`${x}
${C}`}class st extends Error{constructor({message:r,code:n,cause:s,name:l}){var a;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=l??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class uo extends st{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function s0({error:c,options:r}){var n,s,l;const{publicKey:a}=r;if(!a)throw Error("options was missing required publicKey property");if(c.name==="AbortError"){if(r.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:c})}else if(c.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:c});if(r.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:c});if(((l=a.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:c})}else{if(c.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:c});if(c.name==="NotAllowedError")return new st({message:c.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c});if(c.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:c}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:c});if(c.name==="SecurityError"){const u=window.location.hostname;if(Cf(u)){if(a.rp.id!==u)return new st({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:c})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:c})}else if(c.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:c})}else if(c.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:c})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c})}function o0({error:c,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(c.name==="AbortError"){if(r.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:c})}else{if(c.name==="NotAllowedError")return new st({message:c.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c});if(c.name==="SecurityError"){const s=window.location.hostname;if(Cf(s)){if(n.rpId!==s)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:c})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:c})}else if(c.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:c})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c})}class a0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const l0=new a0;function u0(c){if(!c)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(c);const{challenge:r,user:n,excludeCredentials:s}=c,l=Mn(c,["challenge","user","excludeCredentials"]),a=Fn(r).buffer,u=Object.assign(Object.assign({},n),{id:Fn(n.id).buffer}),d=Object.assign(Object.assign({},l),{challenge:a,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Fn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function c0(c){if(!c)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(c);const{challenge:r,allowCredentials:n}=c,s=Mn(c,["challenge","allowCredentials"]),l=Fn(r).buffer,a=Object.assign(Object.assign({},s),{challenge:l});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Fn(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function d0(c){var r;if("toJSON"in c&&typeof c.toJSON=="function")return c.toJSON();const n=c;return{id:c.id,rawId:c.id,response:{attestationObject:an(new Uint8Array(c.response.attestationObject)),clientDataJSON:an(new Uint8Array(c.response.clientDataJSON))},type:"public-key",clientExtensionResults:c.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function h0(c){var r;if("toJSON"in c&&typeof c.toJSON=="function")return c.toJSON();const n=c,s=c.getClientExtensionResults(),l=c.response;return{id:c.id,rawId:c.id,response:{authenticatorData:an(new Uint8Array(l.authenticatorData)),clientDataJSON:an(new Uint8Array(l.clientDataJSON)),signature:an(new Uint8Array(l.signature)),userHandle:l.userHandle?an(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Cf(c){return c==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(c)}function rh(){var c,r;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((c=navigator==null?void 0:navigator.credentials)===null||c===void 0?void 0:c.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function f0(c){try{const r=await navigator.credentials.create(c);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",r)}:{data:null,error:new uo("Empty credential response",r)}}catch(r){return{data:null,error:s0({error:r,options:c})}}}async function p0(c){try{const r=await navigator.credentials.get(c);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",r)}:{data:null,error:new uo("Empty credential response",r)}}catch(r){return{data:null,error:o0({error:r,options:c})}}}const m0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},g0={userVerification:"preferred",hints:["security-key"]};function co(...c){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of c)if(l)for(const a in l){const u=l[a];if(u!==void 0)if(Array.isArray(u))s[a]=u;else if(n(u))s[a]=u;else if(r(u)){const d=s[a];r(d)?s[a]=co(d,u):s[a]=co(u)}else s[a]=u}return s}function v0(c,r){return co(m0,c,r||{})}function y0(c,r){return co(g0,c,r||{})}class w0{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:s,signal:l},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!u)return{data:null,error:d};const f=l??l0.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=v0(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:b,error:E}=await f0({publicKey:m,signal:f});return b?{data:{factorId:r,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:E}}case"request":{const m=y0(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:b,error:E}=await p0(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return b?{data:{factorId:r,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:E}}}}catch(u){return Ae(u)?{data:null,error:u}:{data:null,error:new on("Unexpected error in challenge",u)}}}async _verify({challengeId:r,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}},a){if(!n)return{data:null,error:new Ui("rpId is required for WebAuthn authentication")};try{if(!rh())return{data:null,error:new on("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:s},signal:l},{request:a});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:r,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:s,credential_response:f.credential_response}})}catch(u){return Ae(u)?{data:null,error:u}:{data:null,error:new on("Unexpected error in authenticate",u)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l},a){if(!n)return{data:null,error:new Ui("rpId is required for WebAuthn registration")};try{if(!rh())return{data:null,error:new on("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:r});if(!u)return await this.client.mfa.listFactors().then(b=>{var E;return(E=b.data)===null||E===void 0?void 0:E.all.find(O=>O.factor_type==="webauthn"&&O.friendly_name===r&&O.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:l},{create:a});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Ae(u)?{data:null,error:u}:{data:null,error:new on("Unexpected error in register",u)}}}}t0();const _0={url:gv,storageKey:vv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function nh(c,r,n){return await n()}const Un={};class Li{get jwks(){var r,n;return(n=(r=Un[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Un[this.storageKey]=Object.assign(Object.assign({},Un[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Un[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Un[this.storageKey]=Object.assign(Object.assign({},Un[this.storageKey]),{cachedAt:r})}constructor(r){var n,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},_0),r);if(this.storageKey=a.storageKey,this.instanceID=(n=Li.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Li.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&kt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yv({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xf(a.fetch),this.lock=a.lock||nh,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:kt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=e0:this.lock=nh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ef()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=th(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=th(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},s="none";if(kt()&&(n=Iv(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),kt()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ev(a)){const f=(r=a.details)===null||r===void 0?void 0:r.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?this._returnResult({error:n}):this._returnResult({error:new on("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,s,l;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:er}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(r){var n,s,l;try{let a;if("email"in r){const{email:b,password:E,options:O}=r;let g=null,T=null;this.flowType==="pkce"&&([g,T]=await Dn(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O==null?void 0:O.emailRedirectTo,body:{email:b,password:E,data:(n=O==null?void 0:O.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken},code_challenge:g,code_challenge_method:T},xform:er})}else if("phone"in r){const{phone:b,password:E,options:O}=r;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:E,data:(s=O==null?void 0:O.data)!==null&&s!==void 0?s:{},channel:(l=O==null?void 0:O.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken}},xform:er})}else throw new no("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(r){try{let n;if("email"in r){const{email:a,password:u,options:d}=r;n=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Xd})}else if("phone"in r){const{phone:a,password:u,options:d}=r;n=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Xd})}else throw new no("You must provide either an email or phone number and a password");const{data:s,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const a=new jn;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,s,l,a;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(a=r.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,s,l,a,u,d,f,m,b,E,O;let g,T;if("message"in r)g=r.message,T=r.signature;else{const{chain:_,wallet:x,statement:C,options:R}=r;let j;if(kt())if(typeof x=="object")j=x;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")j=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const F=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href),$=await j.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Pf($[0]);let G=(s=R==null?void 0:R.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!G){const Q=await j.request({method:"eth_chainId"});G=r0(Q)}const ne={domain:F.host,address:K,statement:C,uri:F.href,version:"1",chainId:G,nonce:(l=R==null?void 0:R.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=R==null?void 0:R.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=R==null?void 0:R.signInWithEthereum)===null||b===void 0?void 0:b.resources};g=i0(ne),T=await j.request({method:"personal_sign",params:[n0(g),K]})}try{const{data:_,error:x}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:T},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(O=r.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:er});if(x)throw x;if(!_||!_.session||!_.user){const C=new jn;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(Ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(r){var n,s,l,a,u,d,f,m,b,E,O,g;let T,_;if("message"in r)T=r.message,_=r.signature;else{const{chain:x,wallet:C,statement:R,options:j}=r;let F;if(kt())if(typeof C=="object")F=C;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))F=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=C}const $=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const K=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),R?{statement:R}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)T=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),_=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${$.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(l=(s=j==null?void 0:j.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j==null?void 0:j.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((E=(b=j==null?void 0:j.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||E===void 0)&&E.length?["Resources",...j.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=await F.signMessage(new TextEncoder().encode(T),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=K}}try{const{data:x,error:C}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:an(_)},!((O=r.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(g=r.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:er});if(C)throw C;if(!x||!x.session||!x.user){const R=new jn;return this._returnResult({data:{user:null,session:null},error:R})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:C})}catch(x){if(Ae(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(r){const n=await tn(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(n??"").split("/");try{const{data:a,error:u}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:er});if(await Ur(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:l??null}),error:u})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(r){try{const{options:n,provider:s,token:l,access_token:a,nonce:u}=r,d=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:er}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const b=new jn;return this._returnResult({data:{user:null,session:null},error:b})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,s,l,a,u;try{if("email"in r){const{email:d,options:f}=r;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Dn(this.storage,this.storageKey));const{error:E}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in r){const{phone:d,options:f}=r,{data:m,error:b}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(l=f==null?void 0:f.data)!==null&&l!==void 0?l:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:b})}throw new no("You must provide either an email or phone number.")}catch(d){if(Ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(r){var n,s;try{let l,a;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,a=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:a}}),redirectTo:l,xform:er});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(Ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,s,l;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await Dn(this.storage,this.storageKey));const d=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:Jv});return this._returnResult(d)}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;if(s)throw s;if(!n)throw new Xt;const{error:l}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:s,type:l,options:a}=r,{error:u}=await De(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in r){const{phone:s,type:l,options:a}=r,{data:u,error:d}=await De(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new no("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<al:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const u=await tn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?r.user=u.user:r.user=cl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};r.user=qv(r.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:a}=await this._callRefreshToken(r.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Lr}):await this._useSession(async n=>{var s,l,a;const{data:u,error:d}=n;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:void 0,xform:Lr})})}catch(n){if(Ae(n))return Sv(n)&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async s=>{const{data:l,error:a}=s;if(a)throw a;if(!l.session)throw new Xt;const u=l.session;let d=null,f=null;this.flowType==="pkce"&&r.email!=null&&([d,f]=await Dn(this.storage,this.storageKey));const{data:m,error:b}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Lr});if(b)throw b;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(Ae(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Xt;const n=Date.now()/1e3;let s=n,l=!0,a=null;const{payload:u}=ul(r.access_token);if(u.exp&&(s=u.exp,l=s<=n),l){const{data:d,error:f}=await this._callRefreshToken(r.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(r.access_token);if(f)throw f;a={access_token:r.access_token,refresh_token:r.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var s;if(!r){const{data:u,error:d}=n;if(d)throw d;r=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(r!=null&&r.refresh_token))throw new Xt;const{data:l,error:a}=await this._callRefreshToken(r.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!kt())throw new io("No browser detected.");if(r.error||r.error_description||r.error_code)throw new io(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Hd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new io("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Hd("No code detected.");const{data:R,error:j}=await this._exchangeCodeForSession(r.code);if(j)throw j;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:a,refresh_token:u,expires_in:d,expires_at:f,token_type:m}=r;if(!a||!d||!u||!m)throw new io("No session defined in URL");const b=Math.round(Date.now()/1e3),E=parseInt(d);let O=b+E;f&&(O=parseInt(f));const g=O-b;g*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${E}s`);const T=O-E;b-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,O,b):b-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,O,b);const{data:_,error:x}=await this._getUser(a);if(x)throw x;const C={provider_token:s,provider_refresh_token:l,access_token:a,expires_in:E,expires_at:O,refresh_token:u,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:r.type},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await tn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:l,error:a}=n;if(a)return this._returnResult({error:a});const u=(s=l.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,r);if(d&&!(bv(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return r!=="others"&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Rv(),s={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async n=>{var s,l;try{const{data:{session:a},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",r,"session",a)}catch(a){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",a),console.error(a)}})}async resetPasswordForEmail(r,n={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Dn(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var r;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:s,error:l}=await this._useSession(async a=>{var u,d,f,m,b;const{data:E,error:O}=a;if(O)throw O;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(u=r.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=r.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=r.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",g,{headers:this.headers,jwt:(b=(m=E.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return kt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:r.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var s;try{const{error:l,data:{session:a}}=n;if(l)throw l;const{options:u,provider:d,token:f,access_token:m,nonce:b}=r,E=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:f,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:er}),{data:O,error:g}=E;return g?this._returnResult({data:{user:null,session:null},error:g}):!O||!O.session||!O.user?this._returnResult({data:{user:null,session:null},error:new jn}):(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("USER_UPDATED",O.session)),this._returnResult({data:O,error:g}))}catch(l){if(Ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var s,l;const{data:a,error:u}=n;if(u)throw u;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Nv(async l=>(l>0&&await Dv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:er})),(l,a)=>{const u=200*Math.pow(2,l);return a&&ll(a)&&Date.now()+u-s<Ln})}catch(s){if(this._debug(n,"error",s),Ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",s),kt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await tn(this.storage,this.storageKey);if(l&&this.userStorage){let u=await tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await Bn(this.userStorage,this.storageKey+"-user",u)),l.user=(r=u==null?void 0:u.user)!==null&&r!==void 0?r:cl()}else if(l&&!l.user&&!l.user){const u=await tn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(l.user=u.user,await Ur(this.storage,this.storageKey+"-user"),await Bn(this.storage,this.storageKey,l)):l.user=cl()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const a=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<al;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${al}s`),a){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),ll(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(l.access_token);!d&&(u!=null&&u.user)?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var n,s;if(!r)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new fo;const{data:a,error:u}=await this._refreshAccessToken(r);if(u)throw u;if(!a.session)throw new Xt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(l,"error",a),Ae(a)){const u={data:null,error:a};return ll(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,s=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(r,n)}catch(f){a.push(f)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Bn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const a=Qd(l);await Bn(this.storage,this.storageKey,a)}else{const l=Qd(n);await Bn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Ur(this.storage,this.storageKey),await Ur(this.storage,this.storageKey+"-code-verifier"),await Ur(this.storage,this.storageKey+"-user"),this.userStorage&&await Ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-r)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Ln}ms, refresh threshold is ${kl} ticks`),l<=kl&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Of)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,s){const l=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,u]=await Dn(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(d.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);l.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var s;const{data:l,error:a}=n;return a?this._returnResult({data:null,error:a}):await De(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var s,l;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:f,error:m}=await De(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(r.factorType==="totp"&&f.type==="totp"&&(!((l=f==null?void 0:f.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?d0(r.webauthn.credential_response):h0(r.webauthn.credential_response)})}:{code:r.code}),{data:d,error:f}=await De(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await De(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:u0(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:c0(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const a of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(a),a.status==="verified"&&l[a.factor_type].push(a);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ul(s.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const m=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async s=>{const{data:{session:l},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!l)return this._returnResult({data:null,error:new Xt});const u=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,n){try{return await this._useSession(async s=>{const{data:{session:l},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!l)return this._returnResult({data:null,error:new Xt});const u=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,n={keys:[]}){let s=n.keys.find(d=>d.kid===r);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(d=>d.kid===r),s&&this.jwks_cached_at+_v>l)return s;const{data:a,error:u}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=l,s=a.keys.find(d=>d.kid===r),!s)?null:s}async getClaims(r,n={}){try{let s=r;if(!s){const{data:g,error:T}=await this.getSession();if(T||!g.session)return this._returnResult({data:null,error:T});s=g.session.access_token}const{header:l,payload:a,signature:u,raw:{header:d,payload:f}}=ul(s);n!=null&&n.allowExpired||Mv(a.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:l,signature:u},error:null}}const b=Wv(l.alg),E=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,E,u,Tv(`${d}.${f}`)))throw new El("Invalid JWT signature");return{data:{claims:a,header:l,signature:u},error:null}}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}}Li.nextInstanceID={};const k0=Li;class b0 extends k0{constructor(r){super(r)}}class S0{constructor(r,n,s){var l,a,u;this.supabaseUrl=r,this.supabaseKey=n;const d=mv(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:av,realtime:uv,auth:Object.assign(Object.assign({},lv),{storageKey:f}),global:ov},b=pv(s??{},m);this.storageKey=(l=b.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(a=b.global.headers)!==null&&a!==void 0?a:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(E,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=b.auth)!==null&&u!==void 0?u:{},this.headers,b.global.fetch),this.fetch=hv(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new gg(new URL("rest/v1",d).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new nv(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new hg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,s)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:a,storageKey:u,flowType:d,lock:f,debug:m,throwOnError:b},E,O){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b0({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),E),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:a,flowType:d,lock:f,debug:m,throwOnError:b,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new jg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(r,n,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E0=(c,r,n)=>new S0(c,r,n);function x0(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const r=c.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}x0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O0="https://jdlntvmiebyvkvtzeadp.supabase.co",P0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkbG50dm1pZWJ5dmt2dHplYWRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2Nzc4MDEsImV4cCI6MjA3ODI1MzgwMX0.hQxLZ9qwTeozcup_AiyQZ9LNkTVizzI7-eH9az7W7VA",rn=E0(O0,P0);function C0(){const[c,r]=nt.useState(!1),[n,s]=nt.useState(null),[l,a]=nt.useState(!1),[u,d]=nt.useState("both");nt.useEffect(()=>{f();const{data:g}=rn.auth.onAuthStateChange((T,_)=>{r(!!_)});return()=>{g.subscription.unsubscribe()}},[]);const f=async()=>{const{data:{session:g}}=await rn.auth.getSession();r(!!g)},m=async()=>{const g=prompt("Enter your email:"),T=prompt("Enter your password:");if(g&&T){const{error:_}=await rn.auth.signInWithPassword({email:g,password:T});_&&alert("Sign in failed. Try signing up first.")}},b=async()=>{const g=prompt("Enter your email:"),T=prompt("Enter your password (min 6 characters):");if(g&&T){const{error:_}=await rn.auth.signUp({email:g,password:T});alert(_?"Sign up failed: "+_.message:"Account created! You can now sign in.")}},E=async()=>{await rn.auth.signOut(),s(null)},O=async(g,T)=>{a(!0);try{const _=g.sort((Z,k)=>Z.name.localeCompare(k.name)),x=await _[0].arrayBuffer(),C=Td(x),R=sg(C,T),j=[],F=[];let $=0,K=0;for(const Z of _){const k=await Z.arrayBuffer(),ee=og(k);if(ee){const ke=Td(k);$=ke.columns||512,K=ke.rows||512,F.push(ee);const re=document.createElement("canvas");re.width=$,re.height=K;const oe=re.getContext("2d");if(oe){const X=oe.createImageData($,K),se=X.data,A=Math.min(...Array.from(ee)),pe=Math.max(...Array.from(ee))-A||1;for(let le=0;le<ee.length;le++){const ae=(ee[le]-A)/pe*255,Oe=le*4;se[Oe]=ae,se[Oe+1]=ae,se[Oe+2]=ae,se[Oe+3]=255}j.push(X)}}}const G=F.length,ne=$*K*G,Q=new Float32Array(ne);let de=1/0,we=-1/0;for(const Z of F)for(let k=0;k<Z.length;k++)Z[k]<de&&(de=Z[k]),Z[k]>we&&(we=Z[k]);const B=we-de||1;for(let Z=0;Z<G;Z++){const k=F[Z];for(let ee=0;ee<k.length;ee++){const ke=(k[ee]-de)/B;Q[Z*$*K+ee]=ke}}if(c){const{data:{user:Z}}=await rn.auth.getUser();if(Z){const{error:k}=await rn.from("dicom_series").insert({user_id:Z.id,series_name:T,body_region:R,num_slices:g.length,metadata:C}).select().maybeSingle();k&&console.error("Error saving series:",k)}}s({slices:j,volumeData:Q,dimensions:[$,K,G],bodyRegion:R,metadata:C})}catch(_){console.error("Error processing DICOM files:",_),alert("Error processing DICOM files. Please check the console for details.")}finally{a(!1)}};return ue.jsxs("div",{className:"app",children:[ue.jsx("header",{className:"app-header",children:ue.jsxs("div",{className:"header-content",children:[ue.jsxs("div",{className:"logo-section",children:[ue.jsx("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),ue.jsx("h1",{children:"MediVision XR"})]}),ue.jsx("div",{className:"auth-section",children:c?ue.jsx("button",{onClick:E,className:"auth-btn",children:"Sign Out"}):ue.jsxs(ue.Fragment,{children:[ue.jsx("button",{onClick:m,className:"auth-btn",children:"Sign In"}),ue.jsx("button",{onClick:b,className:"auth-btn primary",children:"Sign Up"})]})})]})}),ue.jsxs("main",{className:"app-main",children:[n?ue.jsxs("div",{className:"viewer-section",children:[ue.jsxs("div",{className:"viewer-controls-bar",children:[ue.jsx("button",{className:u==="2d"?"active":"",onClick:()=>d("2d"),children:"2D View"}),ue.jsx("button",{className:u==="3d"?"active":"",onClick:()=>d("3d"),children:"3D View"}),ue.jsx("button",{className:u==="both"?"active":"",onClick:()=>d("both"),children:"Split View"}),ue.jsx("button",{className:"new-upload-btn",onClick:()=>s(null),children:"New Upload"})]}),ue.jsxs("div",{className:`viewer-grid ${u}`,children:[(u==="2d"||u==="both")&&ue.jsx(Bm,{slices:n.slices,metadata:n.metadata}),(u==="3d"||u==="both")&&ue.jsx(Ym,{volumeData:n.volumeData,dimensions:n.dimensions,bodyRegion:n.bodyRegion})]})]}):ue.jsxs("div",{className:"welcome-section",children:[ue.jsxs("div",{className:"hero",children:[ue.jsx("h2",{children:"Advanced Medical Imaging Visualization"}),ue.jsx("p",{children:"Upload DICOM files to view interactive 2D slices and 3D volume renderings"}),ue.jsxs("div",{className:"features",children:[ue.jsxs("div",{className:"feature",children:[ue.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),ue.jsx("h3",{children:"2D Slice Viewing"}),ue.jsx("p",{children:"Navigate through cross-sectional images with adjustable brightness and contrast"})]}),ue.jsxs("div",{className:"feature",children:[ue.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})}),ue.jsx("h3",{children:"3D Volume Rendering"}),ue.jsx("p",{children:"Interactive 3D visualization with region-specific presets"})]}),ue.jsxs("div",{className:"feature",children:[ue.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),ue.jsx("h3",{children:"Secure Storage"}),ue.jsx("p",{children:"Your medical data is securely stored and accessible only to you"})]})]})]}),ue.jsx(Lm,{onUploadComplete:O})]}),l&&ue.jsxs("div",{className:"processing-overlay",children:[ue.jsx("div",{className:"spinner"}),ue.jsx("p",{children:"Processing DICOM files..."})]})]}),ue.jsxs("footer",{className:"app-footer",children:[ue.jsx("p",{children:"MediVision XR - Making Medical Imaging Accessible"}),ue.jsx("p",{className:"footer-subtext",children:"Affordable, Interactive, AI-Powered 3D Medical Training"})]})]})}Dm.createRoot(document.getElementById("root")).render(ue.jsx(nt.StrictMode,{children:ue.jsx(C0,{})}));
